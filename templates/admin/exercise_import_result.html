<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>å¯¼å…¥ç»“æœ</title><style>* {margin:0;padding:0;box-sizing:border-box}body {font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;background:#f8f9fa;color:#333;line-height:1.6}.result-container {max-width:800px;margin:20px auto;background:white;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.1);overflow:hidden}.result-header {padding:30px;text-align:center;color:white}.result-header.success {background:linear-gradient(135deg, #28a745 0%, #20c997 100%)}.result-header.error {background:linear-gradient(135deg, #dc3545 0%, #fd7e14 100%)}.result-icon {font-size:4em;margin-bottom:15px}.result-title {font-size:2em;margin-bottom:10px}.result-subtitle {opacity:0.9;font-size:1.1em}.result-content {padding:40px}.stats-grid {display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:20px;margin-bottom:30px}.stat-card {background:#f8f9fa;padding:25px;border-radius:8px;text-align:center;border:1px solid #e9ecef}.stat-number {font-size:2.5em;font-weight:bold;margin-bottom:10px}.stat-number.success {color:#28a745}.stat-number.error {color:#dc3545}.stat-label {color:#6c757d;font-size:1em}.errors-section {background:#f8d7da;border:1px solid #f5c6cb;border-radius:8px;padding:25px;margin-bottom:30px}.errors-title {color:#721c24;font-size:1.2em;margin-bottom:15px;display:flex;align-items:center}.errors-title::before {content:'âš ï¸';margin-right:10px;font-size:1.5em}.error-list {max-height:300px;overflow-y:auto;background:white;border-radius:6px;padding:15px}.error-item {padding:10px 0;border-bottom:1px solid #f5c6cb;color:#721c24}.error-item:last-child {border-bottom:none}.success-section {background:#d4edda;border:1px solid #c3e6cb;border-radius:8px;padding:25px;margin-bottom:30px}.success-title {color:#155724;font-size:1.2em;margin-bottom:15px;display:flex;align-items:center}.success-title::before {content:'âœ…';margin-right:10px;font-size:1.5em}.success-text {color:#155724;line-height:1.7}.actions-section {display:flex;justify-content:center;gap:15px;padding:30px 0;border-top:1px solid #e9ecef}.btn {display:inline-block;padding:12px 24px;border-radius:6px;text-decoration:none;font-weight:bold;transition:all 0.3s ease;border:none;cursor:pointer;font-size:1em}.btn-primary {background:#007bff;color:white}.btn-success {background:#28a745;color:white}.btn-secondary {background:#6c757d;color:white}.btn-warning {background:#ffc107;color:#212529}.btn:hover {transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.1)}.tips-section {background:#d1ecf1;border:1px solid #bee5eb;border-radius:8px;padding:25px;margin-bottom:30px}.tips-title {color:#0c5460;font-size:1.1em;margin-bottom:15px;display:flex;align-items:center}.tips-title::before {content:'ğŸ’¡';margin-right:10px;font-size:1.3em}.tips-list {color:#0c5460;padding-left:20px}.tips-list li {margin-bottom:8px}@media (max-width:768px) {.result-container {margin:10px;border-radius:8px}.result-content {padding:20px}.stats-grid {grid-template-columns:repeat(2, 1fr)}.actions-section {flex-direction:column;align-items:center}}</style></head><body><div class="result-container"><!-- ç»“æœå¤´éƒ¨ --><div class="result-header {% if success %}success{% else %}error{% endif %}"><div class="result-icon">
                {% if success %}âœ…{% else %}âŒ{% endif %}
            </div><div class="result-title">
                {% if success %}å¯¼å…¥å®Œæˆ{% else %}å¯¼å…¥å¤±è´¥{% endif %}
            </div><div class="result-subtitle">
                {% if success %}
                    ç»ƒä¹ é¢˜å·²æˆåŠŸå¯¼å…¥åˆ°ç³»ç»Ÿä¸­
                {% else %}
                    å¯¼å…¥è¿‡ç¨‹ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜
                {% endif %}
            </div></div><!-- ç»“æœå†…å®¹ --><div class="result-content"><!-- ç»Ÿè®¡ä¿¡æ¯ --><div class="stats-grid"><div class="stat-card"><div class="stat-number success">{{ imported_count|default:0 }}</div><div class="stat-label">æˆåŠŸå¯¼å…¥</div></div><div class="stat-card"><div class="stat-number error">{{ errors|length|default:0 }}</div><div class="stat-label">å¯¼å…¥å¤±è´¥</div></div></div><!-- æˆåŠŸä¿¡æ¯ -->
            {% if imported_count > 0 %}
            <div class="success-section"><div class="success-title">å¯¼å…¥æˆåŠŸ</div><div class="success-text">
                    æ­å–œï¼å·²æˆåŠŸå¯¼å…¥ <strong>{{ imported_count }}</strong> é“ç»ƒä¹ é¢˜ã€‚
                    è¿™äº›é¢˜ç›®ç°åœ¨å¯ä»¥åœ¨ç»ƒä¹ é¢˜ç®¡ç†é¡µé¢ä¸­æŸ¥çœ‹å’Œç¼–è¾‘ã€‚
                </div></div>
            {% endif %}
            
            <!-- é”™è¯¯ä¿¡æ¯ -->
            {% if errors %}
            <div class="errors-section"><div class="errors-title">å¯¼å…¥é”™è¯¯è¯¦æƒ…</div><div class="error-list">
                    {% for error in errors %}
                    <div class="error-item">{{ error }}</div>
                    {% endfor %}
                </div></div>
            {% endif %}
            
            <!-- ä½¿ç”¨æç¤º --><div class="tips-section"><div class="tips-title">å¯¼å…¥æç¤º</div><ul class="tips-list"><li>ç¡®ä¿CSVæ–‡ä»¶ä½¿ç”¨UTF-8ç¼–ç ï¼Œé¿å…ä¸­æ–‡ä¹±ç </li><li>å¿…å¡«å­—æ®µä¸èƒ½ä¸ºç©ºï¼štitle, question_text, correct_answer, category, difficulty, question_type</li><li>é€‰æ‹©é¢˜å¿…é¡»å¡«å†™é€‰é¡¹å†…å®¹ï¼ˆoption_A, option_Bç­‰ï¼‰</li><li>å¤šé€‰é¢˜ç­”æ¡ˆç”¨é€—å·åˆ†éš”ï¼Œå¦‚ï¼šA,C,D</li><li>å¦‚æœåˆ†ç±»æˆ–éš¾åº¦ä¸å­˜åœ¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»º</li><li>å»ºè®®å…ˆå¯¼å…¥å°‘é‡æ•°æ®æµ‹è¯•æ ¼å¼æ˜¯å¦æ­£ç¡®</li></ul></div></div><!-- æ“ä½œæŒ‰é’® --><div class="actions-section">
            {% if imported_count > 0 %}
            <a href="{% url 'admin:knowledge_app_exercise_changelist' %}" class="btn btn-success">
                ğŸ“‹ æŸ¥çœ‹å¯¼å…¥çš„é¢˜ç›®
            </a>
            {% endif %}
            
            {% if errors %}
            <a href="{% url 'knowledge_app:exercise_import' %}" class="btn btn-warning">
                ğŸ”„ é‡æ–°å¯¼å…¥
            </a>
            {% endif %}
            
            <a href="{% url 'admin:knowledge_app_exercise_changelist' %}" class="btn btn-primary">
                ğŸ“ ç®¡ç†ç»ƒä¹ é¢˜
            </a><a href="{% url 'admin:index' %}" class="btn btn-secondary">
                ğŸ  è¿”å›é¦–é¡µ
            </a></div></div><script>{% if imported_count > 0 %} setTimeout(function() { console.log('å¯¼å…¥å®Œæˆï¼Œå…±å¯¼å…¥ {{ imported_count }} é“é¢˜ç›®'); }, 1000); {% endif %} {% if errors %} function copyErrors() { const errors = [ {% for error in errors %} "{{ error|escapejs }}", {% endfor %} ]; const errorText = errors.join('\n'); if (navigator.clipboard) { navigator.clipboard.writeText(errorText).then(function() { alert('é”™è¯¯ä¿¡æ¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿'); }); } else { const textArea = document.createElement('textarea'); textArea.value = errorText; document.body.appendChild(textArea); textArea.select(); document.execCommand('copy'); document.body.removeChild(textArea); alert('é”™è¯¯ä¿¡æ¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿'); } } const errorsSection = document.querySelector('.errors-section'); if (errorsSection) { const copyBtn = document.createElement('button'); copyBtn.className = 'btn btn-secondary'; copyBtn.style.marginTop = '15px'; copyBtn.innerHTML = 'ğŸ“‹ å¤åˆ¶é”™è¯¯ä¿¡æ¯'; copyBtn.onclick = copyErrors; errorsSection.appendChild(copyBtn); } {% endif %}</script></body></html>
