<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>È¢òÁõÆÈ¢ÑËßà - {{ exercise.title }}</title><style>* {margin:0;padding:0;box-sizing:border-box}body {font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;background:#f8f9fa;color:#333;line-height:1.6}.preview-container {max-width:800px;margin:20px auto;background:white;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.1);overflow:hidden}.preview-header {background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);color:white;padding:30px;text-align:center}.preview-header h1 {font-size:1.8em;margin-bottom:10px}.preview-meta {display:flex;justify-content:center;gap:20px;margin-top:15px;flex-wrap:wrap}.meta-item {background:rgba(255,255,255,0.2);padding:5px 12px;border-radius:20px;font-size:0.9em}.preview-content {padding:40px}.question-section {margin-bottom:30px}.question-text {font-size:1.1em;color:#495057;margin-bottom:20px;line-height:1.7}.question-image {text-align:center;margin:20px 0}.question-image img {max-width:100%;height:auto;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.1)}.options-section {margin-bottom:30px}.option-item {display:flex;align-items:flex-start;padding:15px;margin-bottom:10px;background:#f8f9fa;border-radius:8px;border:2px solid transparent;transition:all 0.3s ease}.option-item:hover {background:#e9ecef;border-color:#007bff}.option-label {font-weight:bold;color:#007bff;margin-right:12px;min-width:25px}.option-text {flex:1;color:#495057}.answer-section {background:#d4edda;border:1px solid #c3e6cb;border-radius:8px;padding:20px;margin-bottom:30px}.answer-section h3 {color:#155724;margin-bottom:10px;font-size:1.1em}.answer-text {color:#155724;font-weight:bold}.explanation-section {background:#fff3cd;border:1px solid #ffeaa7;border-radius:8px;padding:20px;margin-bottom:30px}.explanation-section h3 {color:#856404;margin-bottom:15px;font-size:1.1em}.explanation-text {color:#856404;line-height:1.7}.hints-section {background:#d1ecf1;border:1px solid #bee5eb;border-radius:8px;padding:20px;margin-bottom:30px}.hints-section h3 {color:#0c5460;margin-bottom:15px;font-size:1.1em}.hint-item {background:white;padding:12px 15px;margin-bottom:10px;border-radius:6px;border-left:4px solid #17a2b8;color:#0c5460}.hint-item:last-child {margin-bottom:0}.stats-section {display:grid;grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));gap:20px;margin-top:30px}.stat-card {background:#f8f9fa;padding:20px;border-radius:8px;text-align:center;border:1px solid #e9ecef}.stat-number {font-size:1.5em;font-weight:bold;color:#007bff;margin-bottom:5px}.stat-label {color:#6c757d;font-size:0.9em}.preview-actions {background:#f8f9fa;padding:20px;text-align:center;border-top:1px solid #e9ecef}.btn {display:inline-block;padding:10px 20px;margin:0 10px;border-radius:6px;text-decoration:none;font-weight:bold;transition:all 0.3s ease;border:none;cursor:pointer}.btn-primary {background:#007bff;color:white}.btn-secondary {background:#6c757d;color:white}.btn-success {background:#28a745;color:white}.btn:hover {transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.1)}@media (max-width:768px) {.preview-container {margin:10px;border-radius:8px}.preview-content {padding:20px}.preview-meta {flex-direction:column;gap:10px}.stats-section {grid-template-columns:repeat(2, 1fr)}}</style></head><body><div class="preview-container"><!-- Â§¥ÈÉ®‰ø°ÊÅØ --><div class="preview-header"><h1>{{ exercise.title }}</h1><div class="preview-meta"><div class="meta-item">{{ exercise.get_question_type_display }}</div><div class="meta-item">{{ exercise.category.name }}</div><div class="meta-item">{{ exercise.difficulty.name }}</div>
                {% if exercise.time_limit %}
                <div class="meta-item">‚è±Ô∏è {{ exercise.time_limit }}Áßí</div>
                {% endif %}
            </div></div><!-- ‰∏ªË¶ÅÂÜÖÂÆπ --><div class="preview-content"><!-- È¢òÁõÆÂÜÖÂÆπ --><div class="question-section"><div class="question-text">{{ exercise.question_text|linebreaks }}</div>
                {% if exercise.question_image %}
                <div class="question-image"><img src="{{ exercise.question_image.url }}" alt="È¢òÁõÆÂõæÁâá"></div>
                {% endif %}
            </div><!-- ÈÄâÈ°πÔºàÂ¶ÇÊûúÊòØÈÄâÊã©È¢òÔºâ -->
            {% if exercise.question_type in 'single_choice,multiple_choice' and exercise.options %}
            <div class="options-section">
                {% for key, value in exercise.options.items %}
                <div class="option-item"><div class="option-label">{{ key }}.</div><div class="option-text">{{ value }}</div></div>
                {% endfor %}
            </div>
            {% endif %}
            
            <!-- Ê≠£Á°ÆÁ≠îÊ°à --><div class="answer-section"><h3>‚úÖ Ê≠£Á°ÆÁ≠îÊ°à</h3><div class="answer-text">{{ exercise.correct_answer }}</div></div><!-- Á≠îÊ°àËß£Êûê -->
            {% if exercise.explanation %}
            <div class="explanation-section"><h3>üí° Á≠îÊ°àËß£Êûê</h3><div class="explanation-text">{{ exercise.explanation|linebreaks }}</div>
                {% if exercise.explanation_image %}
                <div class="question-image"><img src="{{ exercise.explanation_image.url }}" alt="Ëß£ÊûêÂõæÁâá"></div>
                {% endif %}
            </div>
            {% endif %}
            
            <!-- ÊèêÁ§∫‰ø°ÊÅØ -->
            {% if exercise.hints %}
            <div class="hints-section"><h3>üîç ÊèêÁ§∫‰ø°ÊÅØ</h3>
                {% for hint in exercise.hints %}
                <div class="hint-item">{{ hint }}</div>
                {% endfor %}
            </div>
            {% endif %}
            
            <!-- ÁªüËÆ°‰ø°ÊÅØ --><div class="stats-section"><div class="stat-card"><div class="stat-number">{{ exercise.view_count }}</div><div class="stat-label">ÊµèËßàÊ¨°Êï∞</div></div><div class="stat-card"><div class="stat-number">{{ exercise.attempt_count }}</div><div class="stat-label">Â∞ùËØïÊ¨°Êï∞</div></div><div class="stat-card"><div class="stat-number">{{ exercise.correct_count }}</div><div class="stat-label">Ê≠£Á°ÆÊ¨°Êï∞</div></div><div class="stat-card"><div class="stat-number">{{ exercise.success_rate }}%</div><div class="stat-label">Ê≠£Á°ÆÁéá</div></div></div></div><!-- Êìç‰ΩúÊåâÈíÆ --><div class="preview-actions"><a href="{% url 'knowledge_app:exercise_test' exercise.id %}" class="btn btn-success" target="_blank">
                üß™ ÊµãËØïÁ≠îÈ¢ò
            </a><a href="{% url 'admin:knowledge_app_exercise_change' exercise.id %}" class="btn btn-primary">
                ‚úèÔ∏è ÁºñËæëÈ¢òÁõÆ
            </a><button onclick="window.close()" class="btn btn-secondary">
                ‚ùå ÂÖ≥Èó≠È¢ÑËßà
            </button></div></div></body></html>
