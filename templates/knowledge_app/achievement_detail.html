{% extends 'knowledge_app/base.html' %}

{% block title %}{{ achievement.name }} - æˆå°±è¯¦æƒ… - è®¡ç®—æœºç§‘å­¦å­¦ä¹ å¹³å°{% endblock %}

{% block extra_css %}
<style>* {box-sizing:border-box}body {font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;line-height:1.6;color:var(--text-primary);background:linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);min-height:100vh;margin:0;padding:0}.page-layout {min-height:100vh;display:flex;flex-direction:column}.main-content {flex:1;width:100%}.detail-container {max-width:1400px;margin:0 auto;padding:50px 40px;min-height:100vh;position:relative;z-index:1}.breadcrumb {display:flex;align-items:center;gap:10px;font-size:0.9rem;margin-bottom:32px;flex-wrap:wrap}.breadcrumb-item {color:rgba(255, 255, 255, 0.9);text-decoration:none;transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);padding:6px 12px;border-radius:16px;background:rgba(255, 255, 255, 0.12);backdrop-filter:blur(8px);border:1px solid rgba(255, 255, 255, 0.1)}.breadcrumb-item:hover {color:var(--text-inverse);background:rgba(255, 255, 255, 0.25);transform:translateY(-2px);box-shadow:var(--shadow-md)}.breadcrumb-separator {color:rgba(255, 255, 255, 0.7);font-weight:500;font-size:1.1rem}.breadcrumb-current {color:var(--text-inverse);font-weight:600;background:rgba(255, 255, 255, 0.2);padding:6px 12px;border-radius:16px}.achievement-detail {background:var(--bg-card);backdrop-filter:blur(20px);border-radius:30px;padding:60px 50px;box-shadow:0 25px 80px rgba(0,0,0,0.1), 0 10px 30px rgba(0,0,0,0.05);position:relative;overflow:hidden;border:1px solid rgba(255, 255, 255, 0.3);margin:0 20px 50px 20px;transition:all 0.3s ease}.achievement-detail:hover {transform:translateY(-5px);box-shadow:0 35px 100px rgba(0,0,0,0.12), 0 15px 40px rgba(0,0,0,0.08)}.achievement-detail::before {content:'';position:absolute;top:0;left:0;right:0;height:6px;background:linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 50%, var(--accent-color) 100%);border-radius:30px 30px 0 0}.achievement-detail.unlocked::before {background:linear-gradient(90deg, #4caf50 0%, #66bb6a 50%, #81c784 100%);animation:glow 2s ease-in-out infinite alternate}@keyframes glow {from {box-shadow:0 0 20px rgba(76, 175, 80, 0.3)}to {box-shadow:0 0 30px rgba(76, 175, 80, 0.6)}}.achievement-detail::after {content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg, transparent, rgba(102, 126, 234, 0.03), transparent);animation:shimmer 4s infinite}@keyframes shimmer {0% {transform:translateX(-100%) translateY(-100%) rotate(45deg)}100% {transform:translateX(100%) translateY(100%) rotate(45deg)}}.achievement-header {display:flex;align-items:flex-start;gap:32px;margin-bottom:40px}.achievement-icon-large {font-size:5rem;width:120px;height:120px;background:linear-gradient(135deg, #f1f5f9, #e2e8f0);border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all 0.3s ease;box-shadow:var(--shadow-md)}.achievement-detail.unlocked .achievement-icon-large {background:linear-gradient(135deg, #4caf50, #66bb6a);color:var(--text-inverse);box-shadow:0 8px 32px rgba(76, 175, 80, 0.3);animation:pulse 2s infinite}@keyframes pulse {0%, 100% {transform:scale(1)}50% {transform:scale(1.05)}}.achievement-info {flex:1;min-width:0}.achievement-name {font-size:3.5rem;font-weight:900;background:linear-gradient(135deg, #2d3748 0%, #4a5568 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:20px;letter-spacing:-0.02em;line-height:1.2;text-shadow:0 4px 8px rgba(0, 0, 0, 0.1);position:relative;z-index:1}.achievement-description {font-size:1.4rem;color:var(--text-secondary);line-height:1.7;margin-bottom:30px;font-weight:500;position:relative;z-index:1}.achievement-meta-grid {display:grid;grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));gap:20px;margin-bottom:40px;position:relative;z-index:1}.meta-item {background:linear-gradient(135deg, rgba(248, 250, 252, 0.9) 0%, rgba(241, 245, 249, 0.9) 100%);backdrop-filter:blur(10px);padding:20px;border-radius:16px;text-align:center;border:1px solid rgba(102, 126, 234, 0.1);transition:all 0.3s ease;position:relative;overflow:hidden}.meta-item::before {content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);border-radius:16px 16px 0 0;opacity:0;transition:opacity 0.3s ease}.meta-item:hover::before {opacity:1}.meta-item:hover {transform:translateY(-3px);box-shadow:0 10px 30px rgba(102, 126, 234, 0.1);border-color:rgba(102, 126, 234, 0.3)}.meta-label {font-size:0.9rem;color:var(--text-muted);font-weight:700;text-transform:uppercase;letter-spacing:0.8px;margin-bottom:10px;position:relative;z-index:1}.meta-value {font-size:1.3rem;font-weight:800;color:var(--text-primary);position:relative;z-index:1}.meta-value.points {background:linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.meta-value.unlocked {background:linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.meta-value.locked {background:linear-gradient(135deg, #f57c00 0%, #ff9800 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.detail-sections {display:grid;grid-template-columns:1fr;gap:40px;position:relative;z-index:1}.detail-section {background:linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(241, 245, 249, 0.95) 100%);backdrop-filter:blur(15px);border-radius:25px;padding:40px 35px;border:1px solid rgba(102, 126, 234, 0.1);transition:all 0.3s ease;position:relative;overflow:hidden}.detail-section::before {content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);border-radius:25px 25px 0 0;opacity:0;transition:opacity 0.3s ease}.detail-section:hover::before {opacity:1}.detail-section:hover {transform:translateY(-3px);box-shadow:0 15px 40px rgba(102, 126, 234, 0.1);border-color:rgba(102, 126, 234, 0.3)}.section-title {font-size:1.8rem;font-weight:800;background:linear-gradient(135deg, #2d3748 0%, #4a5568 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:25px;display:flex;align-items:center;gap:15px;position:relative;z-index:1}.section-title span {font-size:2rem;filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))}.section-content {color:var(--text-secondary);line-height:1.7;font-size:1.1rem;font-weight:500;position:relative;z-index:1}.requirements-list, .tips-list {list-style:none;padding:0;margin:0}.requirements-list li, .tips-list li {padding:18px 0 18px 40px;position:relative;border-bottom:1px solid rgba(102, 126, 234, 0.1);transition:all 0.3s ease;font-size:1.1rem;font-weight:500}.requirements-list li:hover, .tips-list li:hover {background:linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);border-radius:12px;transform:translateX(5px);padding-left:45px;margin-left:-10px;margin-right:-10px}.requirements-list li:last-child, .tips-list li:last-child {border-bottom:none}.requirements-list li::before {content:'âœ“';position:absolute;left:0;top:18px;color:#4caf50;font-weight:900;font-size:1.3rem;background:linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))}.tips-list li::before {content:'ğŸ’¡';position:absolute;left:0;top:18px;font-size:1.2rem;filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1))}.progress-section {background:linear-gradient(135deg, rgba(248, 250, 252, 0.95) 0%, rgba(255, 255, 255, 0.95) 100%);border:2px solid rgba(102, 126, 234, 0.2);backdrop-filter:blur(10px)}.progress-header {display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.progress-percentage {font-size:2.5rem;font-weight:900;background:linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-shadow:0 4px 8px rgba(0, 0, 0, 0.1);animation:countUp 1s ease-out}@keyframes countUp {from {opacity:0;transform:scale(0.5)}to {opacity:1;transform:scale(1)}}.achievement-detail.unlocked .progress-percentage {background:linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;animation:glow-text 2s ease-in-out infinite alternate}@keyframes glow-text {from {filter:drop-shadow(0 0 5px rgba(76, 175, 80, 0.3))}to {filter:drop-shadow(0 0 15px rgba(76, 175, 80, 0.6))}}.progress-bar-large {width:100%;height:16px;background:rgba(226, 232, 240, 0.8);border-radius:12px;overflow:hidden;margin-bottom:20px;box-shadow:inset 0 2px 4px rgba(0, 0, 0, 0.1);position:relative}.progress-bar-large::before {content:'';position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg, rgba(255, 255, 255, 0.3) 0%, transparent 100%);border-radius:12px 12px 0 0}.progress-fill-large {height:100%;background:linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);border-radius:12px;transition:width 1.2s cubic-bezier(0.4, 0, 0.2, 1);position:relative;overflow:hidden}.progress-fill-large::before {content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);animation:shimmer-progress 2s infinite}@keyframes shimmer-progress {0% {left:-100%}100% {left:100%}}.achievement-detail.unlocked .progress-fill-large {background:linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);animation:pulse-success 2s ease-in-out infinite}@keyframes pulse-success {0%, 100% {box-shadow:0 0 0 0 rgba(76, 175, 80, 0.4)}50% {box-shadow:0 0 0 10px rgba(76, 175, 80, 0)}}.related-achievements {display:grid;grid-template-columns:repeat(auto-fit, minmax(320px, 1fr));gap:30px;margin-top:40px}.related-achievement {background:var(--bg-card);backdrop-filter:blur(15px);border-radius:var(--border-radius-lg);padding:30px 25px;border:1px solid rgba(102, 126, 234, 0.1);transition:all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);text-decoration:none;color:inherit;cursor:pointer;position:relative;overflow:hidden}.related-achievement::before {content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg, var(--primary-color) 0%, var(--secondary-color) 100%);border-radius:20px 20px 0 0;opacity:0;transition:opacity 0.3s ease}.related-achievement:hover::before {opacity:1}.related-achievement:hover {transform:translateY(-6px) scale(1.02);box-shadow:0 20px 50px rgba(102, 126, 234, 0.15);text-decoration:none;color:inherit;border-color:rgba(102, 126, 234, 0.3)}.related-header {display:flex;align-items:center;gap:20px;margin-bottom:15px}.related-icon {font-size:2.2rem;width:56px;height:56px;background:linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;filter:drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));transition:all 0.3s ease}.related-achievement:hover .related-icon {transform:scale(1.1);background:linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%)}.related-name {font-size:1.2rem;font-weight:700;background:linear-gradient(135deg, #2d3748 0%, #4a5568 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0}.related-description {color:var(--text-secondary);font-size:0.9rem;line-height:1.6}@media (max-width:768px) {.detail-container {padding:28px 20px}.achievement-detail {padding:36px 28px}.achievement-header {flex-direction:column;align-items:center;text-align:center;gap:24px}.achievement-name {font-size:2.4rem}.achievement-meta-grid {grid-template-columns:repeat(2, 1fr);gap:12px}.related-achievements {grid-template-columns:1fr;gap:16px}}@keyframes fadeInUp {from {opacity:0;transform:translateY(30px)}to {opacity:1;transform:translateY(0)}}.detail-container {animation:fadeInUp 0.8s ease-out}.achievement-detail {animation:fadeInUp 0.6s ease-out 0.2s both}.detail-section {animation:fadeInUp 0.4s ease-out both}.detail-section:nth-child(1) {animation-delay:0.3s}.detail-section:nth-child(2) {animation-delay:0.4s}.detail-section:nth-child(3) {animation-delay:0.5s}.action-buttons {display:flex;gap:20px;justify-content:center;flex-wrap:wrap;margin:40px 0 20px 0;padding:30px;background:rgba(255, 255, 255, 0.05);backdrop-filter:blur(10px);border-radius:25px;border:1px solid rgba(255, 255, 255, 0.1);position:relative;z-index:1}.btn {padding:15px 30px;border-radius:var(--border-radius);text-decoration:none;font-weight:600;font-size:1rem;border:none;cursor:pointer;display:flex;align-items:center;gap:10px;transition:all 0.3s ease;position:relative;overflow:hidden;box-shadow:var(--shadow-md);min-width:150px;justify-content:center}.btn::before {content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);transition:left 0.5s ease}.btn:hover::before {left:100%}.btn-primary {background:linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);color:var(--text-inverse);border:1px solid rgba(255, 255, 255, 0.2)}.btn-primary:hover {transform:translateY(-3px);box-shadow:0 15px 40px rgba(102, 126, 234, 0.4);background:linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%)}.btn-success {background:linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);color:var(--text-inverse);border:1px solid rgba(255, 255, 255, 0.2)}.btn-success:hover {transform:translateY(-3px);box-shadow:0 15px 40px rgba(76, 175, 80, 0.4);background:linear-gradient(135deg, #43a047 0%, #5cb85c 100%)}.btn-secondary {background:var(--bg-card);color:var(--text-secondary);border:1px solid rgba(0, 0, 0, 0.1);backdrop-filter:blur(10px)}.btn-secondary:hover {background:var(--bg-card);transform:translateY(-3px);box-shadow:var(--shadow-md);color:var(--text-primary)}.btn-outline {background:transparent;color:var(--primary-color);border:2px solid var(--primary-color);backdrop-filter:blur(10px)}.btn-outline:hover {background:var(--primary-color);color:var(--text-inverse);transform:translateY(-3px);box-shadow:0 15px 40px rgba(102, 126, 234, 0.3)}.btn span {font-size:1.2rem;filter:drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2))}@media (max-width:768px) {.detail-container {padding:30px 25px}.breadcrumb {padding:12px 16px;margin-bottom:30px;border-radius:var(--border-radius)}.breadcrumb-item, .breadcrumb-current {padding:6px 12px;font-size:0.9rem}.achievement-detail {padding:40px 30px;margin:0 10px 40px 10px;border-radius:25px}.achievement-header {flex-direction:column;text-align:center;gap:25px}.achievement-icon-large {font-size:5rem}.achievement-name {font-size:2.5rem}.achievement-description {font-size:1.2rem}.achievement-meta-grid {grid-template-columns:repeat(2, 1fr);gap:15px}.meta-item {padding:15px}.meta-value {font-size:1.1rem}.detail-sections {gap:30px}.detail-section {padding:30px 25px;border-radius:var(--border-radius-lg)}.section-title {font-size:1.5rem}.section-title span {font-size:1.7rem}.progress-percentage {font-size:2rem}.progress-bar-large {height:14px}.related-achievements {grid-template-columns:1fr;gap:20px}.related-achievement {padding:25px 20px;border-radius:18px}.related-icon {width:48px;height:48px;font-size:2rem}.related-name {font-size:1.1rem}.action-buttons {flex-direction:column;align-items:center;margin:30px 0 15px 0;padding:25px}.btn {width:100%;max-width:280px;padding:12px 25px}}</style>
{% endblock %}

{% block content %}
<main class="page-layout" role="main"><div class="main-content"><div class="detail-container"><!-- é¢åŒ…å±‘å¯¼èˆª --><nav class="breadcrumb" aria-label="é¢åŒ…å±‘å¯¼èˆª"><a href="{% url 'knowledge_app:index' %}" class="breadcrumb-item" aria-label="è¿”å›é¦–é¡µ">
                    ğŸ  é¦–é¡µ
                </a><span class="breadcrumb-separator" aria-hidden="true">â€º</span><a href="{% url 'knowledge_app:achievements' %}" class="breadcrumb-item" aria-label="è¿”å›æˆå°±åˆ—è¡¨">
                    ğŸ† æˆå°±ç³»ç»Ÿ
                </a><span class="breadcrumb-separator" aria-hidden="true">â€º</span><span class="breadcrumb-current" aria-current="page">{{ achievement.name }}</span></nav><!-- æˆå°±è¯¦æƒ… --><article class="achievement-detail {% if achievement.unlocked %}unlocked{% endif %}"><header class="achievement-header"><div class="achievement-icon-large">{{ achievement.icon }}</div><div class="achievement-info"><h1 class="achievement-name">{{ achievement.name }}</h1><p class="achievement-description">{{ achievement.detailed_description }}</p><div class="achievement-meta-grid"><div class="meta-item"><div class="meta-label">ç§¯åˆ†å¥–åŠ±</div><div class="meta-value points">{{ achievement.points }} åˆ†</div></div><div class="meta-item"><div class="meta-label">éš¾åº¦ç­‰çº§</div><div class="meta-value">
                                    {% if achievement.difficulty == 'easy' %}ç®€å•
                                    {% elif achievement.difficulty == 'medium' %}ä¸­ç­‰
                                    {% elif achievement.difficulty == 'hard' %}å›°éš¾
                                    {% else %}{{ achievement.difficulty }}{% endif %}
                                </div></div><div class="meta-item"><div class="meta-label">ç¨€æœ‰åº¦</div><div class="meta-value">
                                    {% if achievement.rarity == 'common' %}å¸¸è§
                                    {% elif achievement.rarity == 'uncommon' %}å°‘è§
                                    {% elif achievement.rarity == 'rare' %}ç¨€æœ‰
                                    {% elif achievement.rarity == 'epic' %}å²è¯—
                                    {% elif achievement.rarity == 'legendary' %}ä¼ è¯´
                                    {% else %}{{ achievement.rarity }}{% endif %}
                                </div></div><div class="meta-item"><div class="meta-label">çŠ¶æ€</div><div class="meta-value {% if achievement.unlocked %}unlocked{% else %}locked{% endif %}">
                                    {% if achievement.unlocked %}å·²è§£é”{% else %}æœªè§£é”{% endif %}
                                </div></div></div></div></header><!-- è¿›åº¦ä¿¡æ¯ --><section class="detail-section progress-section"><h2 class="section-title"><span>ğŸ“Š</span><span>å®Œæˆè¿›åº¦</span></h2><div class="progress-header"><span class="progress-percentage">{{ achievement.progress }}%</span>
                        {% if achievement.unlocked %}
                        <span style="color: #4caf50; font-weight: 600;">
                            ğŸ‰ äº {{ achievement.unlock_date }} è§£é”
                        </span>
                        {% else %}
                        <span style="color: #f57c00; font-weight: 600;">
                            è¿˜éœ€åŠªåŠ› {{ 100|add:achievement.progress|add:"-100" }}%
                        </span>
                        {% endif %}
                    </div><div class="progress-bar-large"><div class="progress-fill-large" style="width: {{ achievement.progress }}%"></div></div>
                    {% if not achievement.unlocked %}
                    <p class="section-content">ç»§ç»­åŠªåŠ›ï¼Œæ‚¨å·²ç»å®Œæˆäº† {{ achievement.progress }}% çš„è¦æ±‚ï¼</p>
                    {% else %}
                    <p class="section-content">æ­å–œæ‚¨æˆåŠŸè§£é”äº†è¿™ä¸ªæˆå°±ï¼æ‚¨çš„åŠªåŠ›å¾—åˆ°äº†è®¤å¯ã€‚</p>
                    {% endif %}
                </section><!-- æ“ä½œæŒ‰é’®åŒºåŸŸ --><section class="action-buttons">
                    {% if not achievement.unlocked %}
                    <button class="btn btn-primary" onclick="startLearning()"><span>ğŸš€</span> å¼€å§‹å­¦ä¹ 
                    </button><button class="btn btn-secondary" onclick="shareAchievement()"><span>ğŸ“¤</span> åˆ†äº«ç›®æ ‡
                    </button>
                    {% else %}
                    <button class="btn btn-success" onclick="shareAchievement()"><span>ğŸ‰</span> åˆ†äº«æˆå°±
                    </button><button class="btn btn-secondary" onclick="viewSimilar()"><span>ğŸ”</span> æŸ¥çœ‹ç›¸ä¼¼
                    </button>
                    {% endif %}
                    <button class="btn btn-outline" onclick="addToFavorites()"><span>â­</span> æ”¶è—
                    </button></section></article><!-- è¯¦ç»†ä¿¡æ¯ --><div class="detail-sections"><!-- è§£é”è¦æ±‚ --><section class="detail-section"><h2 class="section-title"><span>ğŸ“‹</span><span>è§£é”è¦æ±‚</span></h2><ul class="requirements-list">
                        {% for requirement in achievement.requirements %}
                        <li>{{ requirement }}</li>
                        {% endfor %}
                    </ul></section><!-- å­¦ä¹ å»ºè®® --><section class="detail-section"><h2 class="section-title"><span>ğŸ’¡</span><span>å­¦ä¹ å»ºè®®</span></h2><ul class="tips-list">
                        {% for tip in achievement.tips %}
                        <li>{{ tip }}</li>
                        {% endfor %}
                    </ul></section><!-- ç›¸å…³æˆå°± -->
                {% if related_achievements %}
                <section class="detail-section"><h2 class="section-title"><span>ğŸ”—</span><span>ç›¸å…³æˆå°±</span></h2><div class="related-achievements">
                        {% for related in related_achievements %}
                        <a href="{% url 'knowledge_app:achievement_detail' related.id %}" class="related-achievement"><div class="related-header"><div class="related-icon">{{ related.icon }}</div><h3 class="related-name">{{ related.name }}</h3></div><p class="related-description">{{ related.description }}</p></a>
                        {% endfor %}
                    </div></section>
                {% endif %}
            </div></div></div></main>
{% endblock %}

{% block extra_js %}
<script>document.addEventListener('DOMContentLoaded', function() { console.log('ğŸ† æˆå°±è¯¦æƒ…é¡µé¢åŠ è½½å®Œæˆ'); animatePageElements(); animateProgressBar(); initializeInteractions(); }); function animatePageElements() { const breadcrumb = document.querySelector('.breadcrumb'); if (breadcrumb) { breadcrumb.style.opacity = '0'; breadcrumb.style.transform = 'translateY(-20px)'; setTimeout(() => { breadcrumb.style.transition = 'all 0.6s ease'; breadcrumb.style.opacity = '1'; breadcrumb.style.transform = 'translateY(0)'; }, 100); } const achievementDetail = document.querySelector('.achievement-detail'); if (achievementDetail) { achievementDetail.style.opacity = '0'; achievementDetail.style.transform = 'translateY(30px)'; setTimeout(() => { achievementDetail.style.transition = 'all 0.8s ease'; achievementDetail.style.opacity = '1'; achievementDetail.style.transform = 'translateY(0)'; }, 200); } const detailSections = document.querySelectorAll('.detail-section'); detailSections.forEach((section, index) => { section.style.opacity = '0'; section.style.transform = 'translateX(-30px)'; setTimeout(() => { section.style.transition = 'all 0.8s ease'; section.style.opacity = '1'; section.style.transform = 'translateX(0)'; }, 400 + index * 200); }); const relatedAchievements = document.querySelectorAll('.related-achievement'); relatedAchievements.forEach((achievement, index) => { achievement.style.opacity = '0'; achievement.style.transform = 'translateY(20px) scale(0.95)'; setTimeout(() => { achievement.style.transition = 'all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)'; achievement.style.opacity = '1'; achievement.style.transform = 'translateY(0) scale(1)'; }, 800 + index * 150); }); const actionButtons = document.querySelector('.action-buttons'); if (actionButtons) { actionButtons.style.opacity = '0'; actionButtons.style.transform = 'translateY(20px)'; setTimeout(() => { actionButtons.style.transition = 'all 0.8s ease'; actionButtons.style.opacity = '1'; actionButtons.style.transform = 'translateY(0)'; }, 1000); } } function animateProgressBar() { const progressFill = document.querySelector('.progress-fill-large'); if (progressFill) { const targetWidth = progressFill.style.width || '0%'; progressFill.style.width = '0%'; setTimeout(() => { progressFill.style.width = targetWidth; }, 1200); } } function initializeInteractions() { const buttons = document.querySelectorAll('.btn'); buttons.forEach(button => { button.addEventListener('click', function(e) { const ripple = document.createElement('span'); const rect = this.getBoundingClientRect(); const size = Math.max(rect.width, rect.height); const x = e.clientX - rect.left - size / 2; const y = e.clientY - rect.top - size / 2; ripple.style.cssText = ` position: absolute; width: ${size}px; height: ${size}px; left: ${x}px; top: ${y}px; background: rgba(255, 255, 255, 0.3); border-radius: 50%; transform: scale(0); animation: ripple 0.6s ease-out; pointer-events: none; `; this.appendChild(ripple); setTimeout(() => { ripple.remove(); }, 600); }); }); } function startLearning() { showSuccessMessage('æ­£åœ¨ä¸ºæ‚¨è§„åˆ’å­¦ä¹ è·¯å¾„...'); } function shareAchievement() { if (navigator.share) { navigator.share({ title: 'æˆ‘çš„æˆå°±', text: 'æŸ¥çœ‹æˆ‘åœ¨è®¡ç®—æœºç§‘å­¦å­¦ä¹ å¹³å°ä¸Šè·å¾—çš„æˆå°±ï¼', url: window.location.href }); } else { navigator.clipboard.writeText(window.location.href).then(() => { showSuccessMessage('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿'); }); } } function viewSimilar() { showSuccessMessage('æ­£åœ¨ä¸ºæ‚¨å¯»æ‰¾ç›¸ä¼¼æˆå°±...'); } function addToFavorites() { const button = event.target.closest('.btn'); const span = button.querySelector('span'); if (span.textContent === 'â­') { span.textContent = 'âœ…'; button.innerHTML = '<span>âœ…</span> å·²æ”¶è—'; showSuccessMessage('å·²æ·»åŠ åˆ°æ”¶è—'); } else { span.textContent = 'â­'; button.innerHTML = '<span>â­</span> æ”¶è—'; showSuccessMessage('å·²å–æ¶ˆæ”¶è—'); } } function showSuccessMessage(message) { const toast = document.createElement('div'); toast.textContent = message; toast.style.cssText = ` position: fixed; top: 20px; right: 20px; background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: var(--text-inverse); padding: 15px 25px; border-radius: var(--border-radius); font-weight: 600; box-shadow: 0 10px 30px rgba(16, 185, 129, 0.3); z-index: 10000; transform: translateX(400px); transition: transform 0.3s ease; `; document.body.appendChild(toast); setTimeout(() => { toast.style.transform = 'translateX(0)'; }, 100); setTimeout(() => { toast.style.transform = 'translateX(400px)'; setTimeout(() => toast.remove(), 300); }, 3000); } const style = document.createElement('style'); style.textContent = ` @keyframes ripple { to { transform: scale(2); opacity: 0; } } `; document.head.appendChild(style);</script>
{% endblock %}
