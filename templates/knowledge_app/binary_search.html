{% extends 'knowledge_app/base.html' %}

{% block title %}äºŒåˆ†æŸ¥æ‰¾ - è®¡ç®—æœºç§‘å­¦å­¦ä¹ å¹³å°{% endblock %}

{% block content %}
<div class="page-container fade-in"><!-- é¢åŒ…å±‘å¯¼èˆª --><div class="breadcrumb"><a href="{% url 'knowledge_app:index' %}">é¦–é¡µ</a><span>></span><span>ç®—æ³•è®¾è®¡</span><span>></span><span>äºŒåˆ†æŸ¥æ‰¾</span></div><!-- é¡µé¢å¤´éƒ¨ --><div class="page-header slide-in-left"><h1><span class="page-icon">ğŸ”</span>
            äºŒåˆ†æŸ¥æ‰¾ (Binary Search)
        </h1><p>åœ¨æœ‰åºæ•°ç»„ä¸­é«˜æ•ˆæŸ¥æ‰¾å…ƒç´ çš„ç»å…¸ç®—æ³•</p></div><!-- ä¸»è¦å†…å®¹ --><div class="content-card slide-in-right"><!-- ç®—æ³•æ¦‚è¿° --><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ¯</span>
                ç®—æ³•åŸç†
            </h2><div class="concept-explanation"><p class="concept-intro">
                    äºŒåˆ†æŸ¥æ‰¾æ˜¯ä¸€ç§åœ¨<strong>æœ‰åºæ•°ç»„</strong>ä¸­æŸ¥æ‰¾ç‰¹å®šå…ƒç´ çš„æœç´¢ç®—æ³•ã€‚
                    å®ƒé€šè¿‡åå¤å°†æœç´¢åŒºé—´å¯¹åŠåˆ†å‰²ï¼Œå°†æ—¶é—´å¤æ‚åº¦é™ä½åˆ°O(log n)ã€‚
                </p><div class="key-points"><div class="point-item"><span class="point-icon">ğŸ“Š</span><div class="point-content"><h4>å‰ææ¡ä»¶</h4><p>æ•°ç»„å¿…é¡»æ˜¯æœ‰åºçš„ï¼ˆå‡åºæˆ–é™åºï¼‰</p></div></div><div class="point-item"><span class="point-icon">âš¡</span><div class="point-content"><h4>æ ¸å¿ƒæ€æƒ³</h4><p>æ¯æ¬¡æ¯”è¾ƒä¸­é—´å…ƒç´ ï¼Œæ’é™¤ä¸€åŠçš„æœç´¢ç©ºé—´</p></div></div><div class="point-item"><span class="point-icon">ğŸ¯</span><div class="point-content"><h4>æ—¶é—´å¤æ‚åº¦</h4><p>O(log n)ï¼Œæ¯”çº¿æ€§æŸ¥æ‰¾O(n)å¿«å¾—å¤š</p></div></div></div></div></div><!-- å¯è§†åŒ–æ¼”ç¤º --><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ®</span>
                äº¤äº’å¼æ¼”ç¤º
            </h2><div class="interactive-demo"><div class="demo-controls"><div class="control-group"><label>æ•°ç»„ï¼š</label><input type="text" id="array-input" value="1,3,5,7,9,11,13,15,17,19" placeholder="è¾“å…¥æœ‰åºæ•°ç»„ï¼Œç”¨é€—å·åˆ†éš”"><button class="demo-btn" onclick="updateArray()">æ›´æ–°æ•°ç»„</button></div><div class="control-group"><label>æŸ¥æ‰¾ç›®æ ‡ï¼š</label><input type="number" id="target-input" value="7" placeholder="è¾“å…¥è¦æŸ¥æ‰¾çš„æ•°å­—"><button class="demo-btn primary" onclick="startSearch()">å¼€å§‹æŸ¥æ‰¾</button><button class="demo-btn" onclick="resetSearch()">é‡ç½®</button></div></div><div id="array-display" class="array-display"></div><div class="search-info"><div class="info-row"><div class="info-item"><span class="info-label">å½“å‰æ­¥éª¤ï¼š</span><span id="current-step">0</span></div><div class="info-item"><span class="info-label">å·¦è¾¹ç•Œï¼š</span><span id="left-bound">-</span></div><div class="info-item"><span class="info-label">å³è¾¹ç•Œï¼š</span><span id="right-bound">-</span></div><div class="info-item"><span class="info-label">ä¸­é—´ä½ç½®ï¼š</span><span id="mid-position">-</span></div></div><div class="search-result" id="search-result"></div></div></div></div><!-- ç®—æ³•æ­¥éª¤ --><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ“‹</span>
                ç®—æ³•æ­¥éª¤
            </h2><div class="steps-container"><div class="step-item"><div class="step-number">1</div><div class="step-content"><h4>åˆå§‹åŒ–è¾¹ç•Œ</h4><p>è®¾ç½®å·¦è¾¹ç•Œleft=0ï¼Œå³è¾¹ç•Œright=æ•°ç»„é•¿åº¦-1</p></div></div><div class="step-item"><div class="step-number">2</div><div class="step-content"><h4>è®¡ç®—ä¸­ç‚¹</h4><p>mid = left + (right - left) / 2</p></div></div><div class="step-item"><div class="step-number">3</div><div class="step-content"><h4>æ¯”è¾ƒä¸­ç‚¹å€¼</h4><p>å¦‚æœarr[mid] == targetï¼Œæ‰¾åˆ°ç›®æ ‡ï¼›å¦‚æœarr[mid] < targetï¼Œæœç´¢å³åŠéƒ¨åˆ†ï¼›å¦åˆ™æœç´¢å·¦åŠéƒ¨åˆ†</p></div></div><div class="step-item"><div class="step-number">4</div><div class="step-content"><h4>æ›´æ–°è¾¹ç•Œ</h4><p>æ ¹æ®æ¯”è¾ƒç»“æœæ›´æ–°leftæˆ–rightï¼Œé‡å¤æ­¥éª¤2-4ç›´åˆ°æ‰¾åˆ°ç›®æ ‡æˆ–left > right</p></div></div></div></div><!-- ä»£ç å®ç° --><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ’»</span>
                ä»£ç å®ç°
            </h2><div class="code-tabs"><div class="tab-buttons"><button class="tab-btn active" onclick="showTab('python')">Python</button><button class="tab-btn" onclick="showTab('java')">Java</button><button class="tab-btn" onclick="showTab('cpp')">C++</button></div><div id="python-tab" class="tab-content active"><div class="code-example"><div class="code-header"><span class="code-title">Pythonå®ç°</span><button class="copy-btn" onclick="copyCode('python-code')">å¤åˆ¶ä»£ç </button></div><pre id="python-code"><code class="language-python">def binary_search(arr, target):
    """
    äºŒåˆ†æŸ¥æ‰¾ç®—æ³•
    :param arr: æœ‰åºæ•°ç»„
    :param target: ç›®æ ‡å€¼
    :return: ç›®æ ‡å€¼çš„ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å›-1
    """
    left, right = 0, len(arr) - 1
    
    while left <= right:
        # é˜²æ­¢æ•´æ•°æº¢å‡ºçš„å†™æ³•
        mid = left + (right - left) // 2
        
        if arr[mid] == target:
            return mid
        elif arr[mid] < target:
            left = mid + 1  # æœç´¢å³åŠéƒ¨åˆ†
        else:
            right = mid - 1  # æœç´¢å·¦åŠéƒ¨åˆ†
    
    return -1  # æœªæ‰¾åˆ°

# é€’å½’å®ç°
def binary_search_recursive(arr, target, left=0, right=None):
    if right is None:
        right = len(arr) - 1
    
    if left > right:
        return -1
    
    mid = left + (right - left) // 2
    
    if arr[mid] == target:
        return mid
    elif arr[mid] < target:
        return binary_search_recursive(arr, target, mid + 1, right)
    else:
        return binary_search_recursive(arr, target, left, mid - 1)

# ä½¿ç”¨ç¤ºä¾‹
arr = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19]
target = 7
result = binary_search(arr, target)
print(f"ç›®æ ‡å€¼ {target} åœ¨ç´¢å¼• {result} å¤„")</code></pre></div></div><div id="java-tab" class="tab-content"><div class="code-example"><div class="code-header"><span class="code-title">Javaå®ç°</span><button class="copy-btn" onclick="copyCode('java-code')">å¤åˆ¶ä»£ç </button></div><pre id="java-code"><code class="language-java">public class BinarySearch {
    
    public static int binarySearch(int[] arr, int target) {
        int left = 0;
        int right = arr.length - 1;
        
        while (left <= right) {
            int mid = left + (right - left) / 2;
            
            if (arr[mid] == target) {
                return mid;
            } else if (arr[mid] < target) {
                left = mid + 1;
            } else {
                right = mid - 1;
            }
        }
        
        return -1; // æœªæ‰¾åˆ°
    }
    
    // é€’å½’å®ç°
    public static int binarySearchRecursive(int[] arr, int target, int left, int right) {
        if (left > right) {
            return -1;
        }
        
        int mid = left + (right - left) / 2;
        
        if (arr[mid] == target) {
            return mid;
        } else if (arr[mid] < target) {
            return binarySearchRecursive(arr, target, mid + 1, right);
        } else {
            return binarySearchRecursive(arr, target, left, mid - 1);
        }
    }
    
    public static void main(String[] args) {
        int[] arr = {1, 3, 5, 7, 9, 11, 13, 15, 17, 19};
        int target = 7;
        int result = binarySearch(arr, target);
        System.out.println("ç›®æ ‡å€¼ " + target + " åœ¨ç´¢å¼• " + result + " å¤„");
    }
}</code></pre></div></div><div id="cpp-tab" class="tab-content"><div class="code-example"><div class="code-header"><span class="code-title">C++å®ç°</span><button class="copy-btn" onclick="copyCode('cpp-code')">å¤åˆ¶ä»£ç </button></div><pre id="cpp-code"><code class="language-cpp">#include <iostream>
#include <vector>

int binarySearch(const std::vector<int>& arr, int target) {
    int left = 0;
    int right = arr.size() - 1;
    
    while (left <= right) {
        int mid = left + (right - left) / 2;
        
        if (arr[mid] == target) {
            return mid;
        } else if (arr[mid] < target) {
            left = mid + 1;
        } else {
            right = mid - 1;
        }
    }
    
    return -1; // æœªæ‰¾åˆ°
}

// é€’å½’å®ç°
int binarySearchRecursive(const std::vector<int>& arr, int target, int left, int right) {
    if (left > right) {
        return -1;
    }
    
    int mid = left + (right - left) / 2;
    
    if (arr[mid] == target) {
        return mid;
    } else if (arr[mid] < target) {
        return binarySearchRecursive(arr, target, mid + 1, right);
    } else {
        return binarySearchRecursive(arr, target, left, mid - 1);
    }
}

int main() {
    std::vector<int> arr = {1, 3, 5, 7, 9, 11, 13, 15, 17, 19};
    int target = 7;
    int result = binarySearch(arr, target);
    std::cout << "ç›®æ ‡å€¼ " << target << " åœ¨ç´¢å¼• " << result << " å¤„" << std::endl;
    return 0;
}</code></pre></div></div></div></div><!-- å˜ç§é—®é¢˜ --><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ”„</span>
                å¸¸è§å˜ç§
            </h2><div class="variants-grid"><div class="variant-card"><h4 class="variant-title">æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå‡ºç°ä½ç½®</h4><p class="variant-desc">åœ¨æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</p><div class="variant-complexity">æ—¶é—´å¤æ‚åº¦ï¼šO(log n)</div></div><div class="variant-card"><h4 class="variant-title">æŸ¥æ‰¾æœ€åä¸€ä¸ªå‡ºç°ä½ç½®</h4><p class="variant-desc">åœ¨æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</p><div class="variant-complexity">æ—¶é—´å¤æ‚åº¦ï¼šO(log n)</div></div><div class="variant-card"><h4 class="variant-title">æŸ¥æ‰¾æ’å…¥ä½ç½®</h4><p class="variant-desc">æ‰¾åˆ°ç›®æ ‡å€¼åº”è¯¥æ’å…¥çš„ä½ç½®ä»¥ä¿æŒæ•°ç»„æœ‰åº</p><div class="variant-complexity">æ—¶é—´å¤æ‚åº¦ï¼šO(log n)</div></div><div class="variant-card"><h4 class="variant-title">æ—‹è½¬æ•°ç»„æŸ¥æ‰¾</h4><p class="variant-desc">åœ¨æ—‹è½¬æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼</p><div class="variant-complexity">æ—¶é—´å¤æ‚åº¦ï¼šO(log n)</div></div></div></div><!-- åº”ç”¨åœºæ™¯ --><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ¯</span>
                å®é™…åº”ç”¨
            </h2><div class="application-grid"><div class="app-card"><span class="app-icon">ğŸ“š</span><h4>æ•°æ®åº“ç´¢å¼•</h4><p>Bæ ‘ç´¢å¼•çš„æŸ¥æ‰¾æ“ä½œ</p></div><div class="app-card"><span class="app-icon">ğŸ”</span><h4>æœç´¢å¼•æ“</h4><p>åœ¨æ’åºç»“æœä¸­å¿«é€Ÿå®šä½</p></div><div class="app-card"><span class="app-icon">ğŸ“Š</span><h4>æ•°æ®åˆ†æ</h4><p>åœ¨å¤§æ•°æ®é›†ä¸­å¿«é€ŸæŸ¥æ‰¾</p></div><div class="app-card"><span class="app-icon">ğŸ®</span><h4>æ¸¸æˆå¼€å‘</h4><p>AIå†³ç­–æ ‘çš„æœç´¢ä¼˜åŒ–</p></div></div></div></div><!-- å­¦ä¹ æç¤º --><div class="content-card"><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ’¡</span>
                å­¦ä¹ è¦ç‚¹
            </h2><div class="unified-grid unified-grid-2"><div class="info-box info-box-info"><span class="info-icon">ğŸ“Š</span><strong>æœ‰åºå‰æï¼š</strong>ç†è§£ä¸ºä»€ä¹ˆæ•°ç»„å¿…é¡»æœ‰åºæ‰èƒ½ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚
                </div><div class="info-box info-box-success"><span class="info-icon">ğŸ¯</span><strong>è¾¹ç•Œå¤„ç†ï¼š</strong>æ³¨æ„leftã€rightã€midçš„è¾¹ç•Œæ¡ä»¶å’Œæ›´æ–°æ–¹å¼ã€‚
                </div><div class="info-box info-box-warning"><span class="info-icon">âš ï¸</span><strong>æ•´æ•°æº¢å‡ºï¼š</strong>ä½¿ç”¨mid = left + (right - left) / 2é¿å…æº¢å‡ºã€‚
                </div><div class="info-box info-box-info"><span class="info-icon">ğŸ”„</span><strong>å˜ç§ç»ƒä¹ ï¼š</strong>æŒæ¡å„ç§äºŒåˆ†æŸ¥æ‰¾çš„å˜ç§é—®é¢˜ã€‚
                </div></div></div></div></div><style>.interactive-demo {background:#f8f9fa;border-radius:12px;padding:25px;margin:20px 0}.demo-controls {display:flex;flex-direction:column;gap:15px;margin-bottom:25px}.control-group {display:flex;align-items:center;gap:10px;flex-wrap:wrap}.control-group label {font-weight:600;color:#333;min-width:80px}.control-group input {padding:8px 12px;border:1px solid #ddd;border-radius:6px;flex:1;min-width:200px}.demo-btn {padding:8px 16px;background:#6c757d;color:white;border:none;border-radius:6px;cursor:pointer;font-weight:500;transition:all 0.3s ease}.demo-btn.primary {background:#007bff}.demo-btn:hover {transform:translateY(-1px);box-shadow:0 2px 8px rgba(0,0,0,0.2)}.demo-btn.primary:hover {background:#0056b3}.array-display {display:flex;justify-content:center;align-items:center;gap:5px;margin:25px 0;padding:20px;background:white;border-radius:8px;border:1px solid #e9ecef;overflow-x:auto;min-height:80px}.array-element {width:50px;height:50px;display:flex;align-items:center;justify-content:center;border:2px solid #ddd;border-radius:8px;background:white;font-weight:600;font-size:16px;transition:all 0.3s ease;position:relative}.array-element.left-bound {border-color:#28a745;background:#d4edda;color:#155724}.array-element.right-bound {border-color:#dc3545;background:#f8d7da;color:#721c24}.array-element.mid {border-color:#007bff;background:#cce7ff;color:#004085;transform:scale(1.1);box-shadow:0 4px 12px rgba(0,123,255,0.3)}.array-element.found {border-color:#ffc107;background:#fff3cd;color:#856404;animation:pulse 1s infinite}.array-element.excluded {opacity:0.3;background:#f8f9fa}.array-element::after {content:attr(data-index);position:absolute;bottom:-20px;font-size:12px;color:#666}.search-info {background:white;border-radius:8px;padding:20px;border:1px solid #e9ecef}.info-row {display:grid;grid-template-columns:repeat(auto-fit, minmax(150px, 1fr));gap:15px;margin-bottom:15px}.info-item {text-align:center;padding:10px;background:#f8f9fa;border-radius:6px}.info-label {display:block;font-size:14px;color:#666;margin-bottom:5px}.info-item span:last-child {font-size:18px;font-weight:600;color:#007bff}.search-result {text-align:center;padding:15px;border-radius:8px;font-weight:600;margin-top:15px}.search-result.success {background:#d4edda;color:#155724;border:1px solid #c3e6cb}.search-result.failure {background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.search-result.searching {background:#cce7ff;color:#004085;border:1px solid #b3d7ff}.steps-container {display:grid;gap:20px;margin:20px 0}.step-item {display:flex;align-items:flex-start;gap:20px;padding:20px;background:#f8f9fa;border-radius:12px;border-left:4px solid #007bff}.step-number {width:40px;height:40px;background:#007bff;color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:18px;flex-shrink:0}.step-content h4 {color:#333;margin-bottom:8px}.step-content p {color:#666;line-height:1.5}.code-tabs {margin:20px 0}.tab-buttons {display:flex;gap:5px;margin-bottom:0;border-bottom:1px solid #ddd}.tab-btn {padding:12px 20px;background:#f8f9fa;border:1px solid #ddd;border-bottom:none;border-radius:8px 8px 0 0;cursor:pointer;font-weight:500;color:#666;transition:all 0.3s ease}.tab-btn.active {background:white;color:#007bff;border-color:#007bff}.tab-content {display:none}.tab-content.active {display:block}.variants-grid {display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:20px;margin:20px 0}.variant-card {background:#f8f9fa;padding:20px;border-radius:12px;border:1px solid #e9ecef;transition:all 0.3s ease}.variant-card:hover {transform:translateY(-5px);box-shadow:0 8px 25px rgba(0,0,0,0.1);background:white}.variant-title {color:#333;margin-bottom:10px;font-size:1.1rem}.variant-desc {color:#666;line-height:1.5;margin-bottom:10px}.variant-complexity {color:#007bff;font-weight:600;font-size:14px}.application-grid {display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:20px;margin:20px 0}.app-card {background:#f8f9fa;padding:20px;border-radius:12px;text-align:center;border:1px solid #e9ecef;transition:all 0.3s ease}.app-card:hover {transform:translateY(-5px);box-shadow:0 8px 25px rgba(0,0,0,0.1);background:white}.app-icon {font-size:2rem;display:block;margin-bottom:15px}.app-card h4 {color:#333;margin-bottom:10px}.app-card p {color:#666;font-size:14px}@keyframes pulse {0%, 100% {transform:scale(1.1)}50% {transform:scale(1.2)}}@media (max-width:768px) {.control-group {flex-direction:column;align-items:stretch}.control-group label {min-width:auto}.control-group input {min-width:auto}.array-display {flex-wrap:wrap;justify-content:center}.array-element {width:40px;height:40px;font-size:14px}.info-row {grid-template-columns:1fr}.step-item {flex-direction:column;text-align:center}.tab-buttons {flex-wrap:wrap}.variants-grid, .application-grid {grid-template-columns:1fr}}</style><script>let currentArray = [1, 3, 5, 7, 9, 11, 13, 15, 17, 19]; let currentTarget = 7; let searchSteps = []; let currentStep = 0; let isSearching = false; function updateArray() { const input = document.getElementById('array-input').value; try { const newArray = input.split(',').map(num => parseInt(num.trim())).filter(num => !isNaN(num)); if (newArray.length === 0) { alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—æ•°ç»„'); return; } const isSorted = newArray.every((val, i) => i === 0 || val >= newArray[i - 1]); if (!isSorted) { if (confirm('æ•°ç»„ä¸æ˜¯æœ‰åºçš„ï¼Œæ˜¯å¦è‡ªåŠ¨æ’åºï¼Ÿ')) { newArray.sort((a, b) => a - b); document.getElementById('array-input').value = newArray.join(','); } else { return; } } currentArray = newArray; resetSearch(); displayArray(); } catch (error) { alert('è¾“å…¥æ ¼å¼é”™è¯¯ï¼Œè¯·ä½¿ç”¨é€—å·åˆ†éš”çš„æ•°å­—'); } } function displayArray() { const displayElement = document.getElementById('array-display'); displayElement.innerHTML = ''; currentArray.forEach((value, index) => { const element = document.createElement('div'); element.className = 'array-element'; element.textContent = value; element.setAttribute('data-index', index); element.id = `element-${index}`; displayElement.appendChild(element); }); } function startSearch() { if (isSearching) return; const targetInput = document.getElementById('target-input'); currentTarget = parseInt(targetInput.value); if (isNaN(currentTarget)) { alert('è¯·è¾“å…¥æœ‰æ•ˆçš„ç›®æ ‡æ•°å­—'); return; } isSearching = true; searchSteps = []; currentStep = 0; generateSearchSteps(); animateSearch(); } function generateSearchSteps() { let left = 0; let right = currentArray.length - 1; let found = false; while (left <= right && !found) { const mid = Math.floor(left + (right - left) / 2); const step = { left: left, right: right, mid: mid, midValue: currentArray[mid], comparison: '' }; if (currentArray[mid] === currentTarget) { step.comparison = 'found'; found = true; } else if (currentArray[mid] < currentTarget) { step.comparison = 'less'; left = mid + 1; } else { step.comparison = 'greater'; right = mid - 1; } searchSteps.push(step); } if (!found) { searchSteps.push({ left: left, right: right, mid: -1, midValue: -1, comparison: 'not_found' }); } } async function animateSearch() { for (let i = 0; i < searchSteps.length; i++) { currentStep = i + 1; const step = searchSteps[i]; document.querySelectorAll('.array-element').forEach(el => { el.className = 'array-element'; }); for (let j = 0; j < currentArray.length; j++) { const element = document.getElementById(`element-${j}`); if (j < step.left || j > step.right) { element.classList.add('excluded'); } else if (j === step.left) { element.classList.add('left-bound'); } else if (j === step.right) { element.classList.add('right-bound'); } } if (step.mid >= 0) { const midElement = document.getElementById(`element-${step.mid}`); midElement.classList.add('mid'); if (step.comparison === 'found') { midElement.classList.add('found'); } } updateSearchInfo(step); await new Promise(resolve => setTimeout(resolve, 1500)); if (step.comparison === 'found' || step.comparison === 'not_found') { break; } } isSearching = false; } function updateSearchInfo(step) { document.getElementById('current-step').textContent = currentStep; document.getElementById('left-bound').textContent = step.left; document.getElementById('right-bound').textContent = step.right; document.getElementById('mid-position').textContent = step.mid >= 0 ? step.mid : '-'; const resultElement = document.getElementById('search-result'); if (step.comparison === 'found') { resultElement.textContent = `æ‰¾åˆ°ç›®æ ‡å€¼ ${currentTarget}ï¼Œä½ç½®åœ¨ç´¢å¼• ${step.mid}`; resultElement.className = 'search-result success'; } else if (step.comparison === 'not_found') { resultElement.textContent = `æœªæ‰¾åˆ°ç›®æ ‡å€¼ ${currentTarget}`; resultElement.className = 'search-result failure'; } else { let message = `æ¯”è¾ƒä¸­é—´å€¼ ${step.midValue} ä¸ç›®æ ‡å€¼ ${currentTarget}ï¼š`; if (step.comparison === 'less') { message += ` ${step.midValue} < ${currentTarget}ï¼Œæœç´¢å³åŠéƒ¨åˆ†`; } else if (step.comparison === 'greater') { message += ` ${step.midValue} > ${currentTarget}ï¼Œæœç´¢å·¦åŠéƒ¨åˆ†`; } resultElement.textContent = message; resultElement.className = 'search-result searching'; } } function resetSearch() { isSearching = false; currentStep = 0; searchSteps = []; document.querySelectorAll('.array-element').forEach(el => { el.className = 'array-element'; }); document.getElementById('current-step').textContent = '0'; document.getElementById('left-bound').textContent = '-'; document.getElementById('right-bound').textContent = '-'; document.getElementById('mid-position').textContent = '-'; document.getElementById('search-result').textContent = ''; document.getElementById('search-result').className = 'search-result'; } function showTab(tabName) { document.querySelectorAll('.tab-content').forEach(tab => { tab.classList.remove('active'); }); document.querySelectorAll('.tab-btn').forEach(btn => { btn.classList.remove('active'); }); document.getElementById(`${tabName}-tab`).classList.add('active'); event.target.classList.add('active'); } function copyCode(elementId) { const codeElement = document.getElementById(elementId); const text = codeElement.textContent; navigator.clipboard.writeText(text).then(() => { alert('ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼'); }).catch(() => { alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶'); }); } document.addEventListener('DOMContentLoaded', function() { displayArray(); document.getElementById('target-input').addEventListener('keypress', function(e) { if (e.key === 'Enter') { startSearch(); } }); document.getElementById('array-input').addEventListener('keypress', function(e) { if (e.key === 'Enter') { updateArray(); } }); });</script>

{% endblock %}
