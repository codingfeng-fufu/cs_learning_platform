{% extends 'knowledge_app/base.html' %}

{% block title %}{{ page_title|default:"å¾ªç¯é“¾è¡¨" }} - è®¡ç®—æœºç§‘å­¦å­¦ä¹ å¹³å°{% endblock %}

{% block content %}
<div class="page-container fade-in"><!-- é¢åŒ…å±‘å¯¼èˆª --><div class="breadcrumb"><a href="{% url 'knowledge_app:index' %}">é¦–é¡µ</a><span>></span><span>æ•°æ®ç»“æ„</span><span>></span><span>å¾ªç¯é“¾è¡¨</span></div><!-- é¡µé¢å¤´éƒ¨ --><div class="page-header slide-in-left"><h1><span class="page-icon">ğŸ”„</span>
            å¾ªç¯é“¾è¡¨ (Circular Linked List)
        </h1><p>ä¸€ç§ç‰¹æ®Šçš„é“¾è¡¨ç»“æ„ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½¢æˆç¯å½¢è¿æ¥</p></div><!-- ğŸ“‹ çŸ¥è¯†ç‚¹æ¦‚è¿° --><div class="content-card slide-in-right"><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ“‹</span>
                çŸ¥è¯†ç‚¹æ¦‚è¿°
            </h2><div class="info-box info-box-info"><span class="info-icon">ğŸ’¡</span><strong>æ ¸å¿ƒæ¦‚å¿µï¼š</strong>å¾ªç¯é“¾è¡¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„é“¾è¡¨ï¼Œå…¶æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆä¸æ˜¯æŒ‡å‘NULLï¼Œè€Œæ˜¯æŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ªç¯å½¢ç»“æ„ã€‚
            </div><h3>ğŸ”‘ å…³é”®æœ¯è¯­</h3><div class="unified-grid unified-grid-2"><div class="grid-card"><span class="card-icon">ğŸ”—</span><h4 class="card-title">èŠ‚ç‚¹ (Node)</h4><p class="card-description">åŒ…å«æ•°æ®å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡é’ˆçš„åŸºæœ¬å•å…ƒ</p></div><div class="grid-card"><span class="card-icon">ğŸ‘†</span><h4 class="card-title">æŒ‡é’ˆ (Pointer)</h4><p class="card-description">å­˜å‚¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å†…å­˜åœ°å€çš„å˜é‡</p></div><div class="grid-card"><span class="card-icon">ğŸ¯</span><h4 class="card-title">å¤´èŠ‚ç‚¹ (Head)</h4><p class="card-description">å¾ªç¯é“¾è¡¨çš„èµ·å§‹èŠ‚ç‚¹ï¼Œä½œä¸ºè®¿é—®å…¥å£</p></div><div class="grid-card"><span class="card-icon">ğŸ”„</span><h4 class="card-title">ç¯å½¢ç»“æ„ (Circular)</h4><p class="card-description">æœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„é—­ç¯ç»“æ„</p></div></div><div class="unified-grid unified-grid-3"><div class="info-box info-box-success"><span class="info-icon">ğŸ“Š</span><strong>å­¦ä¹ éš¾åº¦ï¼š</strong>è¿›é˜¶çº§
                </div><div class="info-box info-box-warning"><span class="info-icon">ğŸ“š</span><strong>å‰ç½®çŸ¥è¯†ï¼š</strong>çº¿æ€§é“¾è¡¨ã€æŒ‡é’ˆæ¦‚å¿µ
                </div><div class="info-box info-box-info"><span class="info-icon">â±ï¸</span><strong>å­¦ä¹ æ—¶é—´ï¼š</strong>2-3å°æ—¶
                </div></div></div></div><!-- ğŸ” æ¦‚å¿µè¯¦è§£ --><div class="content-card"><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ”</span>
                æ¦‚å¿µè¯¦è§£
            </h2><h3>ğŸ—ï¸ 1. åŸºæœ¬ç»“æ„ç‰¹ç‚¹</h3><p>æƒ³è±¡ä¸€ç¾¤äººæ‰‹æ‹‰æ‰‹å›´æˆä¸€ä¸ªåœ†åœˆï¼Œæ¯ä¸ªäººéƒ½çŸ¥é“ä¸‹ä¸€ä¸ªäººæ˜¯è°ã€‚å¾ªç¯é“¾è¡¨å°±æ˜¯è¿™æ ·ï¼šæ¯ä¸ªèŠ‚ç‚¹ï¼ˆäººï¼‰éƒ½æœ‰ä¸€ä¸ªæŒ‡é’ˆï¼ˆæ‰‹ï¼‰æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å›ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½¢æˆé—­ç¯ã€‚</p><div class="info-box info-box-warning"><span class="info-icon">âš ï¸</span><strong>æ˜“æ··æ·†ç‚¹ï¼š</strong>ä¸æ™®é€šé“¾è¡¨çš„åŒºåˆ«åœ¨äºï¼Œæ™®é€šé“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘NULLï¼Œè€Œå¾ªç¯é“¾è¡¨æŒ‡å‘å¤´èŠ‚ç‚¹ï¼
            </div><h3>ğŸ”„ 2. éå†ç‰¹æ€§</h3><p>åœ¨å¾ªç¯é“¾è¡¨ä¸­éå†å°±åƒåœ¨æ“åœºä¸Šè·‘åœˆâ€”â€”ä½ å¯ä»¥ä»ä»»æ„ä¸€ä¸ªç‚¹å¼€å§‹ï¼Œä¸€ç›´è·‘ä¸‹å»æ°¸è¿œä¸ä¼šé‡åˆ°"å°½å¤´"ã€‚å› æ­¤éœ€è¦è®¾ç½®åœæ­¢æ¡ä»¶ï¼Œé€šå¸¸æ˜¯å½“å›åˆ°èµ·å§‹èŠ‚ç‚¹æ—¶åœæ­¢ã€‚</p><h3>â• 3. æ’å…¥æ“ä½œ</h3><p>æ’å…¥æ–°èŠ‚ç‚¹å°±åƒåœ¨åœ†åœˆä¸­åŠ å…¥æ–°æœ‹å‹ï¼š</p><ul><li><strong>æ‰¾åˆ°æ’å…¥ä½ç½®ï¼š</strong>ç¡®å®šæ–°èŠ‚ç‚¹è¦æ’åœ¨å“ªä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´</li><li><strong>å»ºç«‹æ–°è¿æ¥ï¼š</strong>æ–°èŠ‚ç‚¹æŒ‡å‘åç»§èŠ‚ç‚¹</li><li><strong>ä¿®æ”¹å‰é©±è¿æ¥ï¼š</strong>å‰é©±èŠ‚ç‚¹æŒ‡å‘æ–°èŠ‚ç‚¹</li><li><strong>ç‰¹æ®Šæƒ…å†µï¼š</strong>å¦‚æœæ’å…¥ä½ç½®æ˜¯å¤´éƒ¨ï¼Œéœ€è¦æ›´æ–°å°¾èŠ‚ç‚¹çš„æŒ‡é’ˆ</li></ul><h3>â– 4. åˆ é™¤æ“ä½œ</h3><p>åˆ é™¤èŠ‚ç‚¹å°±åƒè®©æŸä¸ªæœ‹å‹ç¦»å¼€åœ†åœˆï¼š</p><ul><li><strong>æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼š</strong>å®šä½è¦åˆ é™¤çš„èŠ‚ç‚¹</li><li><strong>æ‰¾åˆ°å‰é©±èŠ‚ç‚¹ï¼š</strong>æ‰¾åˆ°æŒ‡å‘ç›®æ ‡èŠ‚ç‚¹çš„èŠ‚ç‚¹</li><li><strong>é‡æ–°è¿æ¥ï¼š</strong>è®©å‰é©±èŠ‚ç‚¹ç›´æ¥æŒ‡å‘ç›®æ ‡èŠ‚ç‚¹çš„åç»§</li><li><strong>ç‰¹æ®Šå¤„ç†ï¼š</strong>åˆ é™¤å¤´èŠ‚ç‚¹æ—¶éœ€è¦æ›´æ–°å¤´æŒ‡é’ˆ</li></ul></div></div><!-- ğŸ“Š å¯è§†åŒ–å±•ç¤º --><div class="content-card"><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ“Š</span>
                å¯è§†åŒ–å±•ç¤º
            </h2><h3>ğŸ® äº¤äº’å¼åŠ¨ç”»æ¼”ç¤º</h3><p>ä¸‹é¢çš„åŠ¨ç”»æ¼”ç¤ºå±•ç¤ºäº†å¾ªç¯é“¾è¡¨çš„æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œé‡ç‚¹è§‚å¯ŸæŒ‡é’ˆæ˜¯å¦‚ä½•å˜åŒ–çš„ï¼š</p><!-- åµŒå…¥å¾ªç¯é“¾è¡¨åŠ¨ç”» --><div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; padding: 20px; margin: 25px 0; box-shadow: 0 10px 30px rgba(0,0,0,0.2);"><div style="background: rgba(255, 255, 255, 0.95); border-radius: 15px; padding: 25px; backdrop-filter: blur(10px);"><h3 style="text-align: center; color: #333; margin-bottom: 20px; font-size: 1.8em;">ğŸ”„ å¾ªç¯é“¾è¡¨åŠ¨ç”»æ¼”ç¤º</h3><canvas id="canvas" width="850" height="480" style="border: 3px solid #4a90e2; border-radius: 15px; background: #f8f9fa; display: block; margin: 0 auto 20px; box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);"></canvas><div id="stepInfo" style="background: #e3f2fd; border-left: 4px solid #2196f3; padding: 15px; margin: 20px 0; border-radius: 8px; font-size: 16px; min-height: 50px; display: flex; align-items: center; transition: all 0.3s ease;">
                        ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹åŠ¨ç”»æ¼”ç¤º...
                    </div><div style="width: 100%; height: 6px; background: #e0e0e0; border-radius: 3px; margin: 10px 0; overflow: hidden;"><div id="progressFill" style="height: 100%; background: linear-gradient(90deg, #4CAF50, #2196F3); border-radius: 3px; transition: width 0.3s ease; width: 0%;"></div></div><div style="display: flex; justify-content: center; gap: 20px; margin-bottom: 25px; align-items: center; flex-wrap: wrap;"><div style="display: flex; flex-direction: column; align-items: center; gap: 8px;"><label style="font-weight: bold;">èŠ‚ç‚¹å€¼</label><input type="number" id="nodeValue" min="1" max="99" value="4" style="padding: 10px 15px; border: 2px solid #ddd; border-radius: 20px; font-size: 16px; width: 80px; text-align: center;"></div><div style="display: flex; flex-direction: column; align-items: center; gap: 8px;"><label style="font-weight: bold;">æ’å…¥ä½ç½®</label><input type="number" id="insertPosition" min="0" value="1" style="padding: 10px 15px; border: 2px solid #ddd; border-radius: 20px; font-size: 16px; width: 80px; text-align: center;"></div><div style="display: flex; flex-direction: column; align-items: center; gap: 8px;"><label style="font-weight: bold;">åˆ é™¤ä½ç½®</label><input type="number" id="deletePosition" min="0" value="1" style="padding: 10px 15px; border: 2px solid #ddd; border-radius: 20px; font-size: 16px; width: 80px; text-align: center;"></div></div><div style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-bottom: 20px;"><button onclick="startInsertAnimation()" id="insertBtn" style="padding: 12px 25px; font-size: 16px; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; color: white; background: linear-gradient(45deg, #4CAF50, #45a049); box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3); transition: all 0.3s ease;">
                            â• æ’å…¥èŠ‚ç‚¹åŠ¨ç”»
                        </button><button onclick="startDeleteAnimation()" id="deleteBtn" style="padding: 12px 25px; font-size: 16px; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; color: white; background: linear-gradient(45deg, #f44336, #d32f2f); box-shadow: 0 4px 15px rgba(244, 67, 54, 0.3); transition: all 0.3s ease;">
                            â– åˆ é™¤èŠ‚ç‚¹åŠ¨ç”»
                        </button><button onclick="resetDemo()" id="resetBtn" style="padding: 12px 25px; font-size: 16px; border: none; border-radius: 25px; cursor: pointer; font-weight: bold; color: white; background: linear-gradient(45deg, #ff9800, #f57c00); box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3); transition: all 0.3s ease;">
                            ğŸ”„ é‡ç½®é“¾è¡¨
                        </button></div><div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;"><div style="display: flex; align-items: center; gap: 8px; font-size: 14px; background: rgba(255, 255, 255, 0.8); padding: 6px 12px; border-radius: 15px;"><div style="width: 18px; height: 18px; border-radius: 50%; background: #ff6b6b; border: 2px solid #333;"></div><span>å¤´èŠ‚ç‚¹</span></div><div style="display: flex; align-items: center; gap: 8px; font-size: 14px; background: rgba(255, 255, 255, 0.8); padding: 6px 12px; border-radius: 15px;"><div style="width: 18px; height: 18px; border-radius: 50%; background: #4ecdc4; border: 2px solid #333;"></div><span>æ™®é€šèŠ‚ç‚¹</span></div><div style="display: flex; align-items: center; gap: 8px; font-size: 14px; background: rgba(255, 255, 255, 0.8); padding: 6px 12px; border-radius: 15px;"><div style="width: 18px; height: 18px; border-radius: 50%; background: #ffd93d; border: 2px solid #333;"></div><span>æ–°èŠ‚ç‚¹/ç›®æ ‡èŠ‚ç‚¹</span></div><div style="display: flex; align-items: center; gap: 8px; font-size: 14px; background: rgba(255, 255, 255, 0.8); padding: 6px 12px; border-radius: 15px;"><div style="width: 18px; height: 18px; border-radius: 50%; background: #ff9ff3; border: 2px solid #333;"></div><span>æ“ä½œèŠ‚ç‚¹</span></div></div></div></div><script>const canvas = document.getElementById('canvas'); const ctx = canvas.getContext('2d'); const stepInfo = document.getElementById('stepInfo'); const progressFill = document.getElementById('progressFill'); let isAnimating = false; class Node { constructor(value, x, y) { this.value = value; this.x = x; this.y = y; this.targetX = x; this.targetY = y; this.next = null; this.radius = 35; this.color = '#4ecdc4'; this.highlighted = false; this.opacity = 1.0; this.scale = 1.0; this.targetScale = 1.0; } update() { if (Math.abs(this.x - this.targetX) > 0.5 || Math.abs(this.y - this.targetY) > 0.5) { this.x += (this.targetX - this.x) * 0.12; this.y += (this.targetY - this.y) * 0.12; } if (Math.abs(this.scale - this.targetScale) > 0.01) { this.scale += (this.targetScale - this.scale) * 0.15; } } } class Arrow { constructor(from, to, color = '#4a90e2', width = 3, dashed = false) { this.from = from; this.to = to; this.color = color; this.width = width; this.dashed = dashed; this.opacity = 1.0; this.targetOpacity = 1.0; } update() { if (Math.abs(this.opacity - this.targetOpacity) > 0.01) { this.opacity += (this.targetOpacity - this.opacity) * 0.1; } } } class CircularLinkedList { constructor() { this.head = null; this.size = 0; this.centerX = canvas.width / 2; this.centerY = canvas.height / 2; this.radius = 160; this.arrows = []; this.tempArrows = []; this.tempNodes = []; } calculatePositions() { if (this.size === 0) return; let current = this.head; for (let i = 0; i < this.size; i++) { const angle = (2 * Math.PI * i) / this.size - Math.PI / 2; current.targetX = this.centerX + this.radius * Math.cos(angle); current.targetY = this.centerY + this.radius * Math.sin(angle); current = current.next; } } createArrows() { this.arrows = []; if (this.size === 0) return; let current = this.head; for (let i = 0; i < this.size; i++) { this.arrows.push(new Arrow(current, current.next)); current = current.next; } } addNodeToList(value) { const node = new Node(value, this.centerX, this.centerY); if (this.size === 0) { this.head = node; node.next = node; node.color = '#ff6b6b'; } else { let current = this.head; while (current.next !== this.head) { current = current.next; } node.next = this.head; current.next = node; } this.size++; this.calculatePositions(); this.createArrows(); } update() { let current = this.head; if (current) { for (let i = 0; i < this.size; i++) { current.update(); current = current.next; } } this.tempNodes.forEach(node => node.update()); this.arrows.forEach(arrow => arrow.update()); this.tempArrows.forEach(arrow => arrow.update()); } draw() { ctx.clearRect(0, 0, canvas.width, canvas.height); this.tempArrows.forEach(arrow => this.drawArrow(arrow)); this.arrows.forEach(arrow => this.drawArrow(arrow)); this.tempNodes.forEach(node => this.drawNode(node)); if (this.size > 0) { let current = this.head; for (let i = 0; i < this.size; i++) { this.drawNode(current); current = current.next; } } if (this.size === 0) { ctx.fillStyle = '#999'; ctx.font = '20px Arial'; ctx.textAlign = 'center'; ctx.fillText('ç©ºé“¾è¡¨ - ç‚¹å‡»é‡ç½®åˆ›å»ºåˆå§‹é“¾è¡¨', this.centerX, this.centerY); } } drawArrow(arrow) { if (!arrow.from || !arrow.to) return; ctx.save(); ctx.globalAlpha = arrow.opacity; ctx.strokeStyle = arrow.color; ctx.lineWidth = arrow.width; if (arrow.dashed) { ctx.setLineDash([10, 5]); } else { ctx.setLineDash([]); } const dx = arrow.to.x - arrow.from.x; const dy = arrow.to.y - arrow.from.y; const distance = Math.sqrt(dx * dx + dy * dy); if (distance > 0) { const unitX = dx / distance; const unitY = dy / distance; const startX = arrow.from.x + unitX * arrow.from.radius * arrow.from.scale; const startY = arrow.from.y + unitY * arrow.from.radius * arrow.from.scale; const endX = arrow.to.x - unitX * arrow.to.radius * arrow.to.scale; const endY = arrow.to.y - unitY * arrow.to.radius * arrow.to.scale; ctx.beginPath(); if (arrow.from === arrow.to) { const loopRadius = arrow.from.radius * arrow.from.scale + 25; ctx.arc(arrow.from.x + loopRadius, arrow.from.y, loopRadius, 0, 2 * Math.PI); } else if (this.size === 2 && arrow.to === this.head && arrow.from !== this.head) { const midX = (startX + endX) / 2; const midY = (startY + endY) / 2; const controlX = midX + (arrow.from.y - arrow.to.y) * 0.4; const controlY = midY + (arrow.to.x - arrow.from.x) * 0.4; ctx.moveTo(startX, startY); ctx.quadraticCurveTo(controlX, controlY, endX, endY); } else { ctx.moveTo(startX, startY); ctx.lineTo(endX, endY); } ctx.stroke(); const arrowLength = 15; const arrowAngle = Math.PI / 6; const angle = Math.atan2(dy, dx); ctx.beginPath(); ctx.moveTo(endX, endY); ctx.lineTo( endX - arrowLength * Math.cos(angle - arrowAngle), endY - arrowLength * Math.sin(angle - arrowAngle) ); ctx.moveTo(endX, endY); ctx.lineTo( endX - arrowLength * Math.cos(angle + arrowAngle), endY - arrowLength * Math.sin(angle + arrowAngle) ); ctx.stroke(); } ctx.restore(); } drawNode(node) { ctx.save(); ctx.globalAlpha = node.opacity; const radius = node.radius * node.scale; ctx.beginPath(); ctx.arc(node.x, node.y, radius, 0, 2 * Math.PI); ctx.fillStyle = node.color; ctx.fill(); if (node.highlighted) { ctx.strokeStyle = '#ff4444'; ctx.lineWidth = 4; ctx.setLineDash([8, 4]); } else { ctx.strokeStyle = '#333'; ctx.lineWidth = 2; ctx.setLineDash([]); } ctx.stroke(); ctx.fillStyle = '#fff'; ctx.font = `bold ${Math.floor(18 * node.scale)}px Arial`; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(node.value, node.x, node.y); if (node === this.head) { ctx.fillStyle = '#ff6b6b'; ctx.font = `${Math.floor(12 * node.scale)}px Arial`; ctx.fillText('HEAD', node.x, node.y - radius - 15); } ctx.restore(); } } const list = new CircularLinkedList(); function initializeList() { list.addNodeToList(1); list.addNodeToList(2); list.addNodeToList(3); } function setButtonsEnabled(enabled) { document.getElementById('insertBtn').disabled = !enabled; document.getElementById('deleteBtn').disabled = !enabled; document.getElementById('resetBtn').disabled = !enabled; } function updateProgress(current, total) { const percentage = (current / total) * 100; progressFill.style.width = percentage + '%'; } async function startInsertAnimation() { if (isAnimating) return; const value = parseInt(document.getElementById('nodeValue').value) || 4; const position = Math.max(0, Math.min(parseInt(document.getElementById('insertPosition').value) || 0, list.size)); isAnimating = true; setButtonsEnabled(false); const steps = [ { description: `ğŸ¬ å¼€å§‹æ’å…¥åŠ¨ç”»ï¼šåœ¨ä½ç½® ${position} æ’å…¥å€¼ä¸º ${value} çš„æ–°èŠ‚ç‚¹`, duration: 1000, action: () => { resetAllStates(); } }, { description: `âœ¨ åˆ›å»ºæ–°èŠ‚ç‚¹ (å€¼: ${value})`, duration: 1500, action: () => { const newNode = new Node(value, canvas.width - 80, 80); newNode.color = '#ffd93d'; newNode.highlighted = true; newNode.targetScale = 1.2; list.tempNodes = [newNode]; } }, { description: position === 0 ? 'ğŸ¯ å®šä½åˆ°å¤´èŠ‚ç‚¹ï¼Œå‡†å¤‡åœ¨å¤´éƒ¨æ’å…¥' : `ğŸ¯ å®šä½åˆ°ä½ç½® ${position-1} çš„èŠ‚ç‚¹`, duration: 1500, action: () => { if (list.size === 0) return; let current = list.head; if (position === 0) { current.highlighted = true; current.targetScale = 1.1; } else { for (let i = 0; i < position - 1; i++) { current = current.next; } current.highlighted = true; current.color = '#ff9ff3'; current.targetScale = 1.1; } } }, { description: 'ğŸ”— è®¾ç½®æ–°èŠ‚ç‚¹çš„ next æŒ‡é’ˆ', duration: 2000, action: () => { const newNode = list.tempNodes[0]; let targetNode; if (list.size === 0) { targetNode = newNode; } else if (position === 0) { targetNode = list.head; } else { let current = list.head; for (let i = 0; i < position; i++) { current = current.next; } targetNode = current; } const arrow = new Arrow(newNode, targetNode, '#ff4444', 5, true); arrow.opacity = 0; arrow.targetOpacity = 1; list.tempArrows = [arrow]; } }, { description: 'ğŸ”„ ä¿®æ”¹å‰é©±èŠ‚ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹', duration: 2000, action: () => { const newNode = list.tempNodes[0]; if (list.size === 0) return; let prevNode; if (position === 0) { prevNode = list.head; while (prevNode.next !== list.head) { prevNode = prevNode.next; } } else { prevNode = list.head; for (let i = 0; i < position - 1; i++) { prevNode = prevNode.next; } } prevNode.highlighted = true; prevNode.color = '#ff9ff3'; prevNode.targetScale = 1.1; const arrow = new Arrow(prevNode, newNode, '#ff4444', 5, true); arrow.opacity = 0; arrow.targetOpacity = 1; list.tempArrows.push(arrow); } }, { description: 'âœ… å®Œæˆæ’å…¥ï¼Œæ›´æ–°é“¾è¡¨ç»“æ„', duration: 2000, action: () => { const newNode = list.tempNodes[0]; if (list.size === 0) { list.head = newNode; newNode.next = newNode; newNode.color = '#ff6b6b'; } else { let current = list.head; if (position === 0) { while (current.next !== list.head) { current = current.next; } newNode.next = list.head; current.next = newNode; list.head.color = '#4ecdc4'; list.head = newNode; newNode.color = '#ff6b6b'; } else { for (let i = 0; i < position - 1; i++) { current = current.next; } newNode.next = current.next; current.next = newNode; newNode.color = '#4ecdc4'; } } list.size++; list.calculatePositions(); list.createArrows(); list.tempNodes = []; list.tempArrows = []; resetAllStates(); document.getElementById('nodeValue').value = value + 1; document.getElementById('insertPosition').value = list.size; } } ]; await executeSteps(steps); isAnimating = false; setButtonsEnabled(true); } async function startDeleteAnimation() { if (isAnimating || list.size === 0) return; const position = Math.max(0, Math.min(parseInt(document.getElementById('deletePosition').value) || 0, list.size - 1)); isAnimating = true; setButtonsEnabled(false); const steps = [ { description: `ğŸ¬ å¼€å§‹åˆ é™¤åŠ¨ç”»ï¼šåˆ é™¤ä½ç½® ${position} çš„èŠ‚ç‚¹`, duration: 1000, action: () => { resetAllStates(); } }, { description: `ğŸ¯ å®šä½åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ (ä½ç½® ${position})`, duration: 1500, action: () => { let current = list.head; for (let i = 0; i < position; i++) { current = current.next; } current.highlighted = true; current.color = '#ffd93d'; current.targetScale = 1.2; } }, { description: 'ğŸ” æ‰¾åˆ°å‰é©±èŠ‚ç‚¹', duration: 1500, action: () => { let prevNode; if (position === 0) { prevNode = list.head; while (prevNode.next !== list.head) { prevNode = prevNode.next; } } else { prevNode = list.head; for (let i = 0; i < position - 1; i++) { prevNode = prevNode.next; } } prevNode.highlighted = true; prevNode.color = '#ff9ff3'; prevNode.targetScale = 1.1; } }, { description: 'ğŸ”— ä¿®æ”¹å‰é©±èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè·³è¿‡è¦åˆ é™¤çš„èŠ‚ç‚¹', duration: 2000, action: () => { let targetNode = list.head; for (let i = 0; i < position; i++) { targetNode = targetNode.next; } const nextNode = targetNode.next; let prevNode; if (position === 0) { prevNode = list.head; while (prevNode.next !== list.head) { prevNode = prevNode.next; } } else { prevNode = list.head; for (let i = 0; i < position - 1; i++) { prevNode = prevNode.next; } } const arrow = new Arrow(prevNode, nextNode, '#ff4444', 5, true); arrow.opacity = 0; arrow.targetOpacity = 1; list.tempArrows = [arrow]; targetNode.opacity = 0.3; targetNode.targetScale = 0.5; } }, { description: 'âœ… å®Œæˆåˆ é™¤ï¼Œæ›´æ–°é“¾è¡¨ç»“æ„', duration: 2000, action: () => { if (list.size === 1) { list.head = null; } else { let current = list.head; let nodeToDelete = current; for (let i = 0; i < position; i++) { nodeToDelete = nodeToDelete.next; } if (position === 0) { while (current.next !== list.head) { current = current.next; } current.next = list.head.next; list.head = list.head.next; list.head.color = '#ff6b6b'; } else { current = list.head; for (let i = 0; i < position - 1; i++) { current = current.next; } current.next = current.next.next; } } list.size--; list.calculatePositions(); list.createArrows(); list.tempArrows = []; resetAllStates(); document.getElementById('deletePosition').value = Math.max(0, list.size - 1); } } ]; await executeSteps(steps); isAnimating = false; setButtonsEnabled(true); } async function executeSteps(steps) { for (let i = 0; i < steps.length; i++) { const step = steps[i]; stepInfo.textContent = step.description; stepInfo.style.background = '#fff3e0'; stepInfo.style.borderLeftColor = '#ff9800'; updateProgress(i + 1, steps.length); step.action(); await new Promise(resolve => setTimeout(resolve, step.duration)); } stepInfo.textContent = 'âœ¨ åŠ¨ç”»å®Œæˆï¼å¯ä»¥ç»§ç»­è¿›è¡Œå…¶ä»–æ“ä½œ'; stepInfo.style.background = '#e3f2fd'; stepInfo.style.borderLeftColor = '#2196f3'; updateProgress(0, 1); } function resetAllStates() { list.tempNodes = []; list.tempArrows = []; if (list.head) { let current = list.head; for (let i = 0; i < list.size; i++) { current.highlighted = false; current.targetScale = 1.0; current.opacity = 1.0; if (current === list.head) { current.color = '#ff6b6b'; } else { current.color = '#4ecdc4'; } current = current.next; } } } function resetDemo() { if (isAnimating) return; list.head = null; list.size = 0; list.tempNodes = []; list.tempArrows = []; list.arrows = []; initializeList(); stepInfo.textContent = 'ğŸ”„ é“¾è¡¨å·²é‡ç½®ï¼Œå¯ä»¥å¼€å§‹æ–°çš„æ“ä½œ'; stepInfo.style.background = '#e3f2fd'; stepInfo.style.borderLeftColor = '#2196f3'; updateProgress(0, 1); document.getElementById('nodeValue').value = 4; document.getElementById('insertPosition').value = 3; document.getElementById('deletePosition').value = 1; } function animate() { list.update(); list.draw(); requestAnimationFrame(animate); } initializeList(); animate();</script><h3>ğŸ“ˆ æ“ä½œå¤æ‚åº¦åˆ†æ</h3><div class="unified-grid unified-grid-2"><div class="grid-card"><span class="card-icon">ğŸ”</span><h4 class="card-title">æŸ¥æ‰¾æ“ä½œ</h4><p class="card-description">æ—¶é—´å¤æ‚åº¦ï¼šO(n)<br>éœ€è¦éå†é“¾è¡¨æŸ¥æ‰¾ç›®æ ‡å…ƒç´ </p></div><div class="grid-card"><span class="card-icon">â•</span><h4 class="card-title">æ’å…¥æ“ä½œ</h4><p class="card-description">æ—¶é—´å¤æ‚åº¦ï¼šO(1)åˆ°O(n)<br>å¤´éƒ¨æ’å…¥O(1)ï¼ŒæŒ‡å®šä½ç½®O(n)</p></div><div class="grid-card"><span class="card-icon">â–</span><h4 class="card-title">åˆ é™¤æ“ä½œ</h4><p class="card-description">æ—¶é—´å¤æ‚åº¦ï¼šO(1)åˆ°O(n)<br>å·²çŸ¥å‰é©±èŠ‚ç‚¹O(1)ï¼Œå¦åˆ™O(n)</p></div><div class="grid-card"><span class="card-icon">ğŸ’¾</span><h4 class="card-title">ç©ºé—´å¤æ‚åº¦</h4><p class="card-description">O(n)<br>æ¯ä¸ªèŠ‚ç‚¹éœ€è¦é¢å¤–çš„æŒ‡é’ˆç©ºé—´</p></div></div></div></div><!-- ğŸ’» ä»£ç å®ç° --><div class="content-card"><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ’»</span>
                ä»£ç å®ç°
            </h2><p>ä»¥ä¸‹æ˜¯å¾ªç¯é“¾è¡¨åœ¨ä¸åŒç¼–ç¨‹è¯­è¨€ä¸­çš„å®ç°ï¼Œç‚¹å‡»è¯­è¨€æ ‡ç­¾åˆ‡æ¢ï¼Œç‚¹å‡»å¤åˆ¶æŒ‰é’®å¯å¿«é€Ÿå¤åˆ¶ä»£ç ï¼š</p><!-- è¯­è¨€é€‰æ‹©æ ‡ç­¾ --><div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;"><button onclick="showCode('cpp')" id="btn-cpp" style="padding: 10px 20px; border: 2px solid #4a90e2; background: #4a90e2; color: white; border-radius: 25px; cursor: pointer; font-weight: bold;">C++</button><button onclick="showCode('java')" id="btn-java" style="padding: 10px 20px; border: 2px solid #4a90e2; background: white; color: #4a90e2; border-radius: 25px; cursor: pointer; font-weight: bold;">Java</button><button onclick="showCode('python')" id="btn-python" style="padding: 10px 20px; border: 2px solid #4a90e2; background: white; color: #4a90e2; border-radius: 25px; cursor: pointer; font-weight: bold;">Python</button></div><!-- C++ ä»£ç  --><div id="code-cpp" class="code-container" style="position: relative; display: block;"><div style="display: flex; justify-content: between; align-items: center; background: #2d3748; color: white; padding: 15px; border-radius: 10px 10px 0 0;"><span style="font-weight: bold;">ğŸ”· C++ å®ç°</span><button onclick="copyCode('cpp')" style="background: #4CAF50; color: white; border: none; padding: 8px 15px; border-radius: 15px; cursor: pointer; margin-left: auto;">ğŸ“‹ å¤åˆ¶</button></div><pre style="background: #1a202c; color: #e2e8f0; padding: 20px; margin: 0; border-radius: 0 0 10px 10px; overflow-x: auto;"><code id="cpp-code">#include &lt;iostream&gt;
using namespace std;

template&lt;typename T&gt;
class CircularLinkedList {
private:
    struct Node {
        T data;
        Node* next;
        Node(T value) : data(value), next(nullptr) {}
    };

    Node* head;
    int size;

public:
    CircularLinkedList() : head(nullptr), size(0) {}

    // æ’å…¥èŠ‚ç‚¹åˆ°æŒ‡å®šä½ç½®
    void insert(T value, int position = 0) {
        position = max(0, min(position, size));
        Node* newNode = new Node(value);

        if (size == 0) {
            head = newNode;
            newNode-&gt;next = newNode;  // æŒ‡å‘è‡ªå·±
        } else {
            Node* current = head;

            if (position == 0) {
                // æ’å…¥åˆ°å¤´éƒ¨
                while (current-&gt;next != head) {
                    current = current-&gt;next;
                }
                newNode-&gt;next = head;
                current-&gt;next = newNode;
                head = newNode;
            } else {
                // æ’å…¥åˆ°ä¸­é—´æˆ–å°¾éƒ¨
                for (int i = 0; i &lt; position - 1; i++) {
                    current = current-&gt;next;
                }
                newNode-&gt;next = current-&gt;next;
                current-&gt;next = newNode;
            }
        }
        size++;
    }

    // åˆ é™¤æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹
    bool remove(int position) {
        if (size == 0 || position &lt; 0 || position &gt;= size) {
            return false;
        }

        if (size == 1) {
            delete head;
            head = nullptr;
        } else {
            Node* current = head;

            if (position == 0) {
                // åˆ é™¤å¤´èŠ‚ç‚¹
                while (current-&gt;next != head) {
                    current = current-&gt;next;
                }
                Node* toDelete = head;
                current-&gt;next = head-&gt;next;
                head = head-&gt;next;
                delete toDelete;
            } else {
                // åˆ é™¤ä¸­é—´æˆ–å°¾éƒ¨èŠ‚ç‚¹
                for (int i = 0; i &lt; position - 1; i++) {
                    current = current-&gt;next;
                }
                Node* toDelete = current-&gt;next;
                current-&gt;next = toDelete-&gt;next;
                delete toDelete;
            }
        }
        size--;
        return true;
    }

    // éå†å¹¶æ‰“å°é“¾è¡¨
    void display() {
        if (size == 0) {
            cout &lt;&lt; "é“¾è¡¨ä¸ºç©º" &lt;&lt; endl;
            return;
        }

        Node* current = head;
        do {
            cout &lt;&lt; current-&gt;data &lt;&lt; " -&gt; ";
            current = current-&gt;next;
        } while (current != head);
        cout &lt;&lt; "(å›åˆ°å¤´èŠ‚ç‚¹)" &lt;&lt; endl;
    }

    int getSize() const { return size; }

    ~CircularLinkedList() {
        while (size &gt; 0) {
            remove(0);
        }
    }
};</code></pre></div><!-- Java ä»£ç  --><div id="code-java" class="code-container" style="position: relative; display: none;"><div style="display: flex; justify-content: between; align-items: center; background: #2d3748; color: white; padding: 15px; border-radius: 10px 10px 0 0;"><span style="font-weight: bold;">â˜• Java å®ç°</span><button onclick="copyCode('java')" style="background: #4CAF50; color: white; border: none; padding: 8px 15px; border-radius: 15px; cursor: pointer; margin-left: auto;">ğŸ“‹ å¤åˆ¶</button></div><pre style="background: #1a202c; color: #e2e8f0; padding: 20px; margin: 0; border-radius: 0 0 10px 10px; overflow-x: auto;"><code id="java-code">public class CircularLinkedList&lt;T&gt; {
    private class Node {
        T data;
        Node next;

        Node(T data) {
            this.data = data;
            this.next = null;
        }
    }

    private Node head;
    private int size;

    public CircularLinkedList() {
        head = null;
        size = 0;
    }

    // æ’å…¥èŠ‚ç‚¹åˆ°æŒ‡å®šä½ç½®
    public void insert(T value, int position) {
        position = Math.max(0, Math.min(position, size));
        Node newNode = new Node(value);

        if (size == 0) {
            head = newNode;
            newNode.next = newNode;  // æŒ‡å‘è‡ªå·±
        } else {
            Node current = head;

            if (position == 0) {
                // æ’å…¥åˆ°å¤´éƒ¨
                while (current.next != head) {
                    current = current.next;
                }
                newNode.next = head;
                current.next = newNode;
                head = newNode;
            } else {
                // æ’å…¥åˆ°ä¸­é—´æˆ–å°¾éƒ¨
                for (int i = 0; i &lt; position - 1; i++) {
                    current = current.next;
                }
                newNode.next = current.next;
                current.next = newNode;
            }
        }
        size++;
    }

    // åˆ é™¤æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹
    public boolean remove(int position) {
        if (size == 0 || position &lt; 0 || position &gt;= size) {
            return false;
        }

        if (size == 1) {
            head = null;
        } else {
            Node current = head;

            if (position == 0) {
                // åˆ é™¤å¤´èŠ‚ç‚¹
                while (current.next != head) {
                    current = current.next;
                }
                current.next = head.next;
                head = head.next;
            } else {
                // åˆ é™¤ä¸­é—´æˆ–å°¾éƒ¨èŠ‚ç‚¹
                for (int i = 0; i &lt; position - 1; i++) {
                    current = current.next;
                }
                current.next = current.next.next;
            }
        }
        size--;
        return true;
    }

    // æŸ¥æ‰¾å…ƒç´ 
    public int find(T value) {
        if (size == 0) return -1;

        Node current = head;
        for (int i = 0; i &lt; size; i++) {
            if (current.data.equals(value)) {
                return i;
            }
            current = current.next;
        }
        return -1;
    }

    // éå†å¹¶æ‰“å°é“¾è¡¨
    public void display() {
        if (size == 0) {
            System.out.println("é“¾è¡¨ä¸ºç©º");
            return;
        }

        Node current = head;
        do {
            System.out.print(current.data + " -> ");
            current = current.next;
        } while (current != head);
        System.out.println("(å›åˆ°å¤´èŠ‚ç‚¹)");
    }

    public int getSize() { return size; }
    public boolean isEmpty() { return size == 0; }
}</code></pre></div><!-- Python ä»£ç  --><div id="code-python" class="code-container" style="position: relative; display: none;"><div style="display: flex; justify-content: between; align-items: center; background: #2d3748; color: white; padding: 15px; border-radius: 10px 10px 0 0;"><span style="font-weight: bold;">ğŸ Python å®ç°</span><button onclick="copyCode('python')" style="background: #4CAF50; color: white; border: none; padding: 8px 15px; border-radius: 15px; cursor: pointer; margin-left: auto;">ğŸ“‹ å¤åˆ¶</button></div><pre style="background: #1a202c; color: #e2e8f0; padding: 20px; margin: 0; border-radius: 0 0 10px 10px; overflow-x: auto;"><code id="python-code">class Node:
    def __init__(self, data):
        self.data = data
        self.next = None

class CircularLinkedList:
    def __init__(self):
        self.head = None
        self.size = 0

    def insert(self, value, position=None):
        """æ’å…¥èŠ‚ç‚¹åˆ°æŒ‡å®šä½ç½®"""
        if position is None:
            position = self.size
        position = max(0, min(position, self.size))

        new_node = Node(value)

        if self.size == 0:
            self.head = new_node
            new_node.next = new_node  # æŒ‡å‘è‡ªå·±
        else:
            current = self.head

            if position == 0:
                # æ’å…¥åˆ°å¤´éƒ¨
                while current.next != self.head:
                    current = current.next
                new_node.next = self.head
                current.next = new_node
                self.head = new_node
            else:
                # æ’å…¥åˆ°ä¸­é—´æˆ–å°¾éƒ¨
                for i in range(position - 1):
                    current = current.next
                new_node.next = current.next
                current.next = new_node

        self.size += 1

    def remove(self, position):
        """åˆ é™¤æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹"""
        if self.size == 0 or position < 0 or position >= self.size:
            return False

        if self.size == 1:
            self.head = None
        else:
            current = self.head

            if position == 0:
                # åˆ é™¤å¤´èŠ‚ç‚¹
                while current.next != self.head:
                    current = current.next
                current.next = self.head.next
                self.head = self.head.next
            else:
                # åˆ é™¤ä¸­é—´æˆ–å°¾éƒ¨èŠ‚ç‚¹
                for i in range(position - 1):
                    current = current.next
                current.next = current.next.next

        self.size -= 1
        return True

    def find(self, value):
        """æŸ¥æ‰¾å…ƒç´ ä½ç½®"""
        if self.size == 0:
            return -1

        current = self.head
        for i in range(self.size):
            if current.data == value:
                return i
            current = current.next
        return -1

    def display(self):
        """éå†å¹¶æ‰“å°é“¾è¡¨"""
        if self.size == 0:
            print("é“¾è¡¨ä¸ºç©º")
            return

        current = self.head
        elements = []
        for i in range(self.size):
            elements.append(str(current.data))
            current = current.next

        print(" -> ".join(elements) + " -> (å›åˆ°å¤´èŠ‚ç‚¹)")

    def get_size(self):
        return self.size

    def is_empty(self):
        return self.size == 0

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    cll = CircularLinkedList()
    cll.insert(1)
    cll.insert(2)
    cll.insert(3)
    cll.display()  # 1 -> 2 -> 3 -> (å›åˆ°å¤´èŠ‚ç‚¹)</code></pre></div><script>function showCode(language) { document.querySelectorAll('.code-container').forEach(container => { container.style.display = 'none'; }); document.querySelectorAll('[id^="btn-"]').forEach(btn => { btn.style.background = 'white'; btn.style.color = '#4a90e2'; }); document.getElementById('code-' + language).style.display = 'block'; document.getElementById('btn-' + language).style.background = '#4a90e2'; document.getElementById('btn-' + language).style.color = 'white'; } function copyCode(language) { const codeElement = document.getElementById(language + '-code'); const text = codeElement.textContent; const button = document.querySelector(`#code-${language} button`); const originalText = button.textContent; if (navigator.clipboard && window.isSecureContext) { navigator.clipboard.writeText(text).then(function() { button.textContent = 'âœ… å·²å¤åˆ¶'; button.style.background = '#4CAF50'; setTimeout(() => { button.textContent = originalText; button.style.background = '#4CAF50'; }, 2000); }).catch(function(err) { console.error('å¤åˆ¶å¤±è´¥: ', err); fallbackCopyTextToClipboard(text, button, originalText); }); } else { fallbackCopyTextToClipboard(text, button, originalText); } } function fallbackCopyTextToClipboard(text, button, originalText) { const textArea = document.createElement("textarea"); textArea.value = text; textArea.style.position = "fixed"; textArea.style.left = "-999999px"; textArea.style.top = "-999999px"; document.body.appendChild(textArea); textArea.focus(); textArea.select(); try { const successful = document.execCommand('copy'); if (successful) { button.textContent = 'âœ… å·²å¤åˆ¶'; button.style.background = '#4CAF50'; setTimeout(() => { button.textContent = originalText; button.style.background = '#4CAF50'; }, 2000); } else { button.textContent = 'âŒ å¤åˆ¶å¤±è´¥'; setTimeout(() => { button.textContent = originalText; }, 2000); } } catch (err) { console.error('é™çº§å¤åˆ¶æ–¹æ¡ˆä¹Ÿå¤±è´¥äº†: ', err); button.textContent = 'âŒ å¤åˆ¶å¤±è´¥'; setTimeout(() => { button.textContent = originalText; }, 2000); } document.body.removeChild(textArea); }</script></div></div><!-- ğŸŒŸ å®é™…åº”ç”¨ --><div class="content-card"><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸŒŸ</span>
                å®é™…åº”ç”¨
            </h2><h3>ğŸ’» 1. æ“ä½œç³»ç»Ÿè¿›ç¨‹è°ƒåº¦</h3><p>åœ¨æ“ä½œç³»ç»Ÿçš„æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ä¸­ï¼Œå¾ªç¯é“¾è¡¨å®Œç¾åœ°è¡¨ç¤ºäº†è¿›ç¨‹é˜Ÿåˆ—ã€‚æ¯ä¸ªè¿›ç¨‹æ‰§è¡Œå®Œæ—¶é—´ç‰‡åï¼Œæ§åˆ¶æƒè‡ªåŠ¨è½¬ç»™ä¸‹ä¸€ä¸ªè¿›ç¨‹ï¼Œé˜Ÿåˆ—ä¸­çš„æœ€åä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œå®Œååˆå›åˆ°ç¬¬ä¸€ä¸ªè¿›ç¨‹ã€‚</p><div class="info-box info-box-success"><span class="info-icon">ğŸ¯</span><strong>åº”ç”¨ä¼˜åŠ¿ï¼š</strong>æ— éœ€åˆ¤æ–­é˜Ÿåˆ—ç»“æŸï¼Œè‡ªç„¶å¾ªç¯æ‰§è¡Œï¼Œéå¸¸é€‚åˆéœ€è¦å¾ªç¯å¤„ç†çš„åœºæ™¯ã€‚
            </div><h3>ğŸ® 2. æ¸¸æˆå¼€å‘ä¸­çš„å›åˆåˆ¶ç³»ç»Ÿ</h3><p>åœ¨å›åˆåˆ¶æ¸¸æˆä¸­ï¼Œç©å®¶æŒ‰é¡ºåºè¡ŒåŠ¨ã€‚å¾ªç¯é“¾è¡¨å¯ä»¥å¾ˆå¥½åœ°ç®¡ç†ç©å®¶å›åˆã€‚</p><h3>ğŸµ 3. éŸ³ä¹æ’­æ”¾å™¨çš„æ’­æ”¾åˆ—è¡¨</h3><p>éŸ³ä¹æ’­æ”¾å™¨çš„"å¾ªç¯æ’­æ”¾"åŠŸèƒ½å°±æ˜¯å¾ªç¯é“¾è¡¨çš„å…¸å‹åº”ç”¨ã€‚æ’­æ”¾å®Œæœ€åä¸€é¦–æ­Œåè‡ªåŠ¨å›åˆ°ç¬¬ä¸€é¦–ï¼Œå®ç°æ— ç¼å¾ªç¯ã€‚</p><div class="info-box info-box-info"><span class="info-icon">ğŸ”§</span><strong>æ¨èå·¥å…·ï¼š</strong>VisuAlgo æ•°æ®ç»“æ„å¯è§†åŒ–ã€LeetCode é“¾è¡¨ä¸“é¢˜ã€Data Structure Visualizations
            </div></div></div><!-- âœ… å­¦ä¹ æ£€éªŒ --><div class="content-card"><div class="content-section"><h2 class="section-title"><span class="section-icon">âœ…</span>
                å­¦ä¹ æ£€éªŒ
            </h2><h3>ğŸ¤” å¸¸è§æ˜“é”™é—®é¢˜ç²¾é€‰</h3><p>ä»¥ä¸‹æ˜¯å¾ªç¯é“¾è¡¨å­¦ä¹ ä¸­æœ€å®¹æ˜“å‡ºé”™çš„é—®é¢˜ï¼Œç‚¹å‡»é—®é¢˜å¯æŸ¥çœ‹è¯¦ç»†ç­”æ¡ˆï¼š</p><div style="margin: 20px 0;"><div style="border: 2px solid #e0e0e0; border-radius: 10px; margin: 15px 0; overflow: hidden;"><div onclick="toggleAnswer('q1')" style="background: #f5f5f5; padding: 15px; cursor: pointer; border-bottom: 1px solid #e0e0e0; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: bold;">â“ é—®é¢˜1ï¼šå¾ªç¯é“¾è¡¨çš„éå†ä¸ºä»€ä¹ˆå®¹æ˜“é€ æˆæ­»å¾ªç¯ï¼Ÿ</span><span id="arrow-q1" style="transition: transform 0.3s;">â–¼</span></div><div id="answer-q1" style="display: none; padding: 20px; background: #fff;"><div style="background: #e8f5e8; padding: 15px; border-radius: 8px; border-left: 4px solid #4CAF50;"><strong>ğŸ’¡ ç­”æ¡ˆï¼š</strong><br><p>å› ä¸ºå¾ªç¯é“¾è¡¨æ²¡æœ‰æ˜ç¡®çš„"ç»“æŸç‚¹"ï¼ˆNULLï¼‰ï¼Œå¦‚æœä½¿ç”¨æ™®é€šé“¾è¡¨çš„éå†æ–¹å¼ï¼š</p><pre style="background: #f8f8f8; padding: 10px; border-radius: 5px;"><code>while (current != NULL) {  // âŒ é”™è¯¯ï¼å¾ªç¯é“¾è¡¨ä¸­æ°¸è¿œä¸ä¼šä¸ºNULL
    current = current->next;
}</code></pre><p><strong>æ­£ç¡®çš„éå†æ–¹å¼ï¼š</strong></p><pre style="background: #f8f8f8; padding: 10px; border-radius: 5px;"><code>Node* start = head;
do {
    // å¤„ç†å½“å‰èŠ‚ç‚¹
    current = current->next;
} while (current != start);  // âœ… æ­£ç¡®ï¼å›åˆ°èµ·å§‹èŠ‚ç‚¹æ—¶åœæ­¢</code></pre></div></div></div><div style="border: 2px solid #e0e0e0; border-radius: 10px; margin: 15px 0; overflow: hidden;"><div onclick="toggleAnswer('q2')" style="background: #f5f5f5; padding: 15px; cursor: pointer; border-bottom: 1px solid #e0e0e0; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: bold;">â“ é—®é¢˜2ï¼šæ’å…¥ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ—¶ä¸ºä»€ä¹ˆè¦ç‰¹æ®Šå¤„ç†ï¼Ÿ</span><span id="arrow-q2" style="transition: transform 0.3s;">â–¼</span></div><div id="answer-q2" style="display: none; padding: 20px; background: #fff;"><div style="background: #e8f5e8; padding: 15px; border-radius: 8px; border-left: 4px solid #4CAF50;"><strong>ğŸ’¡ ç­”æ¡ˆï¼š</strong><br><p>å› ä¸ºå¾ªç¯é“¾è¡¨è¦æ±‚æ‰€æœ‰èŠ‚ç‚¹éƒ½è¦æœ‰nextæŒ‡é’ˆæŒ‡å‘é“¾è¡¨ä¸­çš„æŸä¸ªèŠ‚ç‚¹ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ’å…¥æ—¶ï¼š</p><ul><li><strong>æ™®é€šé“¾è¡¨ï¼š</strong>ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„next = NULL</li><li><strong>å¾ªç¯é“¾è¡¨ï¼š</strong>ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„next = è‡ªå·±ï¼ˆå½¢æˆè‡ªç¯ï¼‰</li></ul><pre style="background: #f8f8f8; padding: 10px; border-radius: 5px;"><code>if (size == 0) {
    head = newNode;
    newNode->next = newNode;  // æŒ‡å‘è‡ªå·±ï¼Œå½¢æˆæœ€å°çš„ç¯
}</code></pre><p>è¿™æ ·ç¡®ä¿äº†é“¾è¡¨ä»ä¸€å¼€å§‹å°±å…·æœ‰"å¾ªç¯"çš„ç‰¹æ€§ã€‚</p></div></div></div><div style="border: 2px solid #e0e0e0; border-radius: 10px; margin: 15px 0; overflow: hidden;"><div onclick="toggleAnswer('q3')" style="background: #f5f5f5; padding: 15px; cursor: pointer; border-bottom: 1px solid #e0e0e0; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: bold;">â“ é—®é¢˜3ï¼šåˆ é™¤å¤´èŠ‚ç‚¹æ—¶ä¸ºä»€ä¹ˆè¦å…ˆæ‰¾åˆ°å°¾èŠ‚ç‚¹ï¼Ÿ</span><span id="arrow-q3" style="transition: transform 0.3s;">â–¼</span></div><div id="answer-q3" style="display: none; padding: 20px; background: #fff;"><div style="background: #e8f5e8; padding: 15px; border-radius: 8px; border-left: 4px solid #4CAF50;"><strong>ğŸ’¡ ç­”æ¡ˆï¼š</strong><br><p>å› ä¸ºå¾ªç¯é“¾è¡¨ä¸­ï¼Œå°¾èŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ã€‚åˆ é™¤å¤´èŠ‚ç‚¹æ—¶éœ€è¦ï¼š</p><ol><li><strong>æ›´æ–°å°¾èŠ‚ç‚¹çš„æŒ‡é’ˆï¼š</strong>è®©å®ƒæŒ‡å‘æ–°çš„å¤´èŠ‚ç‚¹</li><li><strong>æ›´æ–°headæŒ‡é’ˆï¼š</strong>æŒ‡å‘åŸå¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li></ol><pre style="background: #f8f8f8; padding: 10px; border-radius: 5px;"><code>// æ‰¾åˆ°å°¾èŠ‚ç‚¹ï¼ˆæŒ‡å‘å¤´èŠ‚ç‚¹çš„é‚£ä¸ªèŠ‚ç‚¹ï¼‰
Node* tail = head;
while (tail->next != head) {
    tail = tail->next;
}

// æ›´æ–°è¿æ¥
tail->next = head->next;  // å°¾èŠ‚ç‚¹æŒ‡å‘æ–°å¤´èŠ‚ç‚¹
head = head->next;        // æ›´æ–°å¤´æŒ‡é’ˆ</code></pre><p>å¦‚æœä¸æ›´æ–°å°¾èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œé“¾è¡¨çš„ç¯å½¢ç»“æ„å°±ä¼šè¢«ç ´åï¼</p></div></div></div><div style="border: 2px solid #e0e0e0; border-radius: 10px; margin: 15px 0; overflow: hidden;"><div onclick="toggleAnswer('q4')" style="background: #f5f5f5; padding: 15px; cursor: pointer; border-bottom: 1px solid #e0e0e0; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: bold;">â“ é—®é¢˜4ï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå¾ªç¯é“¾è¡¨ï¼Ÿ</span><span id="arrow-q4" style="transition: transform 0.3s;">â–¼</span></div><div id="answer-q4" style="display: none; padding: 20px; background: #fff;"><div style="background: #e8f5e8; padding: 15px; border-radius: 8px; border-left: 4px solid #4CAF50;"><strong>ğŸ’¡ ç­”æ¡ˆï¼š</strong><br><p>ä½¿ç”¨<strong>å¿«æ…¢æŒ‡é’ˆæ³•</strong>ï¼ˆFloydåˆ¤åœˆç®—æ³•ï¼‰ï¼š</p><pre style="background: #f8f8f8; padding: 10px; border-radius: 5px;"><code>bool isCircular(Node* head) {
    if (head == nullptr) return false;

    Node* slow = head;
    Node* fast = head;

    do {
        slow = slow->next;           // æ…¢æŒ‡é’ˆæ¯æ¬¡èµ°1æ­¥
        fast = fast->next->next;     // å¿«æŒ‡é’ˆæ¯æ¬¡èµ°2æ­¥

        if (fast == slow) {
            return true;   // å¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜æœ‰ç¯
        }
    } while (fast != nullptr && fast->next != nullptr);

    return false;  // å¿«æŒ‡é’ˆåˆ°è¾¾NULLï¼Œè¯´æ˜æ— ç¯
}</code></pre><p><strong>åŸç†ï¼š</strong>å¦‚æœé“¾è¡¨æœ‰ç¯ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆä¼šè¿½ä¸Šæ…¢æŒ‡é’ˆï¼›å¦‚æœæ— ç¯ï¼Œå¿«æŒ‡é’ˆä¼šå…ˆåˆ°è¾¾NULLã€‚</p></div></div></div><div style="border: 2px solid #e0e0e0; border-radius: 10px; margin: 15px 0; overflow: hidden;"><div onclick="toggleAnswer('q5')" style="background: #f5f5f5; padding: 15px; cursor: pointer; border-bottom: 1px solid #e0e0e0; display: flex; justify-content: space-between; align-items: center;"><span style="font-weight: bold;">â“ é—®é¢˜5ï¼šå¾ªç¯é“¾è¡¨é€‚åˆç”¨åœ¨å“ªäº›åœºæ™¯ï¼Ÿä¸é€‚åˆå“ªäº›åœºæ™¯ï¼Ÿ</span><span id="arrow-q5" style="transition: transform 0.3s;">â–¼</span></div><div id="answer-q5" style="display: none; padding: 20px; background: #fff;"><div style="background: #e8f5e8; padding: 15px; border-radius: 8px; border-left: 4px solid #4CAF50;"><strong>ğŸ’¡ ç­”æ¡ˆï¼š</strong><br><p><strong>âœ… é€‚åˆçš„åœºæ™¯ï¼š</strong></p><ul><li><strong>è½®è½¬è°ƒåº¦ï¼š</strong>æ“ä½œç³»ç»Ÿè¿›ç¨‹è°ƒåº¦ã€ä»»åŠ¡è½®è½¬</li><li><strong>å¾ªç¯æ’­æ”¾ï¼š</strong>éŸ³ä¹æ’­æ”¾å™¨ã€å¹»ç¯ç‰‡è‡ªåŠ¨æ’­æ”¾</li><li><strong>å›åˆåˆ¶æ¸¸æˆï¼š</strong>ç©å®¶è½®æµæ“ä½œ</li><li><strong>çº¦ç‘Ÿå¤«ç¯é—®é¢˜ï¼š</strong>ç»å…¸çš„å¾ªç¯æ·˜æ±°é—®é¢˜</li></ul><p><strong>âŒ ä¸é€‚åˆçš„åœºæ™¯ï¼š</strong></p><ul><li><strong>é¢‘ç¹éšæœºè®¿é—®ï¼š</strong>æ•°ç»„æ›´é€‚åˆO(1)éšæœºè®¿é—®</li><li><strong>å¤§é‡æ’å…¥/åˆ é™¤æ“ä½œï¼š</strong>æ¯æ¬¡éƒ½è¦éå†æ‰¾ä½ç½®ï¼Œæ•ˆç‡è¾ƒä½</li><li><strong>éœ€è¦æ˜ç¡®èµ·å§‹/ç»“æŸçš„åœºæ™¯ï¼š</strong>æ™®é€šé“¾è¡¨æˆ–æ•°ç»„æ›´åˆé€‚</li><li><strong>å†…å­˜æ•æ„Ÿçš„åº”ç”¨ï¼š</strong>æ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦é¢å¤–çš„æŒ‡é’ˆå¼€é”€</li></ul></div></div></div></div><script>function toggleAnswer(questionId) { const answer = document.getElementById('answer-' + questionId); const arrow = document.getElementById('arrow-' + questionId); if (answer.style.display === 'none') { answer.style.display = 'block'; arrow.style.transform = 'rotate(180deg)'; } else { answer.style.display = 'none'; arrow.style.transform = 'rotate(0deg)'; } }</script><div class="info-box info-box-success"><span class="info-icon">ğŸ“–</span><strong>ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®ï¼š</strong>åŒå‘é“¾è¡¨ â†’ åŒå‘å¾ªç¯é“¾è¡¨ â†’ æ ˆå’Œé˜Ÿåˆ—çš„é“¾è¡¨å®ç° â†’ å›¾çš„é‚»æ¥è¡¨è¡¨ç¤º
            </div></div></div><!-- å¯¼èˆªæŒ‰é’® --><div style="text-align: center; margin-top: 40px;"><a href="{% url 'knowledge_app:index' %}" class="unified-btn unified-btn-primary"><span>ğŸ </span>
            è¿”å›é¦–é¡µ
        </a><a href="{% url 'knowledge_app:cs_universe' %}" class="unified-btn unified-btn-secondary"><span>ğŸŒŒ</span>
            æ¢ç´¢CSå®‡å®™
        </a></div></div>
{% endblock %}