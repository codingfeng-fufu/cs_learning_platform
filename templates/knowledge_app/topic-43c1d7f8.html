{% extends 'knowledge_app/base.html' %}

{% block title %}æ ˆâ€”â€”å‡½æ•°è°ƒç”¨ - è®¡ç®—æœºç§‘å­¦å­¦ä¹ å¹³å°{% endblock %}

{% block content %}
<style>.content-card {margin-bottom:30px;padding:30px;background:white;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1)}.section-title {color:#2c3e50;font-size:1.8rem;margin-bottom:20px;display:flex;align-items:center;gap:12px}.section-icon {font-size:1.6rem}.difficulty-badge {padding:6px 12px;border-radius:20px;font-size:0.9rem;font-weight:bold;margin-left:15px}.difficulty-beginner {background:#e8f5e8;color:#2e7d32}.key-terms {display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:15px;margin:20px 0}.term-card {background:#f8f9fa;padding:15px;border-radius:8px;border-left:4px solid #3498db}.term-title {font-weight:bold;color:#2c3e50;margin-bottom:5px}.concept-box {background:#fff3cd;border:1px solid #ffeaa7;border-radius:8px;padding:20px;margin:15px 0}.analogy-box {background:#e8f4fd;border:1px solid #74b9ff;border-radius:8px;padding:20px;margin:15px 0}.analogy-title {font-weight:bold;color:#0984e3;margin-bottom:10px}.visualization-container {background:#f8f9fa;border-radius:12px;padding:30px;margin:20px 0;text-align:center}.canvas-container {position:relative;background:white;border:2px solid #ddd;border-radius:8px;margin:20px auto;display:inline-block}.control-panel {margin:20px 0;display:flex;justify-content:center;gap:15px;flex-wrap:wrap}.control-btn {padding:10px 20px;border:none;border-radius:6px;cursor:pointer;font-weight:bold;transition:all 0.3s}.btn-primary {background:#3498db;color:white}.btn-success {background:#27ae60;color:white}.btn-warning {background:#f39c12;color:white}.control-btn:hover {transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.2)}.code-container {margin:20px 0}.code-tabs {display:flex;background:#f1f2f6;border-radius:8px 8px 0 0;overflow:hidden}.code-tab {padding:12px 24px;cursor:pointer;border:none;background:transparent;font-weight:bold;transition:all 0.3s}.code-tab.active {background:#2c3e50;color:white}.code-tab:hover:not(.active) {background:#ddd}.code-content {background:#2c3e50;color:#ecf0f1;padding:20px;border-radius:0 0 8px 8px;position:relative;overflow-x:auto}.copy-btn {position:absolute;top:10px;right:10px;background:#3498db;color:white;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:0.8rem}.copy-btn:hover {background:#2980b9}.quiz-container {margin:20px 0}.quiz-item {background:#f8f9fa;border-radius:8px;padding:20px;margin:15px 0;border-left:4px solid #3498db}.quiz-question {font-weight:bold;color:#2c3e50;margin-bottom:15px}.answer-btn {background:#e74c3c;color:white;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;margin-bottom:10px}.answer-btn:hover {background:#c0392b}.quiz-answer {display:none;background:#d5f4e6;border:1px solid #27ae60;border-radius:4px;padding:15px;margin-top:10px}.quiz-answer.show {display:block}.step-indicator {margin:15px 0;font-weight:bold;color:#2c3e50}pre {font-family:'Courier New', monospace;white-space:pre-wrap;margin:0}.fade-in {animation:fadeIn 0.8s ease-out}.slide-in-left {animation:slideInLeft 0.6s ease-out}.slide-in-right {animation:slideInRight 0.6s ease-out}@keyframes fadeIn {from {opacity:0}to {opacity:1}}@keyframes slideInLeft {from {transform:translateX(-50px);opacity:0}to {transform:translateX(0);opacity:1}}@keyframes slideInRight {from {transform:translateX(50px);opacity:0}to {transform:translateX(0);opacity:1}}</style><div class="page-container fade-in"><!-- é¢åŒ…å±‘å¯¼èˆª --><div class="breadcrumb"><a href="{% url 'knowledge_app:index' %}">é¦–é¡µ</a><span>></span><span>æ•°æ®ç»“æ„</span><span>></span><span>æ ˆâ€”â€”å‡½æ•°è°ƒç”¨</span></div><!-- é¡µé¢å¤´éƒ¨ --><div class="page-header slide-in-left"><h1><span class="page-icon">ğŸ“š</span>
            æ ˆâ€”â€”å‡½æ•°è°ƒç”¨
            <span class="difficulty-badge difficulty-beginner">å…¥é—¨çº§</span></h1><p>æ·±å…¥ç†è§£å‡½æ•°è°ƒç”¨æ ˆçš„å·¥ä½œåŸç†ï¼ŒæŒæ¡ç¨‹åºæ‰§è¡Œçš„æ ¸å¿ƒæœºåˆ¶</p></div><!-- ğŸ“‹ çŸ¥è¯†ç‚¹æ¦‚è¿° --><div class="content-card slide-in-right"><h2 class="section-title"><span class="section-icon">ğŸ“‹</span>
            çŸ¥è¯†ç‚¹æ¦‚è¿°
        </h2><div class="concept-box"><h3>æ ¸å¿ƒæ¦‚å¿µ</h3><p><strong>å‡½æ•°è°ƒç”¨æ ˆ</strong>æ˜¯è®¡ç®—æœºç¨‹åºæ‰§è¡Œæ—¶ç”¨æ¥è·Ÿè¸ªå‡½æ•°è°ƒç”¨å…³ç³»çš„å†…å­˜åŒºåŸŸã€‚å½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œç›¸å…³ä¿¡æ¯ä¼šè¢«æ¨å…¥æ ˆä¸­ï¼›å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œè¿™äº›ä¿¡æ¯ä¼šä»æ ˆä¸­å¼¹å‡ºï¼Œå®ç°å‡½æ•°çš„æœ‰åºæ‰§è¡Œå’Œè¿”å›ã€‚</p></div><div class="key-terms"><div class="term-card"><div class="term-title">æ ˆå¸§ (Stack Frame)</div><div>æ¯æ¬¡å‡½æ•°è°ƒç”¨åœ¨æ ˆä¸­å ç”¨çš„å†…å­˜åŒºåŸŸï¼ŒåŒ…å«å±€éƒ¨å˜é‡ã€å‚æ•°ã€è¿”å›åœ°å€ç­‰</div></div><div class="term-card"><div class="term-title">è°ƒç”¨æ ˆ (Call Stack)</div><div>ç¨‹åºè¿è¡Œæ—¶ç»´æŠ¤çš„å‡½æ•°è°ƒç”¨åºåˆ—ï¼Œé‡‡ç”¨åè¿›å…ˆå‡º(LIFO)çš„åŸåˆ™</div></div><div class="term-card"><div class="term-title">æ ˆæŒ‡é’ˆ (Stack Pointer)</div><div>æŒ‡å‘å½“å‰æ ˆé¡¶ä½ç½®çš„æŒ‡é’ˆï¼Œéšç€å‡½æ•°è°ƒç”¨å’Œè¿”å›è€Œç§»åŠ¨</div></div><div class="term-card"><div class="term-title">è¿”å›åœ°å€ (Return Address)</div><div>å‡½æ•°æ‰§è¡Œå®Œæ¯•åéœ€è¦è¿”å›çš„ä»£ç ä½ç½®</div></div></div><div style="margin-top: 20px;"><strong>å‰ç½®çŸ¥è¯†ï¼š</strong>åŸºæœ¬çš„å‡½æ•°æ¦‚å¿µã€å†…å­˜å¸ƒå±€ã€æŒ‡é’ˆåŸºç¡€
        </div></div><!-- ğŸ” æ¦‚å¿µè¯¦è§£ --><div class="content-card"><h2 class="section-title"><span class="section-icon">ğŸ”</span>
            æ¦‚å¿µè¯¦è§£
        </h2><div class="analogy-box"><div class="analogy-title">ç”Ÿæ´»ç±»æ¯”ï¼šé¤å…åå¨çš„ç›˜å­å †</div><p>æƒ³è±¡é¤å…åå¨æ´—å®Œçš„ç›˜å­å †å èµ·æ¥ï¼š</p><ul><li><strong>ç›˜å­ = å‡½æ•°</strong>ï¼šæ¯ä¸ªç›˜å­ä»£è¡¨ä¸€ä¸ªå‡½æ•°è°ƒç”¨</li><li><strong>å †å  = è°ƒç”¨å…³ç³»</strong>ï¼šåæ”¾çš„ç›˜å­åœ¨ä¸Šé¢ï¼Œéœ€è¦å…ˆæ‹¿èµ°</li><li><strong>æœ€ä¸Šé¢çš„ç›˜å­ = å½“å‰æ‰§è¡Œçš„å‡½æ•°</strong>ï¼šåªèƒ½æ“ä½œæ ˆé¡¶çš„ç›˜å­</li><li><strong>æ‹¿èµ°ç›˜å­ = å‡½æ•°è¿”å›</strong>ï¼šæ‹¿èµ°åéœ²å‡ºä¸‹é¢çš„ç›˜å­ç»§ç»­ä½¿ç”¨</li></ul></div><h3>1. æ ˆå¸§çš„ç»„æˆ</h3><p>æ¯ä¸ªæ ˆå¸§åŒ…å«ï¼š</p><ul><li><strong>å±€éƒ¨å˜é‡</strong>ï¼šå‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡</li><li><strong>å‡½æ•°å‚æ•°</strong>ï¼šä¼ é€’ç»™å‡½æ•°çš„å‚æ•°å€¼</li><li><strong>è¿”å›åœ°å€</strong>ï¼šå‡½æ•°ç»“æŸåè¿”å›çš„ä½ç½®</li><li><strong>ä¿å­˜çš„å¯„å­˜å™¨</strong>ï¼šè°ƒç”¨å‰éœ€è¦ä¿å­˜çš„CPUçŠ¶æ€</li></ul><h3>2. å‡½æ•°è°ƒç”¨è¿‡ç¨‹</h3><p>å‡½æ•°è°ƒç”¨éµå¾ªä¸¥æ ¼çš„æ­¥éª¤ï¼š</p><ol><li><strong>å‡†å¤‡å‚æ•°</strong>ï¼šå°†å‚æ•°å€¼å‹å…¥æ ˆä¸­</li><li><strong>ä¿å­˜è¿”å›åœ°å€</strong>ï¼šè®°å½•è°ƒç”¨ç»“æŸåçš„è¿”å›ä½ç½®</li><li><strong>è·³è½¬æ‰§è¡Œ</strong>ï¼šç¨‹åºæ§åˆ¶æƒè½¬ç§»åˆ°è¢«è°ƒç”¨å‡½æ•°</li><li><strong>åˆ†é…å±€éƒ¨å˜é‡</strong>ï¼šä¸ºå‡½æ•°å†…å˜é‡åˆ†é…æ ˆç©ºé—´</li></ol><h3>3. å‡½æ•°è¿”å›è¿‡ç¨‹</h3><p>å‡½æ•°è¿”å›æ—¶éœ€è¦ï¼š</p><ol><li><strong>å‡†å¤‡è¿”å›å€¼</strong>ï¼šå°†ç»“æœæ”¾å…¥æŒ‡å®šä½ç½®</li><li><strong>æ¸…ç†æ ˆå¸§</strong>ï¼šé‡Šæ”¾å±€éƒ¨å˜é‡å ç”¨çš„ç©ºé—´</li><li><strong>æ¢å¤ç°åœº</strong>ï¼šè¿˜åŸè°ƒç”¨å‰çš„CPUçŠ¶æ€</li><li><strong>è¿”å›è°ƒç”¨è€…</strong>ï¼šæ ¹æ®è¿”å›åœ°å€ç»§ç»­æ‰§è¡Œ</li></ol><div class="concept-box"><h3>âš ï¸ å®¹æ˜“æ··æ·†çš„åœ°æ–¹</h3><ul><li><strong>æ ˆçš„å¢é•¿æ–¹å‘</strong>ï¼šåœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œæ ˆå‘ä½åœ°å€å¢é•¿ï¼ˆçœ‹èµ·æ¥æ˜¯"å‘ä¸‹"çš„ï¼‰</li><li><strong>é€’å½’ä¸æ ˆ</strong>ï¼šé€’å½’è°ƒç”¨ä¼šä¸æ–­åˆ›å»ºæ–°æ ˆå¸§ï¼Œå¯èƒ½å¯¼è‡´æ ˆæº¢å‡º</li><li><strong>å‚æ•°ä¼ é€’</strong>ï¼šä¸åŒè¯­è¨€å’Œç¼–è¯‘å™¨å¯¹å‚æ•°å‹æ ˆé¡ºåºå¯èƒ½ä¸åŒ</li></ul></div></div><!-- ğŸ“Š å¯è§†åŒ–å±•ç¤º --><div class="content-card"><h2 class="section-title"><span class="section-icon">ğŸ“Š</span>
            å¯è§†åŒ–å±•ç¤º
        </h2><div class="visualization-container"><h3>å‡½æ•°è°ƒç”¨æ ˆåŠ¨æ€æ¼”ç¤º</h3><p>è§‚å¯Ÿå‡½æ•° main() â†’ funcA() â†’ funcB() çš„è°ƒç”¨è¿‡ç¨‹</p><div class="canvas-container"><canvas id="stackCanvas" width="600" height="400"></canvas></div><div class="control-panel"><button class="control-btn btn-primary" onclick="resetAnimation()">é‡ç½®</button><button class="control-btn btn-success" onclick="stepForward()">ä¸‹ä¸€æ­¥</button><button class="control-btn btn-warning" onclick="stepBackward()">ä¸Šä¸€æ­¥</button></div><div class="step-indicator" id="stepIndicator">
                ç¬¬ 1 æ­¥ï¼šç¨‹åºå¼€å§‹ï¼Œmain()å‡½æ•°å…¥æ ˆ
            </div></div><div class="code-container"><h3>æ¼”ç¤ºä»£ç </h3><div class="code-tabs"><button class="code-tab active" onclick="showCode('cpp')">C++</button><button class="code-tab" onclick="showCode('java')">Java</button><button class="code-tab" onclick="showCode('python')">Python</button></div><div id="cppCode" class="code-content"><button class="copy-btn" onclick="copyCode('cpp')">å¤åˆ¶ä»£ç </button><pre>#include &lt;iostream&gt;
using namespace std;

int funcB(int x) {
    int result = x * 2;
    cout &lt;&lt; "åœ¨funcBä¸­ï¼Œx = " &lt;&lt; x &lt;&lt; ", result = " &lt;&lt; result &lt;&lt; endl;
    return result;  // è¿”å›åˆ°funcA
}

int funcA(int a, int b) {
    int sum = a + b;
    cout &lt;&lt; "åœ¨funcAä¸­ï¼Œsum = " &lt;&lt; sum &lt;&lt; endl;
    int doubled = funcB(sum);  // è°ƒç”¨funcB
    return doubled;  // è¿”å›åˆ°main
}

int main() {
    cout &lt;&lt; "ç¨‹åºå¼€å§‹æ‰§è¡Œ" &lt;&lt; endl;
    int result = funcA(3, 5);  // è°ƒç”¨funcA
    cout &lt;&lt; "æœ€ç»ˆç»“æœï¼š" &lt;&lt; result &lt;&lt; endl;
    return 0;  // ç¨‹åºç»“æŸ
}</pre></div><div id="javaCode" class="code-content" style="display: none;"><button class="copy-btn" onclick="copyCode('java')">å¤åˆ¶ä»£ç </button><pre>public class FunctionCallDemo {
    public static int funcB(int x) {
        int result = x * 2;
        System.out.println("åœ¨funcBä¸­ï¼Œx = " + x + ", result = " + result);
        return result;  // è¿”å›åˆ°funcA
    }

    public static int funcA(int a, int b) {
        int sum = a + b;
        System.out.println("åœ¨funcAä¸­ï¼Œsum = " + sum);
        int doubled = funcB(sum);  // è°ƒç”¨funcB
        return doubled;  // è¿”å›åˆ°main
    }

    public static void main(String[] args) {
        System.out.println("ç¨‹åºå¼€å§‹æ‰§è¡Œ");
        int result = funcA(3, 5);  // è°ƒç”¨funcA
        System.out.println("æœ€ç»ˆç»“æœï¼š" + result);
        // ç¨‹åºç»“æŸ
    }
}</pre></div><div id="pythonCode" class="code-content" style="display: none;"><button class="copy-btn" onclick="copyCode('python')">å¤åˆ¶ä»£ç </button><pre>def funcB(x):
    result = x * 2
    print(f"åœ¨funcBä¸­ï¼Œx = {x}, result = {result}")
    return result  # è¿”å›åˆ°funcA

def funcA(a, b):
    sum_val = a + b
    print(f"åœ¨funcAä¸­ï¼Œsum = {sum_val}")
    doubled = funcB(sum_val)  # è°ƒç”¨funcB
    return doubled  # è¿”å›åˆ°main

def main():
    print("ç¨‹åºå¼€å§‹æ‰§è¡Œ")
    result = funcA(3, 5)  # è°ƒç”¨funcA
    print(f"æœ€ç»ˆç»“æœï¼š{result}")
    # ç¨‹åºç»“æŸ

if __name__ == "__main__":
    main()</pre></div></div></div><!-- ğŸŒŸ å®é™…åº”ç”¨ --><div class="content-card"><h2 class="section-title"><span class="section-icon">ğŸŒŸ</span>
            å®é™…åº”ç”¨
        </h2><h3>1. é€’å½’ç®—æ³•</h3><p>å‡½æ•°è°ƒç”¨æ ˆæ˜¯é€’å½’ç®—æ³•å®ç°çš„åŸºç¡€ï¼Œæ¯æ¬¡é€’å½’è°ƒç”¨éƒ½ä¼šåˆ›å»ºæ–°çš„æ ˆå¸§ï¼š</p><div class="analogy-box"><strong>åº”ç”¨åœºæ™¯ï¼š</strong>é˜¶ä¹˜è®¡ç®—ã€æ–æ³¢é‚£å¥‘æ•°åˆ—ã€æ ‘çš„éå†ã€å¿«é€Ÿæ’åºç­‰
        </div><h3>2. ç¨‹åºè°ƒè¯•</h3><p>è°ƒè¯•å™¨é€šè¿‡åˆ†æè°ƒç”¨æ ˆå¸®åŠ©å¼€å‘è€…å®šä½é—®é¢˜ï¼š</p><ul><li><strong>å †æ ˆè·Ÿè¸ª</strong>ï¼šæ˜¾ç¤ºå‡½æ•°è°ƒç”¨çš„å®Œæ•´è·¯å¾„</li><li><strong>æ–­ç‚¹è°ƒè¯•</strong>ï¼šåœ¨ç‰¹å®šå‡½æ•°å¤„æš‚åœç¨‹åºæ‰§è¡Œ</li><li><strong>å˜é‡æŸ¥çœ‹</strong>ï¼šæ£€æŸ¥ä¸åŒæ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡</li></ul><h3>3. å†…å­˜ç®¡ç†</h3><p>ç†è§£è°ƒç”¨æ ˆæœ‰åŠ©äºï¼š</p><ul><li><strong>é¿å…æ ˆæº¢å‡º</strong>ï¼šæ§åˆ¶é€’å½’æ·±åº¦å’Œå±€éƒ¨å˜é‡å¤§å°</li><li><strong>ä¼˜åŒ–æ€§èƒ½</strong>ï¼šå‡å°‘ä¸å¿…è¦çš„å‡½æ•°è°ƒç”¨å¼€é”€</li><li><strong>å†…å­˜å¸ƒå±€è®¾è®¡</strong>ï¼šåˆç†è®¾è®¡ç¨‹åºçš„å†…å­˜ä½¿ç”¨</li></ul><div class="concept-box"><h3>æ¨èå­¦ä¹ å·¥å…·</h3><ul><li><strong>åœ¨çº¿å¯è§†åŒ–å·¥å…·</strong>ï¼šPython Tutorã€VisuAlgo</li><li><strong>è°ƒè¯•å™¨</strong>ï¼šGDBã€IDEé›†æˆè°ƒè¯•å™¨</li><li><strong>æ€§èƒ½åˆ†æå·¥å…·</strong>ï¼šValgrindã€Profiler</li></ul></div></div><!-- âœ… å­¦ä¹ æ£€éªŒ --><div class="content-card"><h2 class="section-title"><span class="section-icon">âœ…</span>
            å­¦ä¹ æ£€éªŒ
        </h2><div class="quiz-container"><div class="quiz-item"><div class="quiz-question">
                    1. ä¸‹é¢å“ªä¸ªé€‰é¡¹æ­£ç¡®æè¿°äº†å‡½æ•°è°ƒç”¨æ ˆçš„ç‰¹ç‚¹ï¼Ÿ
                </div><button class="answer-btn" onclick="toggleAnswer('answer1')">æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer1" class="quiz-answer"><strong>ç­”æ¡ˆï¼š</strong>å‡½æ•°è°ƒç”¨æ ˆéµå¾ªLIFO(åè¿›å…ˆå‡º)åŸåˆ™ã€‚æœ€åè°ƒç”¨çš„å‡½æ•°æœ€å…ˆè¿”å›ï¼Œè¿™ç¡®ä¿äº†ç¨‹åºèƒ½å¤Ÿæ­£ç¡®åœ°å›åˆ°è°ƒç”¨ç‚¹ç»§ç»­æ‰§è¡Œã€‚æ¯ä¸ªå‡½æ•°è°ƒç”¨éƒ½ä¼šåœ¨æ ˆé¡¶åˆ›å»ºæ–°çš„æ ˆå¸§ï¼Œå‡½æ•°è¿”å›æ—¶ä»æ ˆé¡¶ç§»é™¤æ ˆå¸§ã€‚
                </div></div><div class="quiz-item"><div class="quiz-question">
                    2. å¦‚æœä¸€ä¸ªé€’å½’å‡½æ•°æ²¡æœ‰æ­£ç¡®çš„ç»ˆæ­¢æ¡ä»¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ
                </div><button class="answer-btn" onclick="toggleAnswer('answer2')">æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer2" class="quiz-answer"><strong>ç­”æ¡ˆï¼š</strong>ä¼šå‘ç”Ÿæ ˆæº¢å‡º(Stack Overflow)ã€‚å› ä¸ºæ¯æ¬¡é€’å½’è°ƒç”¨éƒ½ä¼šåˆ›å»ºæ–°çš„æ ˆå¸§ï¼Œå¦‚æœæ²¡æœ‰ç»ˆæ­¢æ¡ä»¶ï¼Œæ ˆå¸§ä¼šæ— é™å¢é•¿ï¼Œæœ€ç»ˆè¶…å‡ºç³»ç»Ÿåˆ†é…ç»™ç¨‹åºçš„æ ˆå†…å­˜é™åˆ¶ï¼Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚
                </div></div><div class="quiz-item"><div class="quiz-question">
                    3. æ ˆå¸§ä¸­é€šå¸¸åŒ…å«å“ªäº›ä¿¡æ¯ï¼Ÿ
                </div><button class="answer-btn" onclick="toggleAnswer('answer3')">æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer3" class="quiz-answer"><strong>ç­”æ¡ˆï¼š</strong>æ ˆå¸§é€šå¸¸åŒ…å«ï¼š(1)å‡½æ•°çš„å±€éƒ¨å˜é‡ (2)å‡½æ•°å‚æ•° (3)è¿”å›åœ°å€ (4)ä¿å­˜çš„å¯„å­˜å™¨å€¼ (5)å…¶ä»–æ§åˆ¶ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯ç¡®ä¿å‡½æ•°èƒ½å¤Ÿæ­£ç¡®æ‰§è¡Œå¹¶åœ¨å®Œæˆåè¿”å›åˆ°æ­£ç¡®çš„ä½ç½®ã€‚
                </div></div><div class="quiz-item"><div class="quiz-question">
                    4. ä¸ºä»€ä¹ˆç†è§£å‡½æ•°è°ƒç”¨æ ˆå¯¹ç¨‹åºè°ƒè¯•å¾ˆé‡è¦ï¼Ÿ
                </div><button class="answer-btn" onclick="toggleAnswer('answer4')">æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer4" class="quiz-answer"><strong>ç­”æ¡ˆï¼š</strong>è°ƒç”¨æ ˆæä¾›äº†ç¨‹åºæ‰§è¡Œçš„å®Œæ•´è·¯å¾„ï¼Œå¸®åŠ©å¼€å‘è€…ï¼š(1)è¿½è¸ªé”™è¯¯å‘ç”Ÿçš„ä½ç½®å’Œè°ƒç”¨é“¾ (2)ç†è§£ç¨‹åºçš„æ‰§è¡Œæµç¨‹ (3)æ£€æŸ¥ä¸åŒå‡½æ•°ä¸­çš„å˜é‡å€¼ (4)å®šä½æ€§èƒ½ç“¶é¢ˆ (5)åˆ†æå†…å­˜ä½¿ç”¨æƒ…å†µã€‚
                </div></div><div class="quiz-item"><div class="quiz-question">
                    5. åœ¨ä¸‹é¢çš„è°ƒç”¨åºåˆ—ä¸­ï¼Œæ ˆçš„çŠ¶æ€æ˜¯å¦‚ä½•å˜åŒ–çš„ï¼Ÿmain() â†’ funcA(10) â†’ funcB(5) â†’ return 15
                </div><button class="answer-btn" onclick="toggleAnswer('answer5')">æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer5" class="quiz-answer"><strong>ç­”æ¡ˆï¼š</strong>æ ˆå˜åŒ–è¿‡ç¨‹ï¼š<br>
                    1. åˆå§‹ï¼š[mainæ ˆå¸§]<br>
                    2. è°ƒç”¨funcAï¼š[mainæ ˆå¸§, funcAæ ˆå¸§(å‚æ•°10)]<br>
                    3. è°ƒç”¨funcBï¼š[mainæ ˆå¸§, funcAæ ˆå¸§, funcBæ ˆå¸§(å‚æ•°5)]<br>
                    4. funcBè¿”å›ï¼š[mainæ ˆå¸§, funcAæ ˆå¸§] (funcBæ ˆå¸§è¢«ç§»é™¤)<br>
                    5. funcAè¿”å›ï¼š[mainæ ˆå¸§] (funcAæ ˆå¸§è¢«ç§»é™¤)<br>
                    6. mainç»“æŸï¼š[] (ç¨‹åºç»“æŸ)
                </div></div></div></div><!-- å¯¼èˆªæŒ‰é’® --><div style="text-align: center; margin-top: 40px;"><a href="{% url 'knowledge_app:index' %}" class="unified-btn unified-btn-primary"><span>ğŸ </span>
            è¿”å›é¦–é¡µ
        </a><a href="{% url 'knowledge_app:cs_universe' %}" class="unified-btn unified-btn-secondary"><span>ğŸŒŒ</span>
            æ¢ç´¢CSå®‡å®™
        </a></div></div><script>let currentStep = 0; let canvas, ctx; const animationSteps = [ { step: 1, description: "ç¨‹åºå¼€å§‹ï¼Œmain()å‡½æ•°å…¥æ ˆ", stack: [ { name: "main()", vars: ["result"], color: "#3498db" } ] }, { step: 2, description: "main()è°ƒç”¨funcA(3, 5)ï¼ŒfuncAå…¥æ ˆ", stack: [ { name: "main()", vars: ["result"], color: "#3498db" }, { name: "funcA(3, 5)", vars: ["a=3", "b=5", "sum"], color: "#e74c3c" } ] }, { step: 3, description: "funcAè®¡ç®—sum=8ï¼Œå‡†å¤‡è°ƒç”¨funcB", stack: [ { name: "main()", vars: ["result"], color: "#3498db" }, { name: "funcA(3, 5)", vars: ["a=3", "b=5", "sum=8"], color: "#e74c3c" } ] }, { step: 4, description: "funcAè°ƒç”¨funcB(8)ï¼ŒfuncBå…¥æ ˆ", stack: [ { name: "main()", vars: ["result"], color: "#3498db" }, { name: "funcA(3, 5)", vars: ["a=3", "b=5", "sum=8"], color: "#e74c3c" }, { name: "funcB(8)", vars: ["x=8", "result"], color: "#27ae60" } ] }, { step: 5, description: "funcBè®¡ç®—result=16ï¼Œå‡†å¤‡è¿”å›", stack: [ { name: "main()", vars: ["result"], color: "#3498db" }, { name: "funcA(3, 5)", vars: ["a=3", "b=5", "sum=8"], color: "#e74c3c" }, { name: "funcB(8)", vars: ["x=8", "result=16"], color: "#27ae60" } ] }, { step: 6, description: "funcBè¿”å›16ï¼ŒfuncBå‡ºæ ˆ", stack: [ { name: "main()", vars: ["result"], color: "#3498db" }, { name: "funcA(3, 5)", vars: ["a=3", "b=5", "doubled=16"], color: "#e74c3c" } ] }, { step: 7, description: "funcAè¿”å›16ï¼ŒfuncAå‡ºæ ˆ", stack: [ { name: "main()", vars: ["result=16"], color: "#3498db" } ] }, { step: 8, description: "ç¨‹åºæ‰§è¡Œå®Œæ¯•ï¼Œmain()å‡ºæ ˆ", stack: [] } ]; document.addEventListener('DOMContentLoaded', function() { canvas = document.getElementById('stackCanvas'); ctx = canvas.getContext('2d'); drawStack(); }); function drawStack() { ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.strokeStyle = "#2c3e50"; ctx.lineWidth = 2; ctx.strokeRect(50, 50, 300, 300); ctx.fillStyle = "#2c3e50"; ctx.font = "16px Arial"; ctx.fillText("å‡½æ•°è°ƒç”¨æ ˆ", 50, 30); ctx.fillText("(æ ˆé¡¶)", 370, 70); ctx.fillText("(æ ˆåº•)", 370, 340); const currentStack = animationSteps[currentStep].stack; const frameHeight = 60; const startY = 320; for (let i = 0; i < currentStack.length; i++) { const frame = currentStack[i]; const y = startY - (i * frameHeight); ctx.fillStyle = frame.color; ctx.fillRect(60, y - frameHeight + 10, 280, frameHeight - 10); ctx.strokeStyle = "#2c3e50"; ctx.strokeRect(60, y - frameHeight + 10, 280, frameHeight - 10); ctx.fillStyle = "white"; ctx.font = "bold 14px Arial"; ctx.fillText(frame.name, 70, y - frameHeight + 30); ctx.font = "12px Arial"; const vars = frame.vars.join(", "); ctx.fillText("å˜é‡: " + vars, 70, y - frameHeight + 50); if (i === currentStack.length - 1) { ctx.fillStyle = "#f39c12"; ctx.beginPath(); ctx.moveTo(360, y - frameHeight/2); ctx.lineTo(350, y - frameHeight/2 - 5); ctx.lineTo(350, y - frameHeight/2 + 5); ctx.fill(); } } if (currentStack.length === 0) { ctx.fillStyle = "#95a5a6"; ctx.font = "16px Arial"; ctx.fillText("æ ˆä¸ºç©º", 150, 200); } } function resetAnimation() { currentStep = 0; updateStepIndicator(); drawStack(); } function stepForward() { if (currentStep < animationSteps.length - 1) { currentStep++; updateStepIndicator(); drawStack(); } } function stepBackward() { if (currentStep > 0) { currentStep--; updateStepIndicator(); drawStack(); } } function updateStepIndicator() { const indicator = document.getElementById('stepIndicator'); indicator.textContent = `ç¬¬ ${animationSteps[currentStep].step} æ­¥ï¼š${animationSteps[currentStep].description}`; } function showCode(language) { const codes = ['cpp', 'java', 'python']; codes.forEach(code => { document.getElementById(code + 'Code').style.display = 'none'; }); document.getElementById(language + 'Code').style.display = 'block'; document.querySelectorAll('.code-tab').forEach(tab => { tab.classList.remove('active'); }); event.target.classList.add('active'); } function copyCode(language) { const codeElement = document.querySelector(`#${language}Code pre`); const text = codeElement.textContent; navigator.clipboard.writeText(text).then(() => { const btn = event.target; const originalText = btn.textContent; btn.textContent = 'å·²å¤åˆ¶!'; btn.style.background = '#27ae60'; setTimeout(() => { btn.textContent = originalText; btn.style.background = '#3498db'; }, 2000); }); } function toggleAnswer(answerId) { const answer = document.getElementById(answerId); answer.classList.toggle('show'); }</script>

{% endblock %}