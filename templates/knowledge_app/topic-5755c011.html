{% extends 'knowledge_app/base.html' %}

{% block title %}æ ‘ã€æ£®æ—ä¸äºŒå‰æ ‘çš„è½¬æ¢ - è®¡ç®—æœºç§‘å­¦å­¦ä¹ å¹³å°{% endblock %}

{% block content %}
<style>.knowledge-container {max-width:1200px;margin:0 auto;padding:20px;font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif}.section {background:white;border-radius:12px;padding:30px;margin-bottom:30px;box-shadow:0 4px 6px rgba(0, 0, 0, 0.07);border:1px solid #e5e7eb}.section-header {display:flex;align-items:center;margin-bottom:25px;padding-bottom:15px;border-bottom:2px solid #f3f4f6}.section-icon {font-size:2rem;margin-right:15px}.section-title {font-size:1.8rem;font-weight:700;color:#1f2937;margin:0}.difficulty-badge {display:inline-block;background:#fef3c7;color:#d97706;padding:4px 12px;border-radius:20px;font-size:0.8rem;font-weight:600;margin-left:15px}.concept-grid {display:grid;grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));gap:20px;margin:20px 0}.concept-card {background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:20px;transition:transform 0.2s, box-shadow 0.2s}.concept-card:hover {transform:translateY(-2px);box-shadow:0 8px 15px rgba(0, 0, 0, 0.1)}.visualization-container {background:#f9fafb;border-radius:12px;padding:30px;margin:25px 0;position:relative}.canvas-container {text-align:center;margin:20px 0;background:white;border-radius:8px;padding:20px;box-shadow:0 2px 4px rgba(0, 0, 0, 0.1)}.controls {display:flex;justify-content:center;gap:15px;margin:20px 0;flex-wrap:wrap}.btn {background:#3b82f6;color:white;border:none;padding:10px 20px;border-radius:6px;cursor:pointer;font-weight:500;transition:background 0.2s}.btn:hover {background:#2563eb}.btn-secondary {background:#6b7280}.btn-secondary:hover {background:#4b5563}.code-container {background:#1f2937;border-radius:8px;margin:20px 0;overflow:hidden}.code-tabs {display:flex;background:#374151;border-bottom:1px solid #4b5563}.code-tab {background:none;border:none;color:#d1d5db;padding:12px 20px;cursor:pointer;transition:all 0.2s}.code-tab.active {background:#1f2937;color:#f9fafb;border-bottom:2px solid #3b82f6}.code-content {position:relative}.code-block {background:#1f2937;color:#f9fafb;padding:20px;overflow-x:auto;font-family:'Monaco', 'Menlo', 'Ubuntu Mono', monospace;font-size:14px;line-height:1.5;display:none}.code-block.active {display:block}.copy-btn {position:absolute;top:10px;right:10px;background:#4b5563;color:white;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:12px}.copy-btn:hover {background:#374151}.quiz-container {margin:20px 0}.quiz-item {background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;margin:15px 0;padding:20px}.quiz-question {font-weight:600;color:#1f2937;margin-bottom:15px;cursor:pointer;display:flex;justify-content:space-between;align-items:center}.quiz-answer {background:#e0f2fe;border-left:4px solid #0288d1;padding:15px;margin-top:10px;border-radius:0 4px 4px 0;display:none}.toggle-icon {transition:transform 0.3s}.toggle-icon.active {transform:rotate(180deg)}.highlight {background:#fef3c7;padding:2px 4px;border-radius:3px;font-weight:600}.warning-box {background:#fef2f2;border-left:4px solid #ef4444;padding:15px;margin:15px 0;border-radius:0 6px 6px 0}.info-box {background:#eff6ff;border-left:4px solid #3b82f6;padding:15px;margin:15px 0;border-radius:0 6px 6px 0}.step-container {display:flex;flex-wrap:wrap;gap:15px;margin:20px 0}.step {background:white;border:2px solid #e5e7eb;border-radius:8px;padding:15px;flex:1;min-width:200px;text-align:center;position:relative}.step-number {background:#3b82f6;color:white;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;position:absolute;top:-15px;left:50%;transform:translateX(-50%)}.step-title {margin-top:20px;font-weight:600;color:#1f2937}</style><div class="knowledge-container fade-in"><!-- é¢åŒ…å±‘å¯¼èˆª --><div class="breadcrumb"><a href="{% url 'knowledge_app:index' %}">é¦–é¡µ</a><span>></span><span>æ•°æ®ç»“æ„</span><span>></span><span>æ ‘ã€æ£®æ—ä¸äºŒå‰æ ‘çš„è½¬æ¢</span></div><!-- ğŸ“‹ çŸ¥è¯†ç‚¹æ¦‚è¿° --><div class="section slide-in-left"><div class="section-header"><span class="section-icon">ğŸ“‹</span><h1 class="section-title">çŸ¥è¯†ç‚¹æ¦‚è¿°</h1><span class="difficulty-badge">è¿›é˜¶</span></div><div class="info-box"><h3>ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ</h3><p><strong>æ ‘ã€æ£®æ—ä¸äºŒå‰æ ‘çš„è½¬æ¢</strong>æ˜¯æŒ‡é€šè¿‡ç‰¹å®šçš„ç®—æ³•ï¼Œåœ¨ä¸€èˆ¬æ ‘ã€æ£®æ—å’ŒäºŒå‰æ ‘è¿™ä¸‰ç§æ•°æ®ç»“æ„ä¹‹é—´è¿›è¡Œç›¸äº’è½¬æ¢çš„è¿‡ç¨‹ã€‚è¿™ç§è½¬æ¢è®©æˆ‘ä»¬èƒ½å¤Ÿç”¨äºŒå‰æ ‘æ¥è¡¨ç¤ºå’Œå¤„ç†ä»»æ„çš„æ ‘å½¢ç»“æ„ã€‚</p></div><div class="concept-grid"><div class="concept-card"><h4>ğŸŒ³ ä¸€èˆ¬æ ‘</h4><p>æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰ä»»æ„æ•°é‡å­èŠ‚ç‚¹çš„æ ‘å½¢ç»“æ„</p></div><div class="concept-card"><h4>ğŸŒ² æ£®æ—</h4><p>å¤šä¸ªä¸ç›¸äº¤æ ‘çš„é›†åˆ</p></div><div class="concept-card"><h4>ğŸŒ¿ äºŒå‰æ ‘</h4><p>æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„æ ‘</p></div><div class="concept-card"><h4>ğŸ”„ å·¦å­©å­å³å…„å¼Ÿè¡¨ç¤ºæ³•</h4><p>è½¬æ¢çš„æ ¸å¿ƒæ€æƒ³ï¼šå·¦æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªå­©å­ï¼Œå³æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…„å¼Ÿ</p></div></div><div class="warning-box"><strong>âš ï¸ å‰ç½®çŸ¥è¯†ï¼š</strong>éœ€è¦æŒæ¡æ ‘çš„åŸºæœ¬æ¦‚å¿µã€äºŒå‰æ ‘çš„æ€§è´¨å’Œéå†ç®—æ³•
        </div></div><!-- ğŸ” æ¦‚å¿µè¯¦è§£ --><div class="section slide-in-right"><div class="section-header"><span class="section-icon">ğŸ”</span><h2 class="section-title">æ¦‚å¿µè¯¦è§£</h2></div><h3>ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦è½¬æ¢ï¼Ÿ</h3><p>æƒ³è±¡ä¸€ä¸‹å…¬å¸çš„ç»„ç»‡ç»“æ„å›¾ï¼šCEOä¸‹é¢æœ‰å¤šä¸ªå‰¯æ€»è£ï¼Œæ¯ä¸ªå‰¯æ€»è£ä¸‹é¢åˆæœ‰å¤šä¸ªéƒ¨é—¨ç»ç†...è¿™å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„<span class="highlight">ä¸€èˆ¬æ ‘</span>ã€‚ä½†è®¡ç®—æœºå¤„ç†äºŒå‰æ ‘æ›´é«˜æ•ˆï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠè¿™ç§"å¤šå‰æ ‘"è½¬æ¢ä¸º"äºŒå‰æ ‘"æ¥å¤„ç†ã€‚</p><h3>ğŸ”‘ è½¬æ¢çš„æ ¸å¿ƒæ€æƒ³</h3><div class="step-container"><div class="step"><div class="step-number">1</div><div class="step-title">å·¦æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªå­©å­</div><p>å°±åƒ"å¤§å„¿å­ç»§æ‰¿å®¶ä¸š"</p></div><div class="step"><div class="step-number">2</div><div class="step-title">å³æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…„å¼Ÿ</div><p>å°±åƒ"å…„å¼Ÿæ‰‹æ‹‰æ‰‹æ’é˜Ÿ"</p></div><div class="step"><div class="step-number">3</div><div class="step-title">ä¿æŒæ ‘çš„ç»“æ„å…³ç³»</div><p>è½¬æ¢åä»èƒ½æ¢å¤åŸæ¥çš„å…³ç³»</p></div></div><div class="warning-box"><strong>âš ï¸ åˆå­¦è€…å¸¸è§è¯¯åŒºï¼š</strong><ul><li>è®¤ä¸ºè½¬æ¢ä¼šä¸¢å¤±ä¿¡æ¯ï¼ˆå®é™…ä¸Šæ˜¯å¯é€†çš„ï¼‰</li><li>æ··æ·†"ç¬¬ä¸€ä¸ªå­©å­"å’Œ"å·¦å­©å­"çš„æ¦‚å¿µ</li><li>å¿˜è®°å¤„ç†å…„å¼ŸèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥å…³ç³»</li></ul></div></div><!-- ğŸ“Š å¯è§†åŒ–å±•ç¤º --><div class="section"><div class="section-header"><span class="section-icon">ğŸ“Š</span><h2 class="section-title">å¯è§†åŒ–å±•ç¤º</h2></div><div class="visualization-container"><h3>ğŸ® äº¤äº’å¼è½¬æ¢æ¼”ç¤º</h3><div class="canvas-container"><canvas id="conversionCanvas" width="1000" height="400"></canvas></div><div class="controls"><button class="btn" onclick="showOriginalTree()">æ˜¾ç¤ºåŸå§‹æ ‘</button><button class="btn" onclick="startConversion()">å¼€å§‹è½¬æ¢</button><button class="btn" onclick="showResult()">è·³åˆ°ç»“æœ</button><button class="btn btn-secondary" onclick="resetDemo()">é‡ç½®æ¼”ç¤º</button></div><div id="explanation" style="text-align: center; margin-top: 15px; font-weight: 600; color: #374151;"></div></div></div><!-- ğŸ’» ä»£ç å®ç° --><div class="section"><div class="section-header"><span class="section-icon">ğŸ’»</span><h2 class="section-title">ä»£ç å®ç°</h2></div><div class="code-container"><div class="code-tabs"><button class="code-tab active" onclick="showCode('cpp')">C++</button><button class="code-tab" onclick="showCode('java')">Java</button><button class="code-tab" onclick="showCode('python')">Python</button></div><div class="code-content"><button class="copy-btn" onclick="copyCode()">ğŸ“‹ å¤åˆ¶ä»£ç </button><div id="cpp-code" class="code-block active"><pre><code>// C++ å®ç°ï¼šæ ‘è½¬äºŒå‰æ ‘
#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;

struct TreeNode {
    int data;
    vector&lt;TreeNode*&gt; children;
    TreeNode(int val) : data(val) {}
};

struct BinaryNode {
    int data;
    BinaryNode* left;   // æŒ‡å‘ç¬¬ä¸€ä¸ªå­©å­
    BinaryNode* right;  // æŒ‡å‘ä¸‹ä¸€ä¸ªå…„å¼Ÿ
    BinaryNode(int val) : data(val), left(nullptr), right(nullptr) {}
};

// æ ‘è½¬äºŒå‰æ ‘çš„æ ¸å¿ƒå‡½æ•°
BinaryNode* treeToBinary(TreeNode* root) {
    if (!root) return nullptr;

    BinaryNode* binaryRoot = new BinaryNode(root-&gt;data);

    if (!root-&gt;children.empty()) {
        // ç¬¬ä¸€ä¸ªå­©å­æˆä¸ºå·¦å­æ ‘
        binaryRoot-&gt;left = treeToBinary(root-&gt;children[0]);

        // å¤„ç†å…„å¼ŸèŠ‚ç‚¹
        BinaryNode* current = binaryRoot-&gt;left;
        for (int i = 1; i &lt; root-&gt;children.size(); i++) {
            current-&gt;right = treeToBinary(root-&gt;children[i]);
            current = current-&gt;right;
        }
    }

    return binaryRoot;
}

// ä½¿ç”¨ç¤ºä¾‹
int main() {
    // åˆ›å»ºåŸå§‹æ ‘: Aæœ‰ä¸‰ä¸ªå­©å­Bã€Cã€D
    TreeNode* root = new TreeNode('A');
    root-&gt;children.push_back(new TreeNode('B'));
    root-&gt;children.push_back(new TreeNode('C'));
    root-&gt;children.push_back(new TreeNode('D'));

    // è½¬æ¢ä¸ºäºŒå‰æ ‘
    BinaryNode* binaryRoot = treeToBinary(root);

    cout &lt;&lt; "è½¬æ¢å®Œæˆï¼äºŒå‰æ ‘æ ¹èŠ‚ç‚¹: " &lt;&lt; (char)binaryRoot-&gt;data &lt;&lt; endl;
    return 0;
}</code></pre></div><div id="java-code" class="code-block"><pre><code>// Java å®ç°ï¼šæ ‘è½¬äºŒå‰æ ‘
import java.util.*;

class TreeNode {
    int data;
    List&lt;TreeNode&gt; children;

    public TreeNode(int data) {
        this.data = data;
        this.children = new ArrayList&lt;&gt;();
    }
}

class BinaryNode {
    int data;
    BinaryNode left;   // æŒ‡å‘ç¬¬ä¸€ä¸ªå­©å­
    BinaryNode right;  // æŒ‡å‘ä¸‹ä¸€ä¸ªå…„å¼Ÿ

    public BinaryNode(int data) {
        this.data = data;
        this.left = null;
        this.right = null;
    }
}

public class TreeToBinaryConverter {

    // æ ‘è½¬äºŒå‰æ ‘çš„æ ¸å¿ƒæ–¹æ³•
    public static BinaryNode treeToBinary(TreeNode root) {
        if (root == null) return null;

        BinaryNode binaryRoot = new BinaryNode(root.data);

        if (!root.children.isEmpty()) {
            // ç¬¬ä¸€ä¸ªå­©å­æˆä¸ºå·¦å­æ ‘
            binaryRoot.left = treeToBinary(root.children.get(0));

            // å¤„ç†å…„å¼ŸèŠ‚ç‚¹
            BinaryNode current = binaryRoot.left;
            for (int i = 1; i &lt; root.children.size(); i++) {
                current.right = treeToBinary(root.children.get(i));
                current = current.right;
            }
        }

        return binaryRoot;
    }

    // ä½¿ç”¨ç¤ºä¾‹
    public static void main(String[] args) {
        // åˆ›å»ºåŸå§‹æ ‘
        TreeNode root = new TreeNode('A');
        root.children.add(new TreeNode('B'));
        root.children.add(new TreeNode('C'));
        root.children.add(new TreeNode('D'));

        // è½¬æ¢ä¸ºäºŒå‰æ ‘
        BinaryNode binaryRoot = treeToBinary(root);

        System.out.println("è½¬æ¢å®Œæˆï¼äºŒå‰æ ‘æ ¹èŠ‚ç‚¹: " + (char)binaryRoot.data);
    }
}</code></pre></div><div id="python-code" class="code-block"><pre><code># Python å®ç°ï¼šæ ‘è½¬äºŒå‰æ ‘

class TreeNode:
    def __init__(self, data):
        self.data = data
        self.children = []

class BinaryNode:
    def __init__(self, data):
        self.data = data
        self.left = None    # æŒ‡å‘ç¬¬ä¸€ä¸ªå­©å­
        self.right = None   # æŒ‡å‘ä¸‹ä¸€ä¸ªå…„å¼Ÿ

def tree_to_binary(root):
    """æ ‘è½¬äºŒå‰æ ‘çš„æ ¸å¿ƒå‡½æ•°"""
    if not root:
        return None

    binary_root = BinaryNode(root.data)

    if root.children:
        # ç¬¬ä¸€ä¸ªå­©å­æˆä¸ºå·¦å­æ ‘
        binary_root.left = tree_to_binary(root.children[0])

        # å¤„ç†å…„å¼ŸèŠ‚ç‚¹
        current = binary_root.left
        for i in range(1, len(root.children)):
            current.right = tree_to_binary(root.children[i])
            current = current.right

    return binary_root

def print_binary_tree(root, level=0, prefix="Root: "):
    """æ‰“å°äºŒå‰æ ‘ç»“æ„"""
    if root:
        print(" " * (level * 4) + prefix + chr(root.data))
        if root.left or root.right:
            print_binary_tree(root.left, level + 1, "L--- ")
            print_binary_tree(root.right, level + 1, "R--- ")

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    # åˆ›å»ºåŸå§‹æ ‘: Aæœ‰ä¸‰ä¸ªå­©å­Bã€Cã€D
    root = TreeNode(ord('A'))
    root.children.append(TreeNode(ord('B')))
    root.children.append(TreeNode(ord('C')))
    root.children.append(TreeNode(ord('D')))

    # è½¬æ¢ä¸ºäºŒå‰æ ‘
    binary_root = tree_to_binary(root)

    print("è½¬æ¢å®Œæˆï¼äºŒå‰æ ‘ç»“æ„ï¼š")
    print_binary_tree(binary_root)</code></pre></div></div></div></div><!-- ğŸŒŸ å®é™…åº”ç”¨ --><div class="section"><div class="section-header"><span class="section-icon">ğŸŒŸ</span><h2 class="section-title">å®é™…åº”ç”¨</h2></div><div class="concept-grid"><div class="concept-card"><h4>ğŸ¢ ç»„ç»‡æ¶æ„ç®¡ç†</h4><p>å…¬å¸ç»„ç»‡ç»“æ„å¯ä»¥è½¬æ¢ä¸ºäºŒå‰æ ‘ï¼Œä¾¿äºæŸ¥æ‰¾ä¸Šä¸‹çº§å…³ç³»å’Œç»Ÿè®¡éƒ¨é—¨ä¿¡æ¯</p></div><div class="concept-card"><h4>ğŸ“ æ–‡ä»¶ç³»ç»Ÿ</h4><p>æ–‡ä»¶å¤¹çš„æ ‘å½¢ç»“æ„å¯ä»¥è½¬æ¢ä¸ºäºŒå‰æ ‘ï¼Œæé«˜æ–‡ä»¶æ£€ç´¢å’Œç®¡ç†æ•ˆç‡</p></div><div class="concept-card"><h4>ğŸ§¬ æ—è°±ç®¡ç†</h4><p>å®¶æ—å…³ç³»æ ‘è½¬æ¢ä¸ºäºŒå‰æ ‘ï¼Œä¾¿äºè¿½æº¯å®¶æ—å†å²å’Œå…³ç³»æŸ¥è¯¢</p></div></div><div class="info-box"><h4>ğŸ¯ å…¸å‹åº”ç”¨æ¡ˆä¾‹ï¼šè¡¨è¾¾å¼æ ‘</h4><p>åœ¨ç¼–è¯‘å™¨è®¾è®¡ä¸­ï¼Œå¤æ‚çš„è¡¨è¾¾å¼å¯ä»¥è¡¨ç¤ºä¸ºå¤šå‰æ ‘ï¼Œä½†ä¸ºäº†ä¾¿äºå¤„ç†ï¼Œé€šå¸¸è½¬æ¢ä¸ºäºŒå‰æ ‘è¿›è¡Œè¯­æ³•åˆ†æå’Œä»£ç ç”Ÿæˆã€‚</p></div><div class="warning-box"><strong>ğŸ› ï¸ æ¨èå­¦ä¹ å·¥å…·ï¼š</strong><ul><li><strong>å¯è§†åŒ–å·¥å…·ï¼š</strong> VisuAlgoã€Tree Visualizer</li><li><strong>ç¼–ç¨‹ç»ƒä¹ ï¼š</strong> LeetCodeæ ‘ç›¸å…³é¢˜ç›®</li><li><strong>æ¨¡æ‹Ÿå™¨ï¼š</strong> Data Structure Visualizations</li></ul></div></div><!-- âœ… å­¦ä¹ æ£€éªŒ --><div class="section"><div class="section-header"><span class="section-icon">âœ…</span><h2 class="section-title">å­¦ä¹ æ£€éªŒ</h2></div><div class="quiz-container"><div class="quiz-item"><div class="quiz-question" onclick="toggleAnswer(1)"><span>1. åœ¨å·¦å­©å­å³å…„å¼Ÿè¡¨ç¤ºæ³•ä¸­ï¼ŒäºŒå‰æ ‘çš„å·¦æŒ‡é’ˆæŒ‡å‘ä»€ä¹ˆï¼Ÿ</span><span class="toggle-icon" id="icon1">ğŸ”½</span></div><div class="quiz-answer" id="answer1"><strong>ç­”æ¡ˆï¼š</strong>äºŒå‰æ ‘çš„å·¦æŒ‡é’ˆæŒ‡å‘åŸæ ‘ä¸­è¯¥èŠ‚ç‚¹çš„<span class="highlight">ç¬¬ä¸€ä¸ªå­©å­èŠ‚ç‚¹</span>ã€‚è¿™æ˜¯è½¬æ¢ç®—æ³•çš„æ ¸å¿ƒè§„åˆ™ä¹‹ä¸€ï¼Œç¡®ä¿äº†çˆ¶å­å…³ç³»çš„æ­£ç¡®æ˜ å°„ã€‚
                </div></div><div class="quiz-item"><div class="quiz-question" onclick="toggleAnswer(2)"><span>2. å¦‚æœåŸæ ‘ä¸­ä¸€ä¸ªèŠ‚ç‚¹æœ‰4ä¸ªå­©å­ï¼Œè½¬æ¢åçš„äºŒå‰æ ‘ä¸­è¿™äº›å­©å­æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ</span><span class="toggle-icon" id="icon2">ğŸ”½</span></div><div class="quiz-answer" id="answer2"><strong>ç­”æ¡ˆï¼š</strong>ç¬¬ä¸€ä¸ªå­©å­æˆä¸ºå·¦å­æ ‘ï¼Œå…¶ä½™3ä¸ªå­©å­é€šè¿‡<span class="highlight">å³æŒ‡é’ˆé“¾æˆä¸€æ¡é“¾è¡¨</span>ã€‚å³ï¼šç¬¬2ä¸ªå­©å­æ˜¯ç¬¬1ä¸ªå­©å­çš„å³å…„å¼Ÿï¼Œç¬¬3ä¸ªå­©å­æ˜¯ç¬¬2ä¸ªå­©å­çš„å³å…„å¼Ÿï¼Œä»¥æ­¤ç±»æ¨ã€‚
                </div></div><div class="quiz-item"><div class="quiz-question" onclick="toggleAnswer(3)"><span>3. æ ‘è½¬æ¢ä¸ºäºŒå‰æ ‘åï¼Œå¦‚ä½•è¿˜åŸåŸæ¥çš„æ ‘ç»“æ„ï¼Ÿ</span><span class="toggle-icon" id="icon3">ğŸ”½</span></div><div class="quiz-answer" id="answer3"><strong>ç­”æ¡ˆï¼š</strong>é€†å‘æ“ä½œå³å¯ï¼šå¯¹äºäºŒå‰æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ï¼Œå°†å…¶<span class="highlight">å·¦å­æ ‘ä½œä¸ºç¬¬ä¸€ä¸ªå­©å­</span>ï¼Œç„¶åæ²¿ç€ç¬¬ä¸€ä¸ªå­©å­çš„<span class="highlight">å³æŒ‡é’ˆé“¾æ‰¾åˆ°æ‰€æœ‰å…„å¼ŸèŠ‚ç‚¹</span>ï¼Œè¿™äº›èŠ‚ç‚¹éƒ½æ˜¯åŸèŠ‚ç‚¹çš„å­©å­ã€‚è½¬æ¢æ˜¯å®Œå…¨å¯é€†çš„ã€‚
                </div></div><div class="quiz-item"><div class="quiz-question" onclick="toggleAnswer(4)"><span>4. æ£®æ—å¦‚ä½•è½¬æ¢ä¸ºäºŒå‰æ ‘ï¼Ÿ</span><span class="toggle-icon" id="icon4">ğŸ”½</span></div><div class="quiz-answer" id="answer4"><strong>ç­”æ¡ˆï¼š</strong>é¦–å…ˆå°†æ£®æ—ä¸­çš„æ¯æ£µæ ‘åˆ†åˆ«è½¬æ¢ä¸ºäºŒå‰æ ‘ï¼Œç„¶åå°†è¿™äº›äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹<span class="highlight">ç”¨å³æŒ‡é’ˆè¿æˆä¸€æ¡é“¾</span>ã€‚ç¬¬ä¸€æ£µæ ‘çš„æ ¹ä½œä¸ºæ•´ä¸ªäºŒå‰æ ‘çš„æ ¹ï¼Œå…¶ä½™æ ‘çš„æ ¹ä½œä¸ºå®ƒçš„å³å…„å¼Ÿã€‚
                </div></div><div class="quiz-item"><div class="quiz-question" onclick="toggleAnswer(5)"><span>5. è½¬æ¢åçš„äºŒå‰æ ‘æœ‰ä»€ä¹ˆç‰¹æ®Šæ€§è´¨ï¼Ÿ</span><span class="toggle-icon" id="icon5">ğŸ”½</span></div><div class="quiz-answer" id="answer5"><strong>ç­”æ¡ˆï¼š</strong>è½¬æ¢åçš„äºŒå‰æ ‘æœ‰ä¸€ä¸ªé‡è¦æ€§è´¨ï¼š<span class="highlight">æ²¡æœ‰èŠ‚ç‚¹åŒæ—¶æœ‰å·¦å­©å­å’Œå³å­©å­</span>ï¼Œé™¤éåŸæ ‘ä¸­å¯¹åº”èŠ‚ç‚¹æ—¢æœ‰å­©å­åˆæœ‰å…„å¼Ÿã€‚è¿™ç§ç»“æ„ä¿è¯äº†åŸæ ‘ä¿¡æ¯çš„å®Œæ•´ä¿å­˜ã€‚
                </div></div></div><div class="info-box"><h4>ğŸ“š è¿›é˜¶å­¦ä¹ å»ºè®®</h4><ol><li><strong>åŸºç¡€ç»ƒä¹ ï¼š</strong>æ‰‹å·¥ç»˜åˆ¶å°è§„æ¨¡æ ‘çš„è½¬æ¢è¿‡ç¨‹</li><li><strong>ç¼–ç¨‹å®ç°ï¼š</strong>å®Œæˆè½¬æ¢ç®—æ³•çš„ä¸‰ç§è¯­è¨€å®ç°</li><li><strong>ç»¼åˆåº”ç”¨ï¼š</strong>ç»“åˆæ ‘çš„éå†ç®—æ³•ï¼Œæ¯”è¾ƒè½¬æ¢å‰åçš„éå†ç»“æœ</li><li><strong>ä¸‹ä¸€æ­¥å­¦ä¹ ï¼š</strong>å­¦ä¹ çº¿ç´¢äºŒå‰æ ‘ã€å¹³è¡¡äºŒå‰æ ‘ç­‰é«˜çº§æ ‘ç»“æ„</li></ol></div></div><!-- å¯¼èˆªæŒ‰é’® --><div style="text-align: center; margin-top: 40px;"><a href="{% url 'knowledge_app:index' %}" class="btn">
            ğŸ  è¿”å›é¦–é¡µ
        </a><a href="{% url 'knowledge_app:cs_universe' %}" class="btn btn-secondary">
            ğŸŒŒ æ¢ç´¢CSå®‡å®™
        </a></div></div><script>let canvas, ctx; let currentStep = 0; let animationId; class Node { constructor(x, y, data, color = '#3b82f6') { this.x = x; this.y = y; this.data = data; this.color = color; this.children = []; this.parent = null; } draw() { ctx.beginPath(); ctx.arc(this.x, this.y, 20, 0, 2 * Math.PI); ctx.fillStyle = this.color; ctx.fill(); ctx.strokeStyle = '#1f2937'; ctx.lineWidth = 2; ctx.stroke(); ctx.fillStyle = 'white'; ctx.font = '16px Arial'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(this.data, this.x, this.y); } drawLineTo(other, color = '#4b5563', dashed = false) { ctx.beginPath(); if (dashed) { ctx.setLineDash([5, 5]); } ctx.moveTo(this.x, this.y); ctx.lineTo(other.x, other.y); ctx.strokeStyle = color; ctx.lineWidth = 2; ctx.stroke(); ctx.setLineDash([]); } } function initCanvas() { canvas = document.getElementById('conversionCanvas'); ctx = canvas.getContext('2d'); showOriginalTree(); } function showOriginalTree() { ctx.clearRect(0, 0, canvas.width, canvas.height); const nodeA = new Node(500, 80, 'A', '#f59e0b'); const nodeB = new Node(350, 180, 'B', '#3b82f6'); const nodeC = new Node(500, 180, 'C', '#3b82f6'); const nodeD = new Node(650, 180, 'D', '#3b82f6'); const nodeE = new Node(300, 280, 'E', '#10b981'); const nodeF = new Node(400, 280, 'F', '#10b981'); nodeA.drawLineTo(nodeB); nodeA.drawLineTo(nodeC); nodeA.drawLineTo(nodeD); nodeB.drawLineTo(nodeE); nodeB.drawLineTo(nodeF); [nodeA, nodeB, nodeC, nodeD, nodeE, nodeF].forEach(node => node.draw()); ctx.fillStyle = '#374151'; ctx.font = '14px Arial'; ctx.textAlign = 'center'; ctx.fillText('åŸå§‹æ ‘ç»“æ„ï¼šAæœ‰ä¸‰ä¸ªå­©å­Bã€Cã€Dï¼ŒBæœ‰ä¸¤ä¸ªå­©å­Eã€F', 500, 350); document.getElementById('explanation').textContent = 'è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å¤šå‰æ ‘ï¼ŒèŠ‚ç‚¹Aæœ‰3ä¸ªå­©å­ï¼ŒèŠ‚ç‚¹Bæœ‰2ä¸ªå­©å­'; currentStep = 0; } function startConversion() { currentStep = 1; animateConversionStep(); } function animateConversionStep() { ctx.clearRect(0, 0, canvas.width, canvas.height); const originalNodes = { A: new Node(500, 80, 'A', '#f59e0b'), B: new Node(350, 180, 'B', '#3b82f6'), C: new Node(500, 180, 'C', '#3b82f6'), D: new Node(650, 180, 'D', '#3b82f6'), E: new Node(300, 280, 'E', '#10b981'), F: new Node(400, 280, 'F', '#10b981') }; const binaryNodes = { A: new Node(200, 80, 'A', '#f59e0b'), B: new Node(100, 180, 'B', '#3b82f6'), C: new Node(200, 280, 'C', '#3b82f6'), D: new Node(300, 380, 'D', '#3b82f6'), E: new Node(50, 280, 'E', '#10b981'), F: new Node(150, 380, 'F', '#10b981') }; ctx.fillStyle = '#374151'; ctx.font = '14px Arial'; ctx.textAlign = 'left'; ctx.fillText('è½¬æ¢è§„åˆ™ï¼š', 450, 100); ctx.fillText('1. å·¦æŒ‡é’ˆ â†’ ç¬¬ä¸€ä¸ªå­©å­', 450, 130); ctx.fillText('2. å³æŒ‡é’ˆ â†’ ä¸‹ä¸€ä¸ªå…„å¼Ÿ', 450, 160); switch(currentStep) { case 1: originalNodes.A.drawLineTo(originalNodes.B, '#cccccc'); originalNodes.A.drawLineTo(originalNodes.C, '#cccccc'); originalNodes.A.drawLineTo(originalNodes.D, '#cccccc'); originalNodes.B.drawLineTo(originalNodes.E, '#cccccc'); originalNodes.B.drawLineTo(originalNodes.F, '#cccccc'); Object.values(originalNodes).forEach(node => node.draw()); ctx.fillStyle = '#dc2626'; ctx.font = '16px Arial'; ctx.textAlign = 'center'; ctx.fillText('å‡†å¤‡å¼€å§‹è½¬æ¢...', 500, 350); document.getElementById('explanation').textContent = 'æ­¥éª¤1ï¼šæ˜¾ç¤ºåŸå§‹æ ‘ç»“æ„ï¼Œå‡†å¤‡åº”ç”¨è½¬æ¢è§„åˆ™'; setTimeout(() => { currentStep++; animateConversionStep(); }, 2000); break; case 2: binaryNodes.A.draw(); binaryNodes.B.draw(); binaryNodes.A.drawLineTo(binaryNodes.B, '#3b82f6'); ctx.strokeStyle = '#f59e0b'; ctx.lineWidth = 4; ctx.setLineDash([5, 5]); ctx.beginPath(); ctx.arc(binaryNodes.B.x, binaryNodes.B.y, 30, 0, 2 * Math.PI); ctx.stroke(); ctx.setLineDash([]); ctx.fillStyle = '#dc2626'; ctx.font = '16px Arial'; ctx.textAlign = 'center'; ctx.fillText('Açš„ç¬¬ä¸€ä¸ªå­©å­B â†’ Açš„å·¦å­©å­', 200, 350); document.getElementById('explanation').textContent = 'æ­¥éª¤2ï¼šå°†Açš„ç¬¬ä¸€ä¸ªå­©å­Bè®¾ç½®ä¸ºAçš„å·¦å­©å­'; setTimeout(() => { currentStep++; animateConversionStep(); }, 2000); break; case 3: binaryNodes.A.draw(); binaryNodes.B.draw(); binaryNodes.C.draw(); binaryNodes.A.drawLineTo(binaryNodes.B, '#3b82f6'); binaryNodes.B.drawLineTo(binaryNodes.C, '#ef4444'); ctx.strokeStyle = '#f59e0b'; ctx.lineWidth = 4; ctx.setLineDash([5, 5]); ctx.beginPath(); ctx.arc(binaryNodes.C.x, binaryNodes.C.y, 30, 0, 2 * Math.PI); ctx.stroke(); ctx.setLineDash([]); ctx.fillStyle = '#dc2626'; ctx.font = '16px Arial'; ctx.textAlign = 'center'; ctx.fillText('Bçš„å…„å¼ŸC â†’ Bçš„å³å…„å¼Ÿ', 200, 350); document.getElementById('explanation').textContent = 'æ­¥éª¤3ï¼šå°†Bçš„å…„å¼ŸCè¿æ¥ä¸ºBçš„å³å…„å¼Ÿ'; setTimeout(() => { currentStep++; animateConversionStep(); }, 2000); break; case 4: binaryNodes.A.draw(); binaryNodes.B.draw(); binaryNodes.C.draw(); binaryNodes.D.draw(); binaryNodes.A.drawLineTo(binaryNodes.B, '#3b82f6'); binaryNodes.B.drawLineTo(binaryNodes.C, '#ef4444'); binaryNodes.C.drawLineTo(binaryNodes.D, '#ef4444'); ctx.strokeStyle = '#f59e0b'; ctx.lineWidth = 4; ctx.setLineDash([5, 5]); ctx.beginPath(); ctx.arc(binaryNodes.D.x, binaryNodes.D.y, 30, 0, 2 * Math.PI); ctx.stroke(); ctx.setLineDash([]); ctx.fillStyle = '#dc2626'; ctx.font = '16px Arial'; ctx.textAlign = 'center'; ctx.fillText('Cçš„å…„å¼ŸD â†’ Cçš„å³å…„å¼Ÿ', 200, 350); document.getElementById('explanation').textContent = 'æ­¥éª¤4ï¼šå°†Cçš„å…„å¼ŸDè¿æ¥ä¸ºCçš„å³å…„å¼Ÿ'; setTimeout(() => { currentStep++; animateConversionStep(); }, 2000); break; case 5: binaryNodes.A.draw(); binaryNodes.B.draw(); binaryNodes.C.draw(); binaryNodes.D.draw(); binaryNodes.E.draw(); binaryNodes.A.drawLineTo(binaryNodes.B, '#3b82f6'); binaryNodes.B.drawLineTo(binaryNodes.C, '#ef4444'); binaryNodes.C.drawLineTo(binaryNodes.D, '#ef4444'); binaryNodes.B.drawLineTo(binaryNodes.E, '#3b82f6'); ctx.strokeStyle = '#f59e0b'; ctx.lineWidth = 4; ctx.setLineDash([5, 5]); ctx.beginPath(); ctx.arc(binaryNodes.E.x, binaryNodes.E.y, 30, 0, 2 * Math.PI); ctx.stroke(); ctx.setLineDash([]); ctx.fillStyle = '#dc2626'; ctx.font = '16px Arial'; ctx.textAlign = 'center'; ctx.fillText('Bçš„ç¬¬ä¸€ä¸ªå­©å­E â†’ Bçš„å·¦å­©å­', 200, 350); document.getElementById('explanation').textContent = 'æ­¥éª¤5ï¼šå°†Bçš„ç¬¬ä¸€ä¸ªå­©å­Eè®¾ç½®ä¸ºBçš„å·¦å­©å­'; setTimeout(() => { currentStep++; animateConversionStep(); }, 2000); break; case 6: binaryNodes.A.draw(); binaryNodes.B.draw(); binaryNodes.C.draw(); binaryNodes.D.draw(); binaryNodes.E.draw(); binaryNodes.F.draw(); binaryNodes.A.drawLineTo(binaryNodes.B, '#3b82f6'); binaryNodes.B.drawLineTo(binaryNodes.C, '#ef4444'); binaryNodes.C.drawLineTo(binaryNodes.D, '#ef4444'); binaryNodes.B.drawLineTo(binaryNodes.E, '#3b82f6'); binaryNodes.E.drawLineTo(binaryNodes.F, '#ef4444'); ctx.strokeStyle = '#f59e0b'; ctx.lineWidth = 4; ctx.setLineDash([5, 5]); ctx.beginPath(); ctx.arc(binaryNodes.F.x, binaryNodes.F.y, 30, 0, 2 * Math.PI); ctx.stroke(); ctx.setLineDash([]); ctx.fillStyle = '#dc2626'; ctx.font = '16px Arial'; ctx.textAlign = 'center'; ctx.fillText('Eçš„å…„å¼ŸF â†’ Eçš„å³å…„å¼Ÿ', 200, 350); document.getElementById('explanation').textContent = 'æ­¥éª¤6ï¼šå°†Eçš„å…„å¼ŸFè¿æ¥ä¸ºEçš„å³å…„å¼Ÿ'; setTimeout(() => { currentStep++; animateConversionStep(); }, 2000); break; case 7: Object.values(binaryNodes).forEach(node => node.draw()); binaryNodes.A.drawLineTo(binaryNodes.B, '#3b82f6'); binaryNodes.B.drawLineTo(binaryNodes.C, '#ef4444'); binaryNodes.C.drawLineTo(binaryNodes.D, '#ef4444'); binaryNodes.B.drawLineTo(binaryNodes.E, '#3b82f6'); binaryNodes.E.drawLineTo(binaryNodes.F, '#ef4444'); drawArrow(450, 200, 500, 200, '#3b82f6'); ctx.fillStyle = '#3b82f6'; ctx.textAlign = 'left'; ctx.fillText('å·¦å­©å­', 510, 205); drawArrow(450, 230, 500, 230, '#ef4444'); ctx.fillStyle = '#ef4444'; ctx.fillText('å³å…„å¼Ÿ', 510, 235); ctx.fillStyle = '#10b981'; ctx.font = '18px Arial'; ctx.textAlign = 'center'; ctx.fillText('ğŸ‰ è½¬æ¢å®Œæˆï¼', 200, 350); document.getElementById('explanation').textContent = 'è½¬æ¢å®Œæˆï¼å¤šå‰æ ‘å·²æˆåŠŸè½¬æ¢ä¸ºäºŒå‰æ ‘ï¼Œä¿æŒäº†æ‰€æœ‰çš„ç»“æ„å…³ç³»'; break; } } function showResult() { currentStep = 7; ctx.clearRect(0, 0, canvas.width, canvas.height); const nodeA = new Node(200, 80, 'A', '#f59e0b'); const nodeB = new Node(100, 180, 'B', '#3b82f6'); const nodeC = new Node(200, 280, 'C', '#3b82f6'); const nodeD = new Node(300, 380, 'D', '#3b82f6'); const nodeE = new Node(50, 280, 'E', '#10b981'); const nodeF = new Node(150, 380, 'F', '#10b981'); nodeA.drawLineTo(nodeB, '#3b82f6', false); nodeB.drawLineTo(nodeC, '#ef4444', false); nodeC.drawLineTo(nodeD, '#ef4444', false); nodeB.drawLineTo(nodeE, '#3b82f6', false); nodeE.drawLineTo(nodeF, '#ef4444', false); [nodeA, nodeB, nodeC, nodeD, nodeE, nodeF].forEach(node => node.draw()); ctx.fillStyle = '#374151'; ctx.font = '14px Arial'; ctx.textAlign = 'left'; ctx.fillText('å›¾ä¾‹ï¼š', 450, 200); drawArrow(450, 220, 500, 220, '#3b82f6'); ctx.fillStyle = '#3b82f6'; ctx.fillText('å·¦å­©å­å…³ç³»', 510, 225); drawArrow(450, 250, 500, 250, '#ef4444'); ctx.fillStyle = '#ef4444'; ctx.fillText('å³å…„å¼Ÿå…³ç³»', 510, 255); ctx.fillStyle = '#10b981'; ctx.font = '18px Arial'; ctx.textAlign = 'center'; ctx.fillText('ğŸ‰ è½¬æ¢å®Œæˆï¼', 500, 50); ctx.font = '14px Arial'; ctx.fillStyle = '#374151'; ctx.fillText('åŸå¤šå‰æ ‘å·²æˆåŠŸè½¬æ¢ä¸ºäºŒå‰æ ‘ï¼Œæ‰€æœ‰ç»“æ„å…³ç³»å¾—åˆ°ä¿æŒ', 500, 350); document.getElementById('explanation').textContent = 'æœ€ç»ˆç»“æœï¼šè½¬æ¢å®Œæˆï¼ç°åœ¨å¯ä»¥ç”¨äºŒå‰æ ‘çš„ç®—æ³•æ¥å¤„ç†åŸæ¥çš„å¤šå‰æ ‘äº†'; } function resetDemo() { currentStep = 0; if (animationId) { cancelAnimationFrame(animationId); } ctx.clearRect(0, 0, canvas.width, canvas.height); showOriginalTree(); } function drawArrow(x1, y1, x2, y2, color) { ctx.beginPath(); ctx.moveTo(x1, y1); ctx.lineTo(x2, y2); ctx.strokeStyle = color; ctx.lineWidth = 2; ctx.stroke(); const angle = Math.atan2(y2 - y1, x2 - x1); ctx.beginPath(); ctx.moveTo(x2, y2); ctx.lineTo(x2 - 10 * Math.cos(angle - Math.PI / 6), y2 - 10 * Math.sin(angle - Math.PI / 6)); ctx.moveTo(x2, y2); ctx.lineTo(x2 - 10 * Math.cos(angle + Math.PI / 6), y2 - 10 * Math.sin(angle + Math.PI / 6)); ctx.stroke(); } function showCode(language) { document.querySelectorAll('.code-block').forEach(block => { block.classList.remove('active'); }); document.querySelectorAll('.code-tab').forEach(tab => { tab.classList.remove('active'); }); const targetCodeBlock = document.getElementById(language + '-code'); const targetTab = document.querySelector(`[onclick="showCode('${language}')"]`); if (targetCodeBlock) { targetCodeBlock.classList.add('active'); } if (targetTab) { targetTab.classList.add('active'); } } function copyCode() { const activeCodeBlock = document.querySelector('.code-block.active'); if (!activeCodeBlock) return; const codeElement = activeCodeBlock.querySelector('code') || activeCodeBlock.querySelector('pre'); const text = codeElement ? codeElement.textContent : activeCodeBlock.textContent; navigator.clipboard.writeText(text).then(() => { const btn = document.querySelector('.copy-btn'); const originalText = btn.textContent; btn.textContent = 'âœ… å·²å¤åˆ¶'; btn.style.background = '#10b981'; setTimeout(() => { btn.textContent = originalText; btn.style.background = '#4b5563'; }, 2000); }).catch(() => { const textArea = document.createElement('textarea'); textArea.value = text; document.body.appendChild(textArea); textArea.select(); document.execCommand('copy'); document.body.removeChild(textArea); const btn = document.querySelector('.copy-btn'); const originalText = btn.textContent; btn.textContent = 'âœ… å·²å¤åˆ¶'; btn.style.background = '#10b981'; setTimeout(() => { btn.textContent = originalText; btn.style.background = '#4b5563'; }, 2000); }); } function toggleAnswer(questionId) { const answer = document.getElementById('answer' + questionId); const icon = document.getElementById('icon' + questionId); if (answer.style.display === 'none' || answer.style.display === '') { answer.style.display = 'block'; icon.classList.add('active'); icon.textContent = 'ğŸ”¼'; } else { answer.style.display = 'none'; icon.classList.remove('active'); icon.textContent = 'ğŸ”½'; } } document.addEventListener('DOMContentLoaded', function() { initCanvas(); });</script>

{% endblock %}