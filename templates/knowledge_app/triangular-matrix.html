{% extends 'knowledge_app/base.html' %}

{% block title %}{{ page_title|default:"ä¸‰è§’çŸ©é˜µ" }} - è®¡ç®—æœºç§‘å­¦å­¦ä¹ å¹³å°{% endblock %}

{% block content %}
<div class="page-container fade-in"><!-- é¢åŒ…å±‘å¯¼èˆª --><div class="breadcrumb"><a href="{% url 'knowledge_app:index' %}">é¦–é¡µ</a><span>></span><span>{{ breadcrumb_category|default:"æ•°æ®ç»“æ„" }}</span><span>></span><span>{{ page_title|default:"ä¸‰è§’çŸ©é˜µ" }}</span></div><!-- é¡µé¢å¤´éƒ¨ --><div class="page-header slide-in-left"><h1><span class="page-icon">ğŸ“</span>
            ä¸‰è§’çŸ©é˜µï¼ˆTriangular Matrixï¼‰
        </h1><p>æ¢ç´¢ä¸Šä¸‰è§’çŸ©é˜µå’Œä¸‹ä¸‰è§’çŸ©é˜µçš„ç‰¹æ€§ä¸åº”ç”¨</p></div><!-- ğŸ“‹ çŸ¥è¯†ç‚¹æ¦‚è¿° --><div class="content-card slide-in-right"><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ“‹</span>
                çŸ¥è¯†ç‚¹æ¦‚è¿°
            </h2><div class="info-box info-box-info"><span class="info-icon">ğŸ’¡</span><strong>æ ¸å¿ƒæ¦‚å¿µï¼š</strong>ä¸‰è§’çŸ©é˜µæ˜¯æŒ‡ä¸»å¯¹è§’çº¿ä¸€ä¾§çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸ºé›¶çš„æ–¹é˜µã€‚åˆ†ä¸ºä¸Šä¸‰è§’çŸ©é˜µï¼ˆä¸»å¯¹è§’çº¿ä»¥ä¸‹ä¸º0ï¼‰å’Œä¸‹ä¸‰è§’çŸ©é˜µï¼ˆä¸»å¯¹è§’çº¿ä»¥ä¸Šä¸º0ï¼‰ã€‚
            </div><div class="unified-grid unified-grid-2"><div class="grid-card"><span class="card-icon">ğŸ“š</span><h4 class="card-title">å…³é”®æœ¯è¯­</h4><ul style="text-align: left; margin: 10px 0;"><li><strong>ä¸Šä¸‰è§’çŸ©é˜µï¼š</strong>ä¸»å¯¹è§’çº¿ä»¥ä¸‹å…ƒç´ å…¨ä¸º0</li><li><strong>ä¸‹ä¸‰è§’çŸ©é˜µï¼š</strong>ä¸»å¯¹è§’çº¿ä»¥ä¸Šå…ƒç´ å…¨ä¸º0</li><li><strong>ä¸¥æ ¼ä¸‰è§’çŸ©é˜µï¼š</strong>ä¸»å¯¹è§’çº¿å…ƒç´ ä¹Ÿä¸º0</li><li><strong>å•ä½ä¸‰è§’çŸ©é˜µï¼š</strong>ä¸»å¯¹è§’çº¿å…ƒç´ ä¸º1çš„ä¸‰è§’çŸ©é˜µ</li><li><strong>LUåˆ†è§£ï¼š</strong>å°†çŸ©é˜µåˆ†è§£ä¸ºä¸‹ä¸‰è§’Ã—ä¸Šä¸‰è§’</li></ul></div><div class="grid-card"><span class="card-icon">ğŸ“Š</span><h4 class="card-title">å­¦ä¹ æŒ‡å—</h4><div style="text-align: left;"><p><strong>éš¾åº¦çº§åˆ«ï¼š</strong><span style="color: #4CAF50;">å…¥é—¨</span></p><p><strong>å‰ç½®çŸ¥è¯†ï¼š</strong></p><ul><li>çŸ©é˜µçš„åŸºæœ¬æ¦‚å¿µ</li><li>çŸ©é˜µè¿ç®—ï¼ˆåŠ æ³•ã€ä¹˜æ³•ï¼‰</li><li>çº¿æ€§æ–¹ç¨‹ç»„æ±‚è§£</li></ul></div></div></div></div></div><!-- ğŸ” æ¦‚å¿µè¯¦è§£ --><div class="content-card"><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ”</span>
                æ¦‚å¿µè¯¦è§£
            </h2><div class="unified-grid unified-grid-2"><div class="info-box info-box-success"><span class="info-icon">ğŸ”º</span><strong>ä¸Šä¸‰è§’çŸ©é˜µï¼š</strong>å°±åƒä¸€ä¸ªä¸‰è§’å½¢å±‹é¡¶ï¼Œæ‰€æœ‰çš„"ææ–™"éƒ½åœ¨å±‹é¡¶çº¿ä»¥ä¸Šï¼Œå±‹é¡¶çº¿ä»¥ä¸‹æ˜¯ç©ºçš„ï¼ˆå…¨ä¸º0ï¼‰ã€‚æ•°å­¦è¡¨ç¤ºï¼šå½“ i > j æ—¶ï¼ŒA[i][j] = 0ã€‚
                </div><div class="info-box info-box-info"><span class="info-icon">ğŸ”»</span><strong>ä¸‹ä¸‰è§’çŸ©é˜µï¼š</strong>åƒä¸€ä¸ªå€’ç½®çš„ä¸‰è§’å½¢ï¼Œæ‰€æœ‰çš„"ææ–™"éƒ½åœ¨åº•çº¿ä»¥ä¸‹ï¼Œåº•çº¿ä»¥ä¸Šæ˜¯ç©ºçš„ï¼ˆå…¨ä¸º0ï¼‰ã€‚æ•°å­¦è¡¨ç¤ºï¼šå½“ i < j æ—¶ï¼ŒA[i][j] = 0ã€‚
                </div></div><div style="margin: 20px 0;"><h3>ğŸ—ï¸ å»ºç­‘ç±»æ¯”</h3><p>æƒ³è±¡ä½ æ­£åœ¨å»ºé€ ä¸€æ ‹æ¥¼æˆ¿ï¼š</p><div class="unified-grid unified-grid-2"><div class="grid-card"><h4>ğŸ”º ä¸Šä¸‰è§’çŸ©é˜µ = é‡‘å­—å¡”</h4><ul style="text-align: left;"><li>æ¯ä¸€å±‚éƒ½æ¯”ä¸‹ä¸€å±‚å°</li><li>åº•å±‚æœ€å®½ï¼Œé¡¶å±‚æœ€çª„</li><li>ä¸‹æ–¹çš„ç©ºé—´æ˜¯ç©ºçš„</li></ul></div><div class="grid-card"><h4>ğŸ”» ä¸‹ä¸‰è§’çŸ©é˜µ = åœ°åŸº</h4><ul style="text-align: left;"><li>ä»åœ°åŸºå¼€å§‹å‘ä¸Šå»ºé€ </li><li>åº•å±‚æœ€åšå®ï¼Œå‘ä¸Šé€’å‡</li><li>ä¸Šæ–¹çš„ç©ºé—´æ˜¯ç©ºçš„</li></ul></div></div></div><div style="margin: 20px 0;"><h3>âš¡ é‡è¦æ€§è´¨</h3><div class="unified-grid unified-grid-3"><div class="info-box info-box-warning"><span class="info-icon">ğŸ§®</span><strong>å­˜å‚¨ä¼˜åŒ–ï¼š</strong>åªéœ€å­˜å‚¨éé›¶å…ƒç´ ï¼ŒèŠ‚çœçº¦ä¸€åŠå­˜å‚¨ç©ºé—´
                    </div><div class="info-box info-box-success"><span class="info-icon">âš¡</span><strong>è®¡ç®—é«˜æ•ˆï¼š</strong>çŸ©é˜µè¿ç®—ï¼ˆå¦‚æ±‚é€†ã€æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ï¼‰æ›´å¿«
                    </div><div class="info-box info-box-info"><span class="info-icon">ğŸ”—</span><strong>å°é—­æ€§è´¨ï¼š</strong>ä¸¤ä¸ªåŒç±»ä¸‰è§’çŸ©é˜µç›¸ä¹˜ä»æ˜¯ä¸‰è§’çŸ©é˜µ
                    </div></div></div><div style="margin: 20px 0;"><h3>â— æ˜“æ··æ·†ç‚¹</h3><div class="info-box info-box-warning"><span class="info-icon">âš ï¸</span><strong>æ³¨æ„åŒºåˆ†ï¼š</strong><ul style="text-align: left; margin: 10px 0;"><li><strong>ä¸¥æ ¼ä¸‰è§’çŸ©é˜µ vs æ™®é€šä¸‰è§’çŸ©é˜µï¼š</strong>ä¸¥æ ¼ä¸‰è§’çŸ©é˜µçš„ä¸»å¯¹è§’çº¿å…ƒç´ ä¹Ÿå¿…é¡»ä¸º0</li><li><strong>ä¸Šä¸‰è§’ vs ä¸‹ä¸‰è§’ï¼š</strong>è®°ä½"ä¸Šä¸‰è§’åœ¨ä¸Šæ–¹æœ‰å…ƒç´ ï¼Œä¸‹ä¸‰è§’åœ¨ä¸‹æ–¹æœ‰å…ƒç´ "</li><li><strong>ç´¢å¼•å…³ç³»ï¼š</strong>ä¸Šä¸‰è§’æ˜¯ i â‰¤ j æœ‰å€¼ï¼Œä¸‹ä¸‰è§’æ˜¯ i â‰¥ j æœ‰å€¼</li></ul></div></div></div></div><!-- ğŸ“Š å¯è§†åŒ–å±•ç¤º --><div class="content-card"><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸ“Š</span>
                å¯è§†åŒ–å±•ç¤º
            </h2><!-- ä¸‰è§’çŸ©é˜µç±»å‹å¯¹æ¯” --><div style="margin: 20px 0;"><h3>ğŸ¯ ä¸‰è§’çŸ©é˜µç±»å‹å¯¹æ¯”</h3><div style="text-align: center; margin: 20px 0;"><canvas id="triangularComparison" width="800" height="300" style="border: 2px solid #ddd; border-radius: 8px;"></canvas></div></div><!-- åŠ¨æ€æ„é€ è¿‡ç¨‹ --><div style="margin: 20px 0;"><h3>ğŸ”„ ä¸‰è§’çŸ©é˜µæ„é€ åŠ¨ç”»</h3><div style="text-align: center; margin: 20px 0;"><div style="margin: 10px 0;"><button id="buildUpper" class="unified-btn unified-btn-primary">æ„é€ ä¸Šä¸‰è§’çŸ©é˜µ</button><button id="buildLower" class="unified-btn unified-btn-secondary">æ„é€ ä¸‹ä¸‰è§’çŸ©é˜µ</button><button id="resetBuild" class="unified-btn unified-btn-outline">é‡ç½®</button></div><canvas id="buildAnimation" width="600" height="450" style="border: 2px solid #ddd; border-radius: 8px;"></canvas><div id="buildStatus" style="margin: 10px 0; font-weight: bold; color: #2196F3; min-height: 24px;"></div></div></div><!-- LUåˆ†è§£æ¼”ç¤º --><div style="margin: 20px 0;"><h3>ğŸ§© LUåˆ†è§£å¯è§†åŒ–</h3><div style="text-align: center; margin: 20px 0;"><div style="margin: 10px 0;"><button id="startLU" class="unified-btn unified-btn-success">å¼€å§‹LUåˆ†è§£</button><button id="stepLU" class="unified-btn unified-btn-info" disabled>ä¸‹ä¸€æ­¥</button><button id="resetLU" class="unified-btn unified-btn-outline">é‡ç½®</button></div><canvas id="luDecomposition" width="900" height="400" style="border: 2px solid #ddd; border-radius: 8px;"></canvas><div id="luStatus" style="margin: 10px 0; font-weight: bold; color: #4CAF50; min-height: 24px;"></div></div></div><!-- äº¤äº’å¼çŸ©é˜µæ“ä½œ --><div style="margin: 20px 0;"><h3>ğŸ® äº¤äº’å¼ä¸‰è§’çŸ©é˜µæ“ä½œ</h3><div style="text-align: center; margin: 20px 0;"><div style="margin: 10px 0;"><button id="createUpperMatrix" class="unified-btn unified-btn-primary">åˆ›å»ºä¸Šä¸‰è§’çŸ©é˜µ</button><button id="createLowerMatrix" class="unified-btn unified-btn-secondary">åˆ›å»ºä¸‹ä¸‰è§’çŸ©é˜µ</button><button id="multiplyMatrices" class="unified-btn unified-btn-success">çŸ©é˜µç›¸ä¹˜</button><button id="clearMatrices" class="unified-btn unified-btn-outline">æ¸…ç©º</button></div><canvas id="interactiveTriangular" width="900" height="350" style="border: 2px solid #ddd; border-radius: 8px; cursor: pointer;"></canvas><div id="operationResult" style="margin: 10px 0; font-size: 16px; font-weight: bold; min-height: 24px;"></div><p style="color: #666; font-size: 14px;">ğŸ’¡ æç¤ºï¼šç‚¹å‡»çŸ©é˜µå•å…ƒæ ¼å¯ä»¥ç¼–è¾‘æ•°å€¼</p></div></div></div></div><!-- ğŸŒŸ å®é™…åº”ç”¨ --><div class="content-card"><div class="content-section"><h2 class="section-title"><span class="section-icon">ğŸŒŸ</span>
                å®é™…åº”ç”¨
            </h2><div class="unified-grid unified-grid-3"><div class="grid-card"><span class="card-icon">ğŸ§®</span><h4 class="card-title">æ•°å€¼è®¡ç®—</h4><p class="card-description">é«˜æ–¯æ¶ˆå…ƒæ³•ã€LUåˆ†è§£ã€Choleskyåˆ†è§£ç­‰ç®—æ³•çš„æ ¸å¿ƒã€‚æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ Ax=b æ—¶ï¼Œä¸‰è§’çŸ©é˜µå¯ä»¥é€šè¿‡å‰å‘/åå‘æ›¿æ¢é«˜æ•ˆæ±‚è§£ã€‚</p></div><div class="grid-card"><span class="card-icon">ğŸ¤–</span><h4 class="card-title">æœºå™¨å­¦ä¹ </h4><p class="card-description">QRåˆ†è§£ä¸­çš„RçŸ©é˜µæ˜¯ä¸Šä¸‰è§’çŸ©é˜µï¼Œç”¨äºæœ€å°äºŒä¹˜æ³•æ±‚è§£ã€‚åæ–¹å·®çŸ©é˜µçš„Choleskyåˆ†è§£äº§ç”Ÿä¸‹ä¸‰è§’çŸ©é˜µï¼Œç”¨äºå¤šå…ƒæ­£æ€åˆ†å¸ƒé‡‡æ ·ã€‚</p></div><div class="grid-card"><span class="card-icon">ğŸ®</span><h4 class="card-title">è®¡ç®—æœºå›¾å½¢å­¦</h4><p class="card-description">3Då˜æ¢çŸ©é˜µçš„ç»„åˆå¸¸å¸¸äº§ç”Ÿä¸Šä¸‰è§’å½¢å¼ï¼Œç”¨äºä¼˜åŒ–æ¸²æŸ“ç®¡çº¿ã€‚éª¨éª¼åŠ¨ç”»ä¸­çš„å˜æ¢å±‚æ¬¡ç»“æ„ä¹Ÿåˆ©ç”¨ä¸‰è§’çŸ©é˜µç‰¹æ€§ã€‚</p></div></div><!-- åº”ç”¨æ¡ˆä¾‹æ·±å…¥åˆ†æ --><div style="margin: 30px 0;"><h3>ğŸ” æ·±åº¦æ¡ˆä¾‹ï¼šçº¿æ€§æ–¹ç¨‹ç»„æ±‚è§£</h3><div class="info-box info-box-info"><span class="info-icon">ğŸ¯</span><strong>æ¡ˆä¾‹èƒŒæ™¯ï¼š</strong>æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ Ux = bï¼Œå…¶ä¸­ U æ˜¯ä¸Šä¸‰è§’çŸ©é˜µã€‚
                    <br><br><strong>ä¸ºä»€ä¹ˆé«˜æ•ˆï¼Ÿ</strong><ul style="text-align: left; margin: 10px 0;"><li>ä»æœ€åä¸€è¡Œå¼€å§‹ï¼šxâ‚ƒ = bâ‚ƒ / Uâ‚ƒâ‚ƒ</li><li>é€è¡Œå‘ä¸Šï¼šxâ‚‚ = (bâ‚‚ - Uâ‚‚â‚ƒxâ‚ƒ) / Uâ‚‚â‚‚</li><li>ç»§ç»­ï¼šxâ‚ = (bâ‚ - Uâ‚â‚‚xâ‚‚ - Uâ‚â‚ƒxâ‚ƒ) / Uâ‚â‚</li><li>æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²) vs æ™®é€šçŸ©é˜µçš„ O(nÂ³)</li></ul></div></div><!-- ä»£ç ç¤ºä¾‹ --><div style="margin: 30px 0;"><h3>ğŸ’» ä»£ç å®ç°</h3><div class="code-tabs"><button class="tab-button active" onclick="showCode('cpp')">C++</button><button class="tab-button" onclick="showCode('java')">Java</button><button class="tab-button" onclick="showCode('python')">Python</button></div><div id="cpp-code" class="code-container active"><div class="code-header"><span>C++ å®ç°</span><button class="copy-btn" onclick="copyCode('cpp')">ğŸ“‹ å¤åˆ¶ä»£ç </button></div><pre><code id="cpp-content">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;iomanip&gt;
using namespace std;

class TriangularMatrix {
private:
    vector&lt;vector&lt;double&gt;&gt; matrix;
    int size;
    bool isUpper;

public:
    TriangularMatrix(int n, bool upper = true) : size(n), isUpper(upper) {
        matrix.resize(n, vector&lt;double&gt;(n, 0.0));
    }

    // è®¾ç½®å…ƒç´ ï¼ˆè‡ªåŠ¨ç»´æŠ¤ä¸‰è§’å½¢çŠ¶ï¼‰
    void setElement(int i, int j, double value) {
        if (i &lt; size && j &lt; size) {
            if (isUpper && i &lt;= j) {
                matrix[i][j] = value;
            } else if (!isUpper && i &gt;= j) {
                matrix[i][j] = value;
            }
        }
    }

    // è·å–å…ƒç´ 
    double getElement(int i, int j) const {
        if (i &lt; size && j &lt; size) {
            return matrix[i][j];
        }
        return 0.0;
    }

    // æ£€æŸ¥æ˜¯å¦ä¸ºä¸‰è§’çŸ©é˜µ
    bool isTriangular() const {
        for (int i = 0; i &lt; size; i++) {
            for (int j = 0; j &lt; size; j++) {
                if (isUpper && i &gt; j && matrix[i][j] != 0) return false;
                if (!isUpper && i &lt; j && matrix[i][j] != 0) return false;
            }
        }
        return true;
    }

    // æ±‚è§£ä¸‰è§’çŸ©é˜µæ–¹ç¨‹ç»„ Ax = b
    vector&lt;double&gt; solve(const vector&lt;double&gt;& b) const {
        vector&lt;double&gt; x(size, 0.0);

        if (isUpper) {
            // åå‘æ›¿æ¢
            for (int i = size - 1; i &gt;= 0; i--) {
                x[i] = b[i];
                for (int j = i + 1; j &lt; size; j++) {
                    x[i] -= matrix[i][j] * x[j];
                }
                x[i] /= matrix[i][i];
            }
        } else {
            // å‰å‘æ›¿æ¢
            for (int i = 0; i &lt; size; i++) {
                x[i] = b[i];
                for (int j = 0; j &lt; i; j++) {
                    x[i] -= matrix[i][j] * x[j];
                }
                x[i] /= matrix[i][i];
            }
        }
        return x;
    }

    // çŸ©é˜µä¹˜æ³•
    TriangularMatrix multiply(const TriangularMatrix& other) const {
        TriangularMatrix result(size, isUpper && other.isUpper);

        for (int i = 0; i &lt; size; i++) {
            for (int j = 0; j &lt; size; j++) {
                double sum = 0.0;
                for (int k = 0; k &lt; size; k++) {
                    sum += matrix[i][k] * other.matrix[k][j];
                }
                result.setElement(i, j, sum);
            }
        }
        return result;
    }

    // æ˜¾ç¤ºçŸ©é˜µ
    void display() const {
        cout &lt;&lt; (isUpper ? "ä¸Šä¸‰è§’çŸ©é˜µ:" : "ä¸‹ä¸‰è§’çŸ©é˜µ:") &lt;&lt; endl;
        for (int i = 0; i &lt; size; i++) {
            for (int j = 0; j &lt; size; j++) {
                cout &lt;&lt; setw(8) &lt;&lt; setprecision(2) &lt;&lt; matrix[i][j] &lt;&lt; " ";
            }
            cout &lt;&lt; endl;
        }
    }
};

int main() {
    // åˆ›å»ºä¸Šä¸‰è§’çŸ©é˜µ
    TriangularMatrix upper(3, true);
    upper.setElement(0, 0, 2); upper.setElement(0, 1, 1); upper.setElement(0, 2, 3);
    upper.setElement(1, 1, 3); upper.setElement(1, 2, 2);
    upper.setElement(2, 2, 1);

    upper.display();
    cout &lt;&lt; "æ˜¯å¦ä¸ºä¸‰è§’çŸ©é˜µ: " &lt;&lt; (upper.isTriangular() ? "æ˜¯" : "å¦") &lt;&lt; endl;

    // æ±‚è§£æ–¹ç¨‹ç»„
    vector&lt;double&gt; b = {6, 7, 1};
    vector&lt;double&gt; x = upper.solve(b);

    cout &lt;&lt; "è§£å‘é‡ x: ";
    for (double val : x) {
        cout &lt;&lt; setprecision(2) &lt;&lt; val &lt;&lt; " ";
    }
    cout &lt;&lt; endl;

    return 0;
}</code></pre></div><div id="java-code" class="code-container"><div class="code-header"><span>Java å®ç°</span><button class="copy-btn" onclick="copyCode('java')">ğŸ“‹ å¤åˆ¶ä»£ç </button></div><pre><code id="java-content">public class TriangularMatrix {
    private double[][] matrix;
    private int size;
    private boolean isUpper;

    public TriangularMatrix(int n, boolean upper) {
        this.size = n;
        this.isUpper = upper;
        this.matrix = new double[n][n];
    }

    // è®¾ç½®å…ƒç´ ï¼ˆè‡ªåŠ¨ç»´æŠ¤ä¸‰è§’å½¢çŠ¶ï¼‰
    public void setElement(int i, int j, double value) {
        if (i &lt; size && j &lt; size) {
            if (isUpper && i &lt;= j) {
                matrix[i][j] = value;
            } else if (!isUpper && i &gt;= j) {
                matrix[i][j] = value;
            }
        }
    }

    // è·å–å…ƒç´ 
    public double getElement(int i, int j) {
        if (i &lt; size && j &lt; size) {
            return matrix[i][j];
        }
        return 0.0;
    }

    // æ£€æŸ¥æ˜¯å¦ä¸ºä¸‰è§’çŸ©é˜µ
    public boolean isTriangular() {
        for (int i = 0; i &lt; size; i++) {
            for (int j = 0; j &lt; size; j++) {
                if (isUpper && i &gt; j && matrix[i][j] != 0) return false;
                if (!isUpper && i &lt; j && matrix[i][j] != 0) return false;
            }
        }
        return true;
    }

    // æ±‚è§£ä¸‰è§’çŸ©é˜µæ–¹ç¨‹ç»„ Ax = b
    public double[] solve(double[] b) {
        double[] x = new double[size];

        if (isUpper) {
            // åå‘æ›¿æ¢
            for (int i = size - 1; i &gt;= 0; i--) {
                x[i] = b[i];
                for (int j = i + 1; j &lt; size; j++) {
                    x[i] -= matrix[i][j] * x[j];
                }
                x[i] /= matrix[i][i];
            }
        } else {
            // å‰å‘æ›¿æ¢
            for (int i = 0; i &lt; size; i++) {
                x[i] = b[i];
                for (int j = 0; j &lt; i; j++) {
                    x[i] -= matrix[i][j] * x[j];
                }
                x[i] /= matrix[i][i];
            }
        }
        return x;
    }

    // çŸ©é˜µä¹˜æ³•
    public TriangularMatrix multiply(TriangularMatrix other) {
        TriangularMatrix result = new TriangularMatrix(size, this.isUpper && other.isUpper);

        for (int i = 0; i &lt; size; i++) {
            for (int j = 0; j &lt; size; j++) {
                double sum = 0.0;
                for (int k = 0; k &lt; size; k++) {
                    sum += this.matrix[i][k] * other.matrix[k][j];
                }
                result.setElement(i, j, sum);
            }
        }
        return result;
    }

    // æ˜¾ç¤ºçŸ©é˜µ
    public void display() {
        System.out.println(isUpper ? "ä¸Šä¸‰è§’çŸ©é˜µ:" : "ä¸‹ä¸‰è§’çŸ©é˜µ:");
        for (int i = 0; i &lt; size; i++) {
            for (int j = 0; j &lt; size; j++) {
                System.out.printf("%8.2f ", matrix[i][j]);
            }
            System.out.println();
        }
    }

    public static void main(String[] args) {
        // åˆ›å»ºä¸Šä¸‰è§’çŸ©é˜µ
        TriangularMatrix upper = new TriangularMatrix(3, true);
        upper.setElement(0, 0, 2); upper.setElement(0, 1, 1); upper.setElement(0, 2, 3);
        upper.setElement(1, 1, 3); upper.setElement(1, 2, 2);
        upper.setElement(2, 2, 1);

        upper.display();
        System.out.println("æ˜¯å¦ä¸ºä¸‰è§’çŸ©é˜µ: " + (upper.isTriangular() ? "æ˜¯" : "å¦"));

        // æ±‚è§£æ–¹ç¨‹ç»„
        double[] b = {6, 7, 1};
        double[] x = upper.solve(b);

        System.out.print("è§£å‘é‡ x: ");
        for (double val : x) {
            System.out.printf("%.2f ", val);
        }
        System.out.println();
    }
}</code></pre></div><div id="python-code" class="code-container"><div class="code-header"><span>Python å®ç°</span><button class="copy-btn" onclick="copyCode('python')">ğŸ“‹ å¤åˆ¶ä»£ç </button></div><pre><code id="python-content">import numpy as np
from typing import List, Union

class TriangularMatrix:
    def __init__(self, size: int, is_upper: bool = True):
        """
        åˆå§‹åŒ–ä¸‰è§’çŸ©é˜µ

        Args:
            size: çŸ©é˜µå¤§å°
            is_upper: Trueä¸ºä¸Šä¸‰è§’çŸ©é˜µï¼ŒFalseä¸ºä¸‹ä¸‰è§’çŸ©é˜µ
        """
        self.size = size
        self.is_upper = is_upper
        self.matrix = np.zeros((size, size), dtype=float)

    def set_element(self, i: int, j: int, value: float):
        """è®¾ç½®å…ƒç´ ï¼ˆè‡ªåŠ¨ç»´æŠ¤ä¸‰è§’å½¢çŠ¶ï¼‰"""
        if 0 &lt;= i &lt; self.size and 0 &lt;= j &lt; self.size:
            if self.is_upper and i &lt;= j:
                self.matrix[i, j] = value
            elif not self.is_upper and i &gt;= j:
                self.matrix[i, j] = value

    def get_element(self, i: int, j: int) -&gt; float:
        """è·å–å…ƒç´ """
        if 0 &lt;= i &lt; self.size and 0 &lt;= j &lt; self.size:
            return self.matrix[i, j]
        return 0.0

    def is_triangular(self) -&gt; bool:
        """æ£€æŸ¥æ˜¯å¦ä¸ºä¸‰è§’çŸ©é˜µ"""
        for i in range(self.size):
            for j in range(self.size):
                if self.is_upper and i &gt; j and self.matrix[i, j] != 0:
                    return False
                if not self.is_upper and i &lt; j and self.matrix[i, j] != 0:
                    return False
        return True

    def solve(self, b: Union[List[float], np.ndarray]) -&gt; np.ndarray:
        """
        æ±‚è§£ä¸‰è§’çŸ©é˜µæ–¹ç¨‹ç»„ Ax = b

        Args:
            b: å³ä¾§å‘é‡

        Returns:
            è§£å‘é‡ x
        """
        b = np.array(b, dtype=float)
        x = np.zeros(self.size, dtype=float)

        if self.is_upper:
            # åå‘æ›¿æ¢
            for i in range(self.size - 1, -1, -1):
                x[i] = b[i]
                for j in range(i + 1, self.size):
                    x[i] -= self.matrix[i, j] * x[j]
                x[i] /= self.matrix[i, i]
        else:
            # å‰å‘æ›¿æ¢
            for i in range(self.size):
                x[i] = b[i]
                for j in range(i):
                    x[i] -= self.matrix[i, j] * x[j]
                x[i] /= self.matrix[i, i]

        return x

    def multiply(self, other: 'TriangularMatrix') -&gt; 'TriangularMatrix':
        """çŸ©é˜µä¹˜æ³•"""
        result = TriangularMatrix(self.size, self.is_upper and other.is_upper)

        for i in range(self.size):
            for j in range(self.size):
                sum_val = 0.0
                for k in range(self.size):
                    sum_val += self.matrix[i, k] * other.matrix[k, j]
                result.set_element(i, j, sum_val)

        return result

    def to_scipy_sparse(self):
        """è½¬æ¢ä¸ºSciPyç¨€ç–çŸ©é˜µæ ¼å¼"""
        from scipy.sparse import triu, tril
        if self.is_upper:
            return triu(self.matrix)
        else:
            return tril(self.matrix)

    def display(self):
        """æ˜¾ç¤ºçŸ©é˜µ"""
        matrix_type = "ä¸Šä¸‰è§’çŸ©é˜µ" if self.is_upper else "ä¸‹ä¸‰è§’çŸ©é˜µ"
        print(f"{matrix_type}:")
        for row in self.matrix:
            print(" ".join(f"{val:8.2f}" for val in row))

    @classmethod
    def from_lu_decomposition(cls, A: np.ndarray):
        """ä»LUåˆ†è§£åˆ›å»ºLå’ŒUçŸ©é˜µ"""
        from scipy.linalg import lu
        P, L, U = lu(A)

        # åˆ›å»ºä¸‹ä¸‰è§’çŸ©é˜µL
        lower = cls(L.shape[0], is_upper=False)
        lower.matrix = L

        # åˆ›å»ºä¸Šä¸‰è§’çŸ©é˜µU
        upper = cls(U.shape[0], is_upper=True)
        upper.matrix = U

        return P, lower, upper

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    # åˆ›å»ºä¸Šä¸‰è§’çŸ©é˜µ
    upper = TriangularMatrix(3, is_upper=True)
    upper.set_element(0, 0, 2); upper.set_element(0, 1, 1); upper.set_element(0, 2, 3)
    upper.set_element(1, 1, 3); upper.set_element(1, 2, 2)
    upper.set_element(2, 2, 1)

    upper.display()
    print(f"æ˜¯å¦ä¸ºä¸‰è§’çŸ©é˜µ: {'æ˜¯' if upper.is_triangular() else 'å¦'}")

    # æ±‚è§£æ–¹ç¨‹ç»„
    b = [6, 7, 1]
    x = upper.solve(b)
    print(f"è§£å‘é‡ x: {x}")

    # éªŒè¯è§£
    print(f"éªŒè¯ Ax = {upper.matrix @ x}")

    # LUåˆ†è§£ç¤ºä¾‹
    A = np.array([[4, 3, 2], [3, 4, 1], [2, 1, 3]], dtype=float)
    P, L, U = TriangularMatrix.from_lu_decomposition(A)
    print("\nLUåˆ†è§£ç»“æœ:")
    L.display()
    U.display()</code></pre></div></div></div></div><!-- âœ… å­¦ä¹ æ£€éªŒ --><div class="content-card"><div class="content-section"><h2 class="section-title"><span class="section-icon">âœ…</span>
                å­¦ä¹ æ£€éªŒ
            </h2><div class="quiz-container"><div class="quiz-item"><h4>ğŸ¤” é—®é¢˜ 1ï¼šå­˜å‚¨ä¼˜åŒ–</h4><p>ä¸€ä¸ª nÃ—n çš„ä¸Šä¸‰è§’çŸ©é˜µï¼ˆåŒ…æ‹¬ä¸»å¯¹è§’çº¿ï¼‰æœ€å°‘éœ€è¦å­˜å‚¨å¤šå°‘ä¸ªå…ƒç´ ï¼Ÿå¦‚ä½•è®¡ç®—ä¸€ç»´æ•°ç»„ä¸­çš„ç´¢å¼•ï¼Ÿ</p><button class="quiz-btn" onclick="toggleAnswer('answer1')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer1" class="quiz-answer"><strong>ç­”æ¡ˆï¼šn(n+1)/2 ä¸ªå…ƒç´ </strong><br>
                        è§£é‡Šï¼šä¸Šä¸‰è§’çŸ©é˜µåŒ…æ‹¬ä¸»å¯¹è§’çº¿ï¼Œéœ€è¦å­˜å‚¨çš„å…ƒç´ ä½ç½®ä¸º (i,j) å…¶ä¸­ i â‰¤ jã€‚
                        <br>ç¬¬0è¡Œï¼šnä¸ªå…ƒç´ ï¼Œç¬¬1è¡Œï¼šn-1ä¸ªå…ƒç´ ï¼Œ...ï¼Œç¬¬n-1è¡Œï¼š1ä¸ªå…ƒç´ 
                        <br>æ€»è®¡ï¼šn + (n-1) + ... + 1 = n(n+1)/2
                        <br><strong>ä¸€ç»´æ•°ç»„ç´¢å¼•å…¬å¼ï¼š</strong><code>index = i*n - i*(i-1)/2 + (j-i)</code><br>å…¶ä¸­ï¼Œi*n æ˜¯ç¬¬iè¡Œçš„èµ·å§‹ä½ç½®ï¼Œå‡å» i*(i-1)/2 æ˜¯å› ä¸ºå‰é¢çš„è¡Œéƒ½å°‘äº†ä¸€äº›å…ƒç´ ã€‚
                    </div></div><div class="quiz-item"><h4>ğŸ¤” é—®é¢˜ 2ï¼šè¿ç®—æ€§è´¨</h4><p>ä¸¤ä¸ªä¸Šä¸‰è§’çŸ©é˜µç›¸ä¹˜çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿæ—¶é—´å¤æ‚åº¦å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</p><button class="quiz-btn" onclick="toggleAnswer('answer2')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer2" class="quiz-answer"><strong>ç­”æ¡ˆï¼šä»ç„¶æ˜¯ä¸Šä¸‰è§’çŸ©é˜µ</strong><br>
                        è§£é‡Šï¼šè®¾Aå’ŒBéƒ½æ˜¯ä¸Šä¸‰è§’çŸ©é˜µï¼Œå³å½“i>jæ—¶ï¼ŒA[i][j]=0ï¼ŒB[i][j]=0ã€‚
                        <br>å¯¹äºä¹˜ç§¯çŸ©é˜µC=ABï¼Œæœ‰ C[i][j] = Î£(k=0 to n-1) A[i][k] * B[k][j]
                        <br>å½“i>jæ—¶ï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼š
                        <br>â€¢ å½“k&lt;jæ—¶ï¼ŒB[k][j]=0ï¼ˆå› ä¸ºk&lt;jä¸”Bæ˜¯ä¸Šä¸‰è§’ï¼‰
                        <br>â€¢ å½“kâ‰¥jæ—¶ï¼Œç”±äºi>jâ‰¥kï¼Œæ‰€ä»¥A[i][k]=0ï¼ˆå› ä¸ºi>kä¸”Aæ˜¯ä¸Šä¸‰è§’ï¼‰
                        <br>å› æ­¤C[i][j]=0ï¼Œæ‰€ä»¥Cä¹Ÿæ˜¯ä¸Šä¸‰è§’çŸ©é˜µã€‚
                        <br><strong>ä¼˜åŒ–ï¼š</strong>åªè®¡ç®—ä¸Šä¸‰è§’éƒ¨åˆ†ï¼Œæ—¶é—´å¤æ‚åº¦ä»O(nÂ³)é™ä½åˆ°O(nÂ³/6)ã€‚
                    </div></div><div class="quiz-item"><h4>ğŸ¤” é—®é¢˜ 3ï¼šæ±‚è§£æ•ˆç‡</h4><p>ä¸ºä»€ä¹ˆä¸‰è§’çŸ©é˜µæ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„æ¯”æ™®é€šçŸ©é˜µå¿«ï¼Ÿå‰å‘æ›¿æ¢å’Œåå‘æ›¿æ¢çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p><button class="quiz-btn" onclick="toggleAnswer('answer3')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer3" class="quiz-answer"><strong>ç­”æ¡ˆï¼šé¿å…äº†æ¶ˆå…ƒè¿‡ç¨‹ï¼Œç›´æ¥æ›¿æ¢æ±‚è§£</strong><br>
                        è§£é‡Šï¼š
                        <br><strong>æ™®é€šçŸ©é˜µï¼š</strong>éœ€è¦å…ˆè¿›è¡Œé«˜æ–¯æ¶ˆå…ƒ(O(nÂ³))ï¼Œå†æ±‚è§£(O(nÂ²))
                        <br><strong>ä¸‰è§’çŸ©é˜µï¼š</strong>ç›´æ¥ç”¨æ›¿æ¢æ³•æ±‚è§£(O(nÂ²))
                        <br><br><strong>å‰å‘æ›¿æ¢ï¼ˆä¸‹ä¸‰è§’ï¼‰ï¼š</strong>ä»ç¬¬ä¸€ä¸ªæ–¹ç¨‹å¼€å§‹å‘ä¸‹æ±‚è§£
                        <br>xâ‚ = bâ‚/Lâ‚â‚, xâ‚‚ = (bâ‚‚-Lâ‚‚â‚xâ‚)/Lâ‚‚â‚‚, ...
                        <br><strong>åå‘æ›¿æ¢ï¼ˆä¸Šä¸‰è§’ï¼‰ï¼š</strong>ä»æœ€åä¸€ä¸ªæ–¹ç¨‹å¼€å§‹å‘ä¸Šæ±‚è§£
                        <br>xâ‚™ = bâ‚™/Uâ‚™â‚™, xâ‚™â‚‹â‚ = (bâ‚™â‚‹â‚-Uâ‚™â‚‹â‚,â‚™xâ‚™)/Uâ‚™â‚‹â‚,â‚™â‚‹â‚, ...
                        <br>è¿™æ ·æ¯ä¸ªæœªçŸ¥æ•°éƒ½å¯ä»¥ç›´æ¥ä»å·²çŸ¥é‡è®¡ç®—å¾—å‡ºã€‚
                    </div></div><div class="quiz-item"><h4>ğŸ¤” é—®é¢˜ 4ï¼šLUåˆ†è§£</h4><p>ä»€ä¹ˆæ˜¯LUåˆ†è§£ï¼Ÿä¸ºä»€ä¹ˆå®ƒåœ¨æ•°å€¼è®¡ç®—ä¸­å¦‚æ­¤é‡è¦ï¼Ÿå®ƒä¸ä¸‰è§’çŸ©é˜µæœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</p><button class="quiz-btn" onclick="toggleAnswer('answer4')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer4" class="quiz-answer"><strong>ç­”æ¡ˆï¼šå°†çŸ©é˜µåˆ†è§£ä¸ºä¸‹ä¸‰è§’Ã—ä¸Šä¸‰è§’</strong><br>
                        è§£é‡Šï¼šLUåˆ†è§£å°†çŸ©é˜µAåˆ†è§£ä¸ºA = LUï¼Œå…¶ä¸­ï¼š
                        <br>â€¢ Læ˜¯ä¸‹ä¸‰è§’çŸ©é˜µï¼ˆLower triangularï¼‰
                        <br>â€¢ Uæ˜¯ä¸Šä¸‰è§’çŸ©é˜µï¼ˆUpper triangularï¼‰
                        <br><br><strong>é‡è¦æ€§ï¼š</strong><br>1. <strong>æ±‚è§£å¤šä¸ªæ–¹ç¨‹ç»„ï¼š</strong>å¯¹äºä¸åŒçš„bï¼Œæ±‚è§£Ax=bæ—¶ï¼Œåªéœ€åˆ†è§£ä¸€æ¬¡Aï¼Œç„¶ååˆ†åˆ«æ±‚è§£Ly=bå’ŒUx=y
                        <br>2. <strong>çŸ©é˜µæ±‚é€†ï¼š</strong>Aâ»Â¹ = Uâ»Â¹Lâ»Â¹ï¼Œä¸‰è§’çŸ©é˜µæ±‚é€†æ›´ç®€å•
                        <br>3. <strong>è¡Œåˆ—å¼è®¡ç®—ï¼š</strong>det(A) = det(L) Ã— det(U) = ä¸»å¯¹è§’çº¿å…ƒç´ ä¹˜ç§¯
                        <br>4. <strong>æ•°å€¼ç¨³å®šæ€§ï¼š</strong>éƒ¨åˆ†é€‰ä¸»å…ƒçš„LUåˆ†è§£æ¯”ç›´æ¥é«˜æ–¯æ¶ˆå…ƒæ›´ç¨³å®š
                    </div></div><div class="quiz-item"><h4>ğŸ¤” é—®é¢˜ 5ï¼šåº”ç”¨æ‹“å±•</h4><p>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œå“ªäº›ç®—æ³•ä¼šäº§ç”Ÿæˆ–ä½¿ç”¨ä¸‰è§’çŸ©é˜µï¼Ÿä¸¾å‡ºå…·ä½“ä¾‹å­å¹¶è¯´æ˜åŸå› ã€‚</p><button class="quiz-btn" onclick="toggleAnswer('answer5')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer5" class="quiz-answer"><strong>ç­”æ¡ˆï¼šQRåˆ†è§£ã€Choleskyåˆ†è§£ã€RNNç­‰</strong><br><strong>å…·ä½“ä¾‹å­ï¼š</strong><br>1. <strong>QRåˆ†è§£ï¼š</strong>ç”¨äºæœ€å°äºŒä¹˜æ³•ï¼ŒRçŸ©é˜µæ˜¯ä¸Šä¸‰è§’çŸ©é˜µï¼Œä¿è¯æ•°å€¼ç¨³å®šæ€§
                        <br>2. <strong>Choleskyåˆ†è§£ï¼š</strong>æ­£å®šçŸ©é˜µA=LL^Tï¼ŒLæ˜¯ä¸‹ä¸‰è§’çŸ©é˜µï¼Œç”¨äºå¤šå…ƒæ­£æ€åˆ†å¸ƒé‡‡æ ·å’Œå¿«é€Ÿæ±‚è§£
                        <br>3. <strong>RNNåå‘ä¼ æ’­ï¼š</strong>å±•å¼€çš„æ—¶é—´æ­¥å½¢æˆä¸Šä¸‰è§’ç»“æ„ï¼Œé¿å…æ¢¯åº¦æ¶ˆå¤±
                        <br>4. <strong>ç¨€ç–çŸ©é˜µå­˜å‚¨ï¼š</strong>å¾ˆå¤šå›¾ç¥ç»ç½‘ç»œçš„é‚»æ¥çŸ©é˜µå¯ä»¥é‡æ–°æ’åˆ—æˆå—ä¸‰è§’å½¢å¼
                        <br>5. <strong>æ­£åˆ™åŒ–ï¼š</strong>å²­å›å½’çš„æ­£è§„æ–¹ç¨‹ (X^TX + Î»I) å¯ä»¥é€šè¿‡Choleskyåˆ†è§£é«˜æ•ˆæ±‚è§£
                        <br><br><strong>åŸå› ï¼š</strong>è¿™äº›åº”ç”¨åˆ©ç”¨äº†ä¸‰è§’çŸ©é˜µçš„è®¡ç®—æ•ˆç‡å’Œæ•°å€¼ç¨³å®šæ€§ã€‚
                    </div></div><div class="quiz-item"><h4>ğŸ¤” é—®é¢˜ 6ï¼šå®ç°æŒ‘æˆ˜</h4><p>å¦‚ä½•åœ¨å®é™…ç¼–ç¨‹ä¸­é«˜æ•ˆåœ°å®ç°ä¸‰è§’çŸ©é˜µçš„ä¹˜æ³•ï¼Ÿéœ€è¦æ³¨æ„å“ªäº›ç»†èŠ‚ï¼Ÿ</p><button class="quiz-btn" onclick="toggleAnswer('answer6')">ğŸ’¡ æŸ¥çœ‹ç­”æ¡ˆ</button><div id="answer6" class="quiz-answer"><strong>ç­”æ¡ˆï¼šå¾ªç¯è¾¹ç•Œä¼˜åŒ–å’Œç¼“å­˜å‹å¥½è®¿é—®</strong><br><strong>å…³é”®ä¼˜åŒ–ç­–ç•¥ï¼š</strong><br>1. <strong>å¾ªç¯è¾¹ç•Œï¼š</strong>åªè®¡ç®—éé›¶åŒºåŸŸ
                        <br><code>for(i=0; i&lt;n; i++) for(j=i; j&lt;n; j++) // ä¸Šä¸‰è§’</code><br>2. <strong>å†…å­˜è®¿é—®æ¨¡å¼ï¼š</strong>æŒ‰è¡Œä¼˜å…ˆè®¿é—®ï¼Œæé«˜ç¼“å­˜å‘½ä¸­ç‡
                        <br>3. <strong>åˆ†å—ç®—æ³•ï¼š</strong>å¯¹å¤§çŸ©é˜µä½¿ç”¨åˆ†å—ä¹˜æ³•ï¼Œå‡å°‘ç¼“å­˜ç¼ºå¤±
                        <br>4. <strong>SIMDä¼˜åŒ–ï¼š</strong>åˆ©ç”¨å‘é‡æŒ‡ä»¤å¹¶è¡Œè®¡ç®—
                        <br>5. <strong>ç¨€ç–æ€§åˆ©ç”¨ï¼š</strong>è·³è¿‡å·²çŸ¥ä¸ºé›¶çš„ä¹˜æ³•è¿ç®—
                        <br><br><strong>æ³¨æ„äº‹é¡¹ï¼š</strong><br>â€¢ æ•°å€¼ç²¾åº¦ï¼šé¿å…å°ä¸»å…ƒå¯¼è‡´çš„æ•°å€¼ä¸ç¨³å®š
                        <br>â€¢ è¾¹ç•Œæ£€æŸ¥ï¼šé˜²æ­¢æ•°ç»„è¶Šç•Œ
                        <br>â€¢ å†…å­˜å¯¹é½ï¼šç¡®ä¿SIMDæŒ‡ä»¤çš„æœ‰æ•ˆæ‰§è¡Œ
                    </div></div></div><div style="margin-top: 30px;"><h3>ğŸ“š è¿›é˜¶å­¦ä¹ è·¯å¾„</h3><div class="unified-grid unified-grid-2"><div class="info-box info-box-info"><span class="info-icon">ğŸ“–</span><strong>åç»­å­¦ä¹ ï¼š</strong>çŸ©é˜µåˆ†è§£ç†è®ºï¼ˆQRã€SVDã€ç‰¹å¾åˆ†è§£ï¼‰ã€æ•°å€¼çº¿æ€§ä»£æ•°ã€ç¨€ç–çŸ©é˜µç®—æ³•ã€è¿­ä»£æ±‚è§£æ–¹æ³•
                    </div><div class="info-box info-box-success"><span class="info-icon">ğŸ› ï¸</span><strong>å®è·µé¡¹ç›®ï¼š</strong>å®ç°é«˜æ€§èƒ½çº¿æ€§ä»£æ•°åº“ã€æ±‚è§£å¤§å‹çº¿æ€§ç³»ç»Ÿã€å›¾åƒå¤„ç†ä¸­çš„æ»¤æ³¢å™¨è®¾è®¡ã€æœºå™¨å­¦ä¹ ç®—æ³•ä¼˜åŒ–
                    </div></div><div style="margin-top: 20px;"><h4>ğŸ¯ æ¨èç»ƒä¹ </h4><ul style="text-align: left; color: #666;"><li>å®ç°å¸¦éƒ¨åˆ†é€‰ä¸»å…ƒçš„LUåˆ†è§£ç®—æ³•</li><li>æ¯”è¾ƒä¸åŒçŸ©é˜µå­˜å‚¨æ ¼å¼çš„æ€§èƒ½ï¼ˆç¨ å¯† vs ç¨€ç–ï¼‰</li><li>ä½¿ç”¨ä¸‰è§’çŸ©é˜µæ±‚è§£çº¿æ€§æœ€å°äºŒä¹˜é—®é¢˜</li><li>åœ¨GPUä¸Šå®ç°å¹¶è¡Œä¸‰è§’çŸ©é˜µæ±‚è§£å™¨</li><li>åˆ†æå®é™…å·¥ç¨‹é—®é¢˜ä¸­çš„ä¸‰è§’çŸ©é˜µç»“æ„</li></ul></div></div></div></div><!-- å¯¼èˆªæŒ‰é’® --><div style="text-align: center; margin-top: 40px;"><a href="{% url 'knowledge_app:index' %}" class="unified-btn unified-btn-primary"><span>ğŸ </span>
            è¿”å›é¦–é¡µ
        </a><a href="{% url 'knowledge_app:cs_universe' %}" class="unified-btn unified-btn-secondary"><span>ğŸŒŒ</span>
            æ¢ç´¢CSå®‡å®™
        </a></div></div><style>.code-tabs {display:flex;border-bottom:2px solid #e0e0e0;margin-bottom:0}.tab-button {background:#f5f5f5;border:none;padding:12px 24px;cursor:pointer;font-size:14px;font-weight:500;transition:all 0.3s ease;border-top-left-radius:8px;border-top-right-radius:8px}.tab-button:hover {background:#e0e0e0}.tab-button.active {background:#2196F3;color:white}.code-container {display:none;background:#1e1e1e;border-radius:0 8px 8px 8px;overflow:hidden}.code-container.active {display:block}.code-header {background:#2d2d2d;padding:12px 20px;display:flex;justify-content:space-between;align-items:center;color:#fff;font-weight:500}.copy-btn {background:#4CAF50;color:white;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:12px;transition:background 0.3s ease}.copy-btn:hover {background:#45a049}.code-container pre {margin:0;padding:20px;overflow-x:auto;background:#1e1e1e}.code-container code {color:#f8f8f2;font-family:'Consolas', 'Monaco', 'Courier New', monospace;font-size:14px;line-height:1.6}.quiz-container {max-width:900px;margin:0 auto}.quiz-item {background:#f8f9fa;border:2px solid #e9ecef;border-radius:12px;padding:20px;margin-bottom:20px;transition:all 0.3s ease}.quiz-item:hover {border-color:#2196F3;box-shadow:0 4px 12px rgba(33, 150, 243, 0.1)}.quiz-item h4 {color:#2196F3;margin-bottom:15px;font-size:18px}.quiz-btn {background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);color:white;border:none;padding:10px 20px;border-radius:25px;cursor:pointer;font-weight:500;margin-top:15px;transition:all 0.3s ease}.quiz-btn:hover {transform:translateY(-2px);box-shadow:0 4px 12px rgba(102, 126, 234, 0.4)}.quiz-answer {display:none;background:#e3f2fd;border:1px solid #bbdefb;border-radius:8px;padding:15px;margin-top:15px;line-height:1.6}.quiz-answer.show {display:block;animation:fadeIn 0.5s ease}@keyframes fadeIn {from {opacity:0;transform:translateY(-10px)}to {opacity:1;transform:translateY(0)}}canvas {box-shadow:0 4px 12px rgba(0, 0, 0, 0.1)}.unified-btn {margin:5px;min-width:120px}.unified-btn-outline {background:transparent;border:2px solid #ddd;color:#666}.unified-btn-outline:hover {background:#f5f5f5;border-color:#bbb}#buildStatus, #luStatus, #operationResult {min-height:24px;font-weight:bold}</style><script>function showCode(language) { const containers = document.querySelectorAll('.code-container'); containers.forEach(container => container.classList.remove('active')); const buttons = document.querySelectorAll('.tab-button'); buttons.forEach(button => button.classList.remove('active')); document.getElementById(language + '-code').classList.add('active'); event.target.classList.add('active'); } function copyCode(language) { const code = document.getElementById(language + '-content').textContent; navigator.clipboard.writeText(code).then(() => { const btn = event.target; const originalText = btn.textContent; btn.textContent = 'âœ… å·²å¤åˆ¶!'; btn.style.background = '#4CAF50'; setTimeout(() => { btn.textContent = originalText; btn.style.background = '#4CAF50'; }, 2000); }); } function toggleAnswer(answerId) { const answer = document.getElementById(answerId); answer.classList.toggle('show'); } function drawTriangularComparison() { const canvas = document.getElementById('triangularComparison'); const ctx = canvas.getContext('2d'); ctx.clearRect(0, 0, canvas.width, canvas.height); const cellSize = 50; const matrices = [ { x: 100, y: 50, type: 'upper', label: 'ä¸Šä¸‰è§’çŸ©é˜µ' }, { x: 350, y: 50, type: 'lower', label: 'ä¸‹ä¸‰è§’çŸ©é˜µ' }, { x: 600, y: 50, type: 'unit', label: 'å•ä½ä¸‹ä¸‰è§’çŸ©é˜µ' } ]; matrices.forEach(matrix => { ctx.fillStyle = '#333'; ctx.font = '16px Arial'; ctx.textAlign = 'center'; ctx.fillText(matrix.label, matrix.x + 75, matrix.y - 10); for (let i = 0; i < 3; i++) { for (let j = 0; j < 3; j++) { const x = matrix.x + j * cellSize; const y = matrix.y + i * cellSize; let value = 0; let bgColor = '#f5f5f5'; if (matrix.type === 'upper' && i <= j) { value = Math.floor(Math.random() * 9) + 1; bgColor = '#e3f2fd'; } else if (matrix.type === 'lower' && i >= j) { value = Math.floor(Math.random() * 9) + 1; bgColor = '#e8f5e8'; } else if (matrix.type === 'unit') { if (i === j) { value = 1; bgColor = '#fff3e0'; } else if (i > j) { value = Math.floor(Math.random() * 9) + 1; bgColor = '#e8f5e8'; } } ctx.fillStyle = bgColor; ctx.fillRect(x, y, cellSize, cellSize); ctx.strokeStyle = '#333'; ctx.lineWidth = 1; ctx.strokeRect(x, y, cellSize, cellSize); if (value > 0) { ctx.fillStyle = '#333'; ctx.font = '14px Arial'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(value, x + cellSize/2, y + cellSize/2); } } } }); } let buildStep = 0; let buildType = ''; let buildInterval; let buildMatrix = [[0,0,0],[0,0,0],[0,0,0]]; function startBuildAnimation(type) { buildType = type; buildStep = 0; buildMatrix = [[0,0,0],[0,0,0],[0,0,0]]; const positions = type === 'upper' ? [[0,0],[0,1],[0,2],[1,1],[1,2],[2,2]] : [[0,0],[1,0],[1,1],[2,0],[2,1],[2,2]]; function animate() { const canvas = document.getElementById('buildAnimation'); const ctx = canvas.getContext('2d'); ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = '#333'; ctx.font = '20px Arial'; ctx.textAlign = 'center'; ctx.fillText(`æ„é€ ${type === 'upper' ? 'ä¸Š' : 'ä¸‹'}ä¸‰è§’çŸ©é˜µ`, canvas.width/2, 30); const cellSize = 80; const startX = 160; const startY = 80; for (let i = 0; i < 3; i++) { for (let j = 0; j < 3; j++) { const x = startX + j * cellSize; const y = startY + i * cellSize; ctx.fillStyle = '#f5f5f5'; ctx.fillRect(x, y, cellSize, cellSize); ctx.strokeStyle = '#333'; ctx.lineWidth = 2; ctx.strokeRect(x, y, cellSize, cellSize); } } for (let step = 0; step <= Math.min(buildStep, positions.length - 1); step++) { const pos = positions[step]; const i = pos[0], j = pos[1]; const x = startX + j * cellSize; const y = startY + i * cellSize; const value = Math.floor(Math.random() * 9) + 1; buildMatrix[i][j] = value; if (step === buildStep) { ctx.fillStyle = '#ffeb3b'; } else { ctx.fillStyle = type === 'upper' ? '#e3f2fd' : '#e8f5e8'; } ctx.fillRect(x + 2, y + 2, cellSize - 4, cellSize - 4); ctx.fillStyle = '#333'; ctx.font = '24px Arial'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(value, x + cellSize/2, y + cellSize/2); } const status = document.getElementById('buildStatus'); if (buildStep < positions.length) { const pos = positions[buildStep]; status.textContent = `æ­£åœ¨å¡«å……ä½ç½® [${pos[0]}][${pos[1]}]`; } else { status.textContent = `âœ… ${type === 'upper' ? 'ä¸Š' : 'ä¸‹'}ä¸‰è§’çŸ©é˜µæ„é€ å®Œæˆï¼`; clearInterval(buildInterval); } } buildInterval = setInterval(() => { animate(); buildStep++; if (buildStep > 6) { clearInterval(buildInterval); } }, 800); animate(); } let luStep = 0; let luInterval; let originalMatrix = [[4,3,2],[3,4,1],[2,1,3]]; let lMatrix = [[1,0,0],[0,1,0],[0,0,1]]; let uMatrix = [[0,0,0],[0,0,0],[0,0,0]]; function startLUDecomposition() { luStep = 0; originalMatrix = [[4,3,2],[3,4,1],[2,1,3]]; lMatrix = [[1,0,0],[0,1,0],[0,0,1]]; uMatrix = JSON.parse(JSON.stringify(originalMatrix)); document.getElementById('stepLU').disabled = false; drawLUStep(); } function nextLUStep() { if (luStep >= 6) return; switch(luStep) { case 0: lMatrix[1][0] = uMatrix[1][0] / uMatrix[0][0]; lMatrix[2][0] = uMatrix[2][0] / uMatrix[0][0]; break; case 1: uMatrix[1][0] = 0; uMatrix[1][1] -= lMatrix[1][0] * uMatrix[0][1]; uMatrix[1][2] -= lMatrix[1][0] * uMatrix[0][2]; uMatrix[2][0] = 0; uMatrix[2][1] -= lMatrix[2][0] * uMatrix[0][1]; uMatrix[2][2] -= lMatrix[2][0] * uMatrix[0][2]; break; case 2: lMatrix[2][1] = uMatrix[2][1] / uMatrix[1][1]; break; case 3: uMatrix[2][1] = 0; uMatrix[2][2] -= lMatrix[2][1] * uMatrix[1][2]; break; } luStep++; drawLUStep(); if (luStep >= 4) { document.getElementById('stepLU').disabled = true; document.getElementById('luStatus').textContent = 'âœ… LUåˆ†è§£å®Œæˆï¼A = L Ã— U'; } } function drawLUStep() { const canvas = document.getElementById('luDecomposition'); const ctx = canvas.getContext('2d'); ctx.clearRect(0, 0, canvas.width, canvas.height); const cellSize = 60; const matrices = [ { matrix: originalMatrix, x: 50, y: 80, label: 'A', color: '#e3f2fd' }, { matrix: lMatrix, x: 250, y: 80, label: 'L', color: '#e8f5e8' }, { matrix: uMatrix, x: 450, y: 80, label: 'U', color: '#fff3e0' } ]; matrices.forEach((mat, idx) => { ctx.fillStyle = '#333'; ctx.font = '20px Arial'; ctx.textAlign = 'center'; ctx.fillText(mat.label, mat.x + 90, mat.y - 20); for (let i = 0; i < 3; i++) { for (let j = 0; j < 3; j++) { const x = mat.x + j * cellSize; const y = mat.y + i * cellSize; let bgColor = mat.color; const value = mat.matrix[i][j]; if (idx === 1 && i < j) bgColor = '#f5f5f5'; if (idx === 2 && i > j) bgColor = '#f5f5f5'; ctx.fillStyle = bgColor; ctx.fillRect(x, y, cellSize, cellSize); ctx.strokeStyle = '#333'; ctx.lineWidth = 1; ctx.strokeRect(x, y, cellSize, cellSize); if (Math.abs(value) > 0.001) { ctx.fillStyle = '#333'; ctx.font = '16px Arial'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(value.toFixed(1), x + cellSize/2, y + cellSize/2); } } } if (idx === 0) { ctx.fillStyle = '#333'; ctx.font = '24px Arial'; ctx.fillText('=', mat.x + 200, mat.y + 90); } else if (idx === 1) { ctx.fillText('Ã—', mat.x + 200, mat.y + 90); } }); const stepTexts = [ 'å¼€å§‹LUåˆ†è§£', 'è®¡ç®—Lçš„ç¬¬ä¸€åˆ—å…ƒç´ ', 'æ¶ˆé™¤Açš„ç¬¬ä¸€åˆ—', 'è®¡ç®—Lçš„ç¬¬äºŒåˆ—å…ƒç´ ', 'æ¶ˆé™¤Açš„ç¬¬äºŒåˆ—', 'LUåˆ†è§£å®Œæˆ' ]; document.getElementById('luStatus').textContent = stepTexts[Math.min(luStep, stepTexts.length - 1)]; } let matrixA = [[0,0,0],[0,0,0],[0,0,0]]; let matrixB = [[0,0,0],[0,0,0],[0,0,0]]; let resultMatrix = [[0,0,0],[0,0,0],[0,0,0]]; let selectedMatrix = null; function drawInteractiveTriangular() { const canvas = document.getElementById('interactiveTriangular'); const ctx = canvas.getContext('2d'); ctx.clearRect(0, 0, canvas.width, canvas.height); const cellSize = 50; const matrices = [ { matrix: matrixA, x: 50, y: 80, label: 'A (ä¸Šä¸‰è§’)', color: '#e3f2fd' }, { matrix: matrixB, x: 250, y: 80, label: 'B (ä¸‹ä¸‰è§’)', color: '#e8f5e8' }, { matrix: resultMatrix, x: 550, y: 80, label: 'A Ã— B', color: '#fff3e0' } ]; matrices.forEach((mat, matIdx) => { ctx.fillStyle = '#333'; ctx.font = '16px Arial'; ctx.textAlign = 'center'; ctx.fillText(mat.label, mat.x + 75, mat.y - 20); for (let i = 0; i < 3; i++) { for (let j = 0; j < 3; j++) { const x = mat.x + j * cellSize; const y = mat.y + i * cellSize; let bgColor = mat.color; if (matIdx === 0 && i > j) bgColor = '#f5f5f5'; if (matIdx === 1 && i < j) bgColor = '#f5f5f5'; ctx.fillStyle = bgColor; ctx.fillRect(x, y, cellSize, cellSize); ctx.strokeStyle = '#333'; ctx.lineWidth = 1; ctx.strokeRect(x, y, cellSize, cellSize); const value = mat.matrix[i][j]; if (value !== 0) { ctx.fillStyle = '#333'; ctx.font = '14px Arial'; ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.fillText(value, x + cellSize/2, y + cellSize/2); } } } if (matIdx === 0) { ctx.fillStyle = '#666'; ctx.font = '20px Arial'; ctx.fillText('Ã—', mat.x + 180, mat.y + 75); } else if (matIdx === 1) { ctx.fillText('=', mat.x + 180, mat.y + 75); } }); } function createUpperMatrix() { for (let i = 0; i < 3; i++) { for (let j = 0; j < 3; j++) { if (i <= j) { matrixA[i][j] = Math.floor(Math.random() * 9) + 1; } else { matrixA[i][j] = 0; } } } drawInteractiveTriangular(); document.getElementById('operationResult').textContent = 'âœ… å·²åˆ›å»ºä¸Šä¸‰è§’çŸ©é˜µ A'; } function createLowerMatrix() { for (let i = 0; i < 3; i++) { for (let j = 0; j < 3; j++) { if (i >= j) { matrixB[i][j] = Math.floor(Math.random() * 9) + 1; } else { matrixB[i][j] = 0; } } } drawInteractiveTriangular(); document.getElementById('operationResult').textContent = 'âœ… å·²åˆ›å»ºä¸‹ä¸‰è§’çŸ©é˜µ B'; } function multiplyMatrices() { for (let i = 0; i < 3; i++) { for (let j = 0; j < 3; j++) { resultMatrix[i][j] = 0; for (let k = 0; k < 3; k++) { resultMatrix[i][j] += matrixA[i][k] * matrixB[k][j]; } } } drawInteractiveTriangular(); document.getElementById('operationResult').textContent = 'âœ… çŸ©é˜µä¹˜æ³•å®Œæˆï¼æ³¨æ„ç»“æœçš„ç»“æ„ç‰¹ç‚¹'; } function clearMatrices() { matrixA = [[0,0,0],[0,0,0],[0,0,0]]; matrixB = [[0,0,0],[0,0,0],[0,0,0]]; resultMatrix = [[0,0,0],[0,0,0],[0,0,0]]; drawInteractiveTriangular(); document.getElementById('operationResult').textContent = 'å·²æ¸…ç©ºæ‰€æœ‰çŸ©é˜µ'; } document.addEventListener('DOMContentLoaded', function() { drawTriangularComparison(); drawInteractiveTriangular(); drawLUStep(); document.getElementById('buildUpper').addEventListener('click', () => startBuildAnimation('upper')); document.getElementById('buildLower').addEventListener('click', () => startBuildAnimation('lower')); document.getElementById('resetBuild').addEventListener('click', () => { clearInterval(buildInterval); const ctx = document.getElementById('buildAnimation').getContext('2d'); ctx.clearRect(0, 0, 600, 450); document.getElementById('buildStatus').textContent = ''; }); document.getElementById('startLU').addEventListener('click', startLUDecomposition); document.getElementById('stepLU').addEventListener('click', nextLUStep); document.getElementById('resetLU').addEventListener('click', () => { luStep = 0; document.getElementById('stepLU').disabled = false; document.getElementById('luStatus').textContent = ''; drawLUStep(); }); document.getElementById('createUpperMatrix').addEventListener('click', createUpperMatrix); document.getElementById('createLowerMatrix').addEventListener('click', createLowerMatrix); document.getElementById('multiplyMatrices').addEventListener('click', multiplyMatrices); document.getElementById('clearMatrices').addEventListener('click', clearMatrices); });</script>
{% endblock %}