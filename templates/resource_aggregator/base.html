<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>{% block title %}{{ page_title|default:"学习资源聚合器" }}{% endblock %}</title><!-- CSS --><style>:root {--primary-color:#667eea;--secondary-color:#764ba2;--accent-color:#4ecdc4;--text-primary:#2d3748;--text-secondary:#4a5568;--bg-primary:#ffffff;--bg-secondary:#f7fafc;--border-color:#e2e8f0;--shadow:0 4px 6px rgba(0, 0, 0, 0.1);--shadow-lg:0 10px 25px rgba(0, 0, 0, 0.15);--border-radius:8px;--border-radius-lg:12px}* {margin:0;padding:0;box-sizing:border-box}body {font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;line-height:1.6;color:var(--text-primary);background:linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);min-height:100vh}.container {max-width:1200px;margin:0 auto;padding:0 20px}.navbar {background:rgba(255, 255, 255, 0.95);backdrop-filter:blur(10px);box-shadow:var(--shadow);position:sticky;top:0;z-index:1000}.navbar .container {display:flex;justify-content:space-between;align-items:center;padding:1rem 20px}.navbar-brand {font-size:1.5rem;font-weight:700;color:var(--primary-color);text-decoration:none}.navbar-nav {display:flex;list-style:none;gap:2rem}.navbar-nav a {color:var(--text-primary);text-decoration:none;font-weight:500;transition:color 0.3s ease}.navbar-nav a:hover {color:var(--primary-color)}.main-content {padding:2rem 0;min-height:calc(100vh - 200px)}.content-card {background:var(--bg-primary);border-radius:var(--border-radius-lg);box-shadow:var(--shadow-lg);padding:2rem;margin-bottom:2rem}.page-header {text-align:center;margin-bottom:3rem;color:white}.page-header h1 {font-size:2.5rem;font-weight:800;margin-bottom:0.5rem;text-shadow:0 2px 4px rgba(0, 0, 0, 0.3)}.page-header p {font-size:1.1rem;opacity:0.9}.btn {display:inline-flex;align-items:center;justify-content:center;padding:0.75rem 1.5rem;border:none;border-radius:var(--border-radius);font-weight:600;text-decoration:none;cursor:pointer;transition:all 0.3s ease;font-size:0.9rem}.btn-primary {background:linear-gradient(135deg, var(--primary-color), var(--secondary-color));color:white}.btn-primary:hover {transform:translateY(-2px);box-shadow:var(--shadow-lg)}.btn-secondary {background:var(--bg-secondary);color:var(--text-primary);border:1px solid var(--border-color)}.btn-secondary:hover {background:var(--border-color)}.card-grid {display:grid;grid-template-columns:repeat(auto-fill, minmax(300px, 1fr));gap:1.5rem;margin-top:2rem}.card {background:var(--bg-primary);border-radius:var(--border-radius-lg);box-shadow:var(--shadow);overflow:hidden;transition:all 0.3s ease}.card:hover {transform:translateY(-4px);box-shadow:var(--shadow-lg)}@media (max-width:768px) {.navbar .container {flex-direction:column;gap:1rem}.navbar-nav {gap:1rem}.page-header h1 {font-size:2rem}.content-card {padding:1.5rem}.card-grid {grid-template-columns:1fr}}.loading {display:inline-block;width:20px;height:20px;border:3px solid rgba(255, 255, 255, 0.3);border-radius:50%;border-top-color:white;animation:spin 1s ease-in-out infinite}@keyframes spin {to {transform:rotate(360deg)}}.alert {padding:1rem;border-radius:var(--border-radius);margin-bottom:1rem}.alert-success {background:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-error {background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alert-info {background:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}</style>
    
    {% block extra_css %}{% endblock %}
</head><body><!-- 导航栏 --><nav class="navbar"><div class="container"><a href="{% url 'resource_aggregator:list' %}" class="navbar-brand">
                🔍 学习资源聚合器
            </a><ul class="navbar-nav"><li><a href="{% url 'resource_aggregator:list' %}">资源库</a></li><li><a href="{% url 'resource_aggregator:search' %}">智能搜索</a></li>
                {% if user.is_authenticated %}
                    <li><a href="{% url 'resource_aggregator:dashboard' %}">我的资源</a></li>
                    {% if user.is_staff %}
                        <li><a href="/admin/">管理后台</a></li>
                    {% endif %}
                {% else %}
                    <li><a href="/login/">登录</a></li>
                {% endif %}
            </ul></div></nav><!-- 主要内容 --><main class="main-content">
        {% if page_title %}
        <div class="page-header"><div class="container"><h1>{% block page_title %}{{ page_title }}{% endblock %}</h1>
                {% block page_description %}{% endblock %}
            </div></div>
        {% endif %}
        
        <div class="container">
            {% block content %}{% endblock %}
        </div></main><!-- JavaScript --><script>window.ResourceAggregator = { showMessage: function(message, type = 'info') { const alertDiv = document.createElement('div'); alertDiv.className = `alert alert-${type}`; alertDiv.textContent = message; const container = document.querySelector('.container'); container.insertBefore(alertDiv, container.firstChild); setTimeout(() => { alertDiv.remove(); }, 5000); }, request: function(url, options = {}) { const defaults = { method: 'GET', headers: { 'Content-Type': 'application/json', 'X-CSRFToken': this.getCsrfToken() } }; return fetch(url, { ...defaults, ...options }) .then(response => { if (!response.ok) { throw new Error(`HTTP ${response.status}`); } return response.json(); }); }, getCsrfToken: function() { const cookies = document.cookie.split(';'); for (let cookie of cookies) { const [name, value] = cookie.trim().split('='); if (name === 'csrftoken') { return value; } } return ''; } };</script>
    
    {% block extra_js %}{% endblock %}
</body></html>
