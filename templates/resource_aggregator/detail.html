{% extends 'resource_aggregator/base.html' %}

{% block extra_css %}
<style>.detail-container {max-width:900px;margin:0 auto}.tool-header {background:white;border-radius:var(--border-radius-lg);padding:2rem;margin-bottom:2rem;box-shadow:var(--shadow-lg);position:relative;overflow:hidden}.tool-header::before {content:'';position:absolute;top:0;left:0;right:0;height:4px;background:var(--gradient-secondary)}.tool-main-info {display:flex;align-items:flex-start;gap:2rem;margin-bottom:2rem}.tool-icon-large {width:80px;height:80px;border-radius:16px;object-fit:cover;flex-shrink:0;background:var(--bg-secondary);display:flex;align-items:center;justify-content:center;font-size:2.5rem;box-shadow:0 4px 16px rgba(0,0,0,0.1)}.tool-info {flex:1}.tool-title {font-size:2.2rem;font-weight:800;margin:0 0 0.5rem 0;background:linear-gradient(135deg, var(--text-primary) 0%, var(--primary-color) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.tool-subtitle {font-size:1.1rem;color:var(--text-secondary);margin-bottom:1rem;font-weight:500}.tool-meta {display:flex;gap:1rem;flex-wrap:wrap;align-items:center}.price-badge {display:inline-flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;border-radius:20px;font-weight:600;font-size:0.9rem}.price-free {background:linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);color:#065f46;border:1px solid #a7f3d0}.price-paid {background:linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);color:#92400e;border:1px solid #fde68a}.category-badge {background:var(--bg-secondary);color:var(--text-secondary);padding:0.5rem 1rem;border-radius:20px;font-size:0.9rem;font-weight:500}.action-buttons {display:flex;gap:1rem;margin-top:1.5rem}.btn-primary {background:var(--gradient-secondary);color:white;padding:1rem 2rem;border-radius:25px;text-decoration:none;font-weight:600;display:inline-flex;align-items:center;gap:0.5rem;transition:all 0.3s ease;box-shadow:0 4px 16px rgba(78, 205, 196, 0.3)}.btn-primary:hover {transform:translateY(-2px);box-shadow:0 6px 20px rgba(78, 205, 196, 0.4);text-decoration:none;color:white}.btn-secondary {background:white;color:var(--text-primary);padding:1rem 2rem;border-radius:25px;text-decoration:none;font-weight:600;border:2px solid var(--border-color);transition:all 0.3s ease}.btn-secondary:hover {background:var(--bg-secondary);text-decoration:none;color:var(--text-primary)}.detail-section {background:white;border-radius:var(--border-radius-lg);padding:2rem;margin-bottom:2rem;box-shadow:var(--shadow)}.section-title {font-size:1.4rem;font-weight:700;margin:0 0 1.5rem 0;color:var(--text-primary);display:flex;align-items:center;gap:0.5rem}.description-text {font-size:1.1rem;line-height:1.7;color:var(--text-secondary);margin-bottom:1.5rem}.features-grid {display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:1rem;margin:1.5rem 0}.feature-item {background:var(--bg-secondary);padding:1rem;border-radius:var(--border-radius);border-left:3px solid var(--accent-color);transition:all 0.3s ease}.feature-item:hover {transform:translateX(4px);background:#e0f2fe}.feature-item h4 {margin:0 0 0.5rem 0;color:var(--text-primary);font-size:1rem;font-weight:600}.feature-item p {margin:0;color:var(--text-secondary);font-size:0.9rem;line-height:1.5}.platform-tags {display:flex;gap:0.5rem;flex-wrap:wrap;margin-top:1rem}.platform-tag {background:linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);color:#0369a1;padding:0.5rem 1rem;border-radius:20px;font-size:0.8rem;font-weight:500;border:1px solid #bae6fd}.pros-cons {display:grid;grid-template-columns:1fr 1fr;gap:2rem;margin-top:1.5rem}.pros, .cons {background:var(--bg-secondary);padding:1.5rem;border-radius:var(--border-radius)}.pros {border-left:4px solid #10b981}.cons {border-left:4px solid #f59e0b}.pros h4 {color:#10b981;margin:0 0 1rem 0;font-size:1.1rem;font-weight:600}.cons h4 {color:#f59e0b;margin:0 0 1rem 0;font-size:1.1rem;font-weight:600}.pros ul, .cons ul {margin:0;padding-left:1.2rem}.pros li, .cons li {margin:0.5rem 0;color:var(--text-secondary);line-height:1.5}.related-tools {display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:1rem;margin-top:1.5rem}.related-tool {background:white;border:1px solid var(--border-color);border-radius:var(--border-radius);padding:1rem;transition:all 0.3s ease;text-decoration:none;color:inherit}.related-tool:hover {transform:translateY(-2px);box-shadow:var(--shadow);text-decoration:none;color:inherit}.related-tool h4 {margin:0 0 0.5rem 0;color:var(--text-primary);font-size:1rem}.related-tool p {margin:0;color:var(--text-secondary);font-size:0.9rem}@media (max-width:768px) {.tool-main-info {flex-direction:column;text-align:center}.pros-cons {grid-template-columns:1fr}.action-buttons {flex-direction:column}.detail-container {padding:1rem}.tool-header, .detail-section {padding:1.5rem}}</style>
{% endblock %}

{% block page_title %}{{ resource.title }}{% endblock %}

{% block content %}
<div class="detail-container"><!-- 工具头部信息 --><div class="tool-header"><div class="tool-main-info"><div class="tool-icon-large">
                {% if resource.thumbnail %}
                    <img src="{{ resource.thumbnail }}" alt="{{ resource.title }}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 16px;">
                {% else %}
                    {% if resource.resource_type == 'tool' %}🛠️
                    {% elif resource.resource_type == 'design' %}🎨
                    {% elif resource.resource_type == 'ai' %}🤖
                    {% elif resource.resource_type == 'course' %}🎓
                    {% elif resource.resource_type == 'video' %}📺
                    {% elif resource.resource_type == 'article' %}📄
                    {% elif resource.resource_type == 'book' %}📚
                    {% elif resource.resource_type == 'github' %}💻
                    {% elif resource.resource_type == 'website' %}🌐
                    {% else %}📋{% endif %}
                {% endif %}
            </div><div class="tool-info"><h1 class="tool-title">{{ resource.title }}</h1>
                {% if resource.short_description %}
                    <p class="tool-subtitle">{{ resource.short_description }}</p>
                {% endif %}
                
                <div class="tool-meta">
                    {% if resource.is_free %}
                        <span class="price-badge price-free">💚 免费使用</span>
                    {% else %}
                        <span class="price-badge price-paid">💰 {{ resource.price_info|default:"付费工具" }}</span>
                    {% endif %}
                    
                    <span class="category-badge">📂 {{ resource.category.name }}</span><span class="category-badge">🏷️ {{ resource.get_resource_type_display }}</span></div></div></div><div class="action-buttons"><a href="{{ resource.url }}" target="_blank" rel="noopener" class="btn-primary">
                🚀 立即访问官网
            </a><a href="{% url 'resource_aggregator:list' %}" class="btn-secondary">
                ← 返回工具箱
            </a></div></div><!-- 详细描述 --><div class="detail-section"><h2 class="section-title">📝 详细介绍</h2><p class="description-text">{{ resource.description }}</p>
        
        {% if resource.usage_tips %}
            <h3 class="section-title">💡 使用技巧</h3><p class="description-text">{{ resource.usage_tips }}</p>
        {% endif %}
    </div><!-- 功能特性 -->
    {% if resource.features %}
        <div class="detail-section"><h2 class="section-title">⚡ 主要功能</h2><div class="features-grid">
                {% for feature in resource.features %}
                    <div class="feature-item"><h4>✨ {{ feature }}</h4><p>核心功能特性，提升工作效率</p></div>
                {% endfor %}
            </div></div>
    {% endif %}
    
    <!-- 平台支持 -->
    {% if resource.platform_support %}
        <div class="detail-section"><h2 class="section-title">📱 支持平台</h2><div class="platform-tags">
                {% for platform in resource.platform_support %}
                    <span class="platform-tag">{{ platform }}</span>
                {% endfor %}
            </div></div>
    {% endif %}
    
    <!-- 优缺点分析 -->
    {% if resource.pros_cons %}
        <div class="detail-section"><h2 class="section-title">⚖️ 优缺点分析</h2><div class="pros-cons">
                {% if resource.pros_cons.pros %}
                    <div class="pros"><h4>👍 优点</h4><ul>
                            {% for pro in resource.pros_cons.pros %}
                                <li>{{ pro }}</li>
                            {% endfor %}
                        </ul></div>
                {% endif %}
                
                {% if resource.pros_cons.cons %}
                    <div class="cons"><h4>👎 缺点</h4><ul>
                            {% for con in resource.pros_cons.cons %}
                                <li>{{ con }}</li>
                            {% endfor %}
                        </ul></div>
                {% endif %}
            </div></div>
    {% endif %}
    
    <!-- 相关工具推荐 -->
    {% if related_resources %}
        <div class="detail-section"><h2 class="section-title">🔗 相关工具推荐</h2><div class="related-tools">
                {% for related in related_resources %}
                    <a href="{% url 'resource_aggregator:detail' related.id %}" class="related-tool"><h4>{{ related.title }}</h4><p>{{ related.short_description|default:related.description|truncatechars:60 }}</p></a>
                {% endfor %}
            </div></div>
    {% endif %}
</div>
{% endblock %}
